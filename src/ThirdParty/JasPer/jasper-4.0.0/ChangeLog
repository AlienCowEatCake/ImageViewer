commit 402d096b39f4f618ad9e6ff2b4fc1b5eb260a2e4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:   Sat Nov 5 10:06:53 2022 -0700

    Bumped the version number and updated the NEWS document.

M	CMakeLists.txt
M	NEWS.txt

commit ec4d0223f08f4555283d739abc6ba71e8e751039
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 23:57:25 2022 -0700

    Made a number of improvements to the test scripts.
    Added a hack to the build_all script for the case of
    building with Clang on Ubuntu.

M	build/build_all
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_5
M	test/bin/run_test_imginfo

commit e54c63858308c5f7c0433ab099527cdecc41c0b4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 22:31:38 2022 -0700

    Made a number of improvements to the test scripts.
    Fixed a typo in the top-level CMakeLists.txt file.

M	CMakeLists.txt
M	test/bin/jpdec
M	test/bin/jpenc
M	test/bin/run_codec_test
M	test/bin/run_conformance_tests
M	test/bin/run_mem_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_5
M	test/bin/run_test_imginfo
M	test/bin/utilities

commit 37f90268a7c8e54759987dd511246517b97de7a2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 22:14:13 2022 -0700

    Made some experimental changes to a GitHub Actions workflow.

M	.github/workflows/ci.yml

commit d36e0377b1c50d7ff0852c1a2b1c4a2f5699267a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 22:01:47 2022 -0700

    Change the build script to print the value of the CXX
    environment variable.

M	build/build

commit 2468aac7685039c07ff7df9010c0399239861bbc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 21:54:51 2022 -0700

    Made some experimental changes to a GitHub Actions workflow.

M	.github/workflows/ci.yml

commit 4ce3ce84d76240b1ef2931387413c410953bd0aa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 18:45:23 2022 -0700

    Updated the NEWS document.

M	NEWS.txt

commit e97639fe47faed62703ba47c1071b91e3d76eb41
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 18:13:53 2022 -0700

    Fixes #342, #343, #344.

    Some command-line options for the jasper, imginfo, imgcmp, and jiv
    programs (that are not deemed to be for internal use only) were not
    documented in the manual.  Descriptions for these options have
    now been
    added to the manual.

    The help information message printed by each of the jasper, imginfo,
    imgcmp, and jiv programs has been improved.  A mention of the URL
    for the
    online documentation is now included in all help messages.	A comment
    has also been added indicating that not all options are listed in the
    help message and that the manual should be checked for a complete list
    of options (excluding, of course, the ones that are deemed to be for
    internal use only and are deliberately undocumented).

M	doc/src/apps_imgcmp.dox
M	doc/src/apps_jiv.dox
M	src/app/imgcmp.c
M	src/app/imginfo.c
M	src/app/jasper.c
M	src/app/jiv.c
M	src/libjasper/include/jasper/jas_version.h

commit 34faad593c872e6a7a88f25f86337d26280c3df1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 3 13:01:03 2022 -0700

    Fixes #345.

    Fixed a bug in the PNM decoder caused by integer overflow.
    Added some functions for performing safe 32-bit unsigned integer
    arithmetic.
    Added the JAS_ATTRIBUTE_CONST and JAS_ATTRIBUTE_PURE to some math
    functions.

A	data/test/bad/345-0.pnm
A	data/test/bad/345-1.pnm
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/pnm/pnm_dec.c

commit 6663250088ece915836dcaece4a18131d046138c
Merge: 40cf600 b9631a1
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Sep 19 18:02:48 2022 +0200

    Merge pull request #341 from Biswa96/pkgconfig-requires-private

    pkgconfig: Add Requires.private field for static linking

commit b9631a160de3237d851ccbd53d66eb601968ff89
Author: Biswapriyo Nath <nathbappai@gmail.com>
Date:	Mon Sep 19 20:27:46 2022 +0530

    pkgconfig: Add Requires.private field for static linking

    Requires.private field is required to link dependent libraries
    while static linking. For example, here libjpeg and libheif.
    `pkgconf -libs -static` command will show the dependent libraries.
    This helps to manage the dependent libraries automatically in build
    system without adding them explicitly while static linking.
    More information about this feature can be found here
    https://people.freedesktop.org/~dbn/pkg-config-guide.html

M	CMakeLists.txt
M	build/jasper.pc.in

commit 40cf600848cb07b604ba81c9b31b0f1d4e395bac
Merge: 2b784e4 8442158
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:37:24 2022 -0700

    Merge pull request #339 from jasper-software/rel307

    Update NEWS file in preparation of next release

commit 8442158424fdfa5f7676e41c81c8ed66986f8d56
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Fri Sep 16 14:04:17 2022 +0200

    Update NEWS file in preparation for next release

M	NEWS.txt

commit 2b784e4767784500883ae5f1ab342986bcee4ca0
Merge: 0c2a927 b04f8a2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 18 22:25:58 2022 -0700

    Merge pull request #336 from Biswa96/pkgconfig-cflags-private

    pkgconfig: Add Cflags.private field for static linking

commit b04f8a2daa2f4cf3715dc698e7e4d5942866d68b
Author: Biswapriyo Nath <nathbappai@gmail.com>
Date:	Wed Aug 24 21:22:19 2022 +0530

    pkgconfig: Add Cflags.private field for static linking

    This defines LIBJASPER_STATIC_DEFINE when static linking is expected.
    The Cflags.private field depends on pkgconf rather than pkg-config.
    Without this change, linker finds exported APIs with dllimport and
    it produces the error:

    ld.exe: test_1.c:(.text+0x2b): undefined reference to
    `__imp_jas_get_total_mem_size'
    ld.exe: test_1.c:(.text+0x4b): undefined reference to
    `__imp_jas_optarg'
    and more.

    Result of this change:

    * Before:
    $ pkgconf -cflags -static jasper
    -IF:/msys64/ucrt64/include/jasper -IF:/msys64/ucrt64/include

    * After:
    $ pkgconf -cflags -static jasper
    -IF:/msys64/ucrt64/include/jasper -IF:/msys64/ucrt64/include
    -DLIBJASPER_STATIC_DEFINE

M	build/jasper.pc.in

commit 0c2a927c530d18a706ace73536f347354ca3d957
Merge: 75c5cec 411c81a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 24 07:37:48 2022 -0700

    Merge pull request #335 from Biswa96/pkgconfig-path-relocate

    pkgconfig: Add missing prefix field

commit 411c81a90d0f91e80983f85041015e220f180f41
Author: Biswapriyo Nath <nathbappai@gmail.com>
Date:	Wed Aug 24 12:11:59 2022 +0530

    pkgconfig: Add missing prefix field

    This fixes path relocation in mingw environment. For example,

    * Before:
    $ pkgconf -cflags jasper
    -I/ucrt64/include/jasper -IF:/msys64/ucrt64/include

    * After:
    $ pkgconf -cflags jasper
    -IF:/msys64/ucrt64/include/jasper -IF:/msys64/ucrt64/include

M	build/jasper.pc.in

commit 75c5cecb20a67101eddc189f373efefcd431b71c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 30 13:29:10 2022 -0700

    Modified the sysinfo script to better detect various OSes.

M	build/sysinfo

commit 8ff64591c153ab41dde35317fe9a63910a9dce72
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 30 11:56:10 2022 -0700

    Added some extra information logging in the build and build_all
    scripts.
    Changed the format of a log message in the JPC codec.
    Added -I and -X options to the run_codec_test script in order to allow
    explicit inclusion and exclusion of tests.
    Disabled the sgn_1 test in the run_test_3 script on Windows.
    Added a new script called sysinfo for obtaining platform-specific
    information.

M	build/build
M	build/build_all
A	build/sysinfo
M	src/libjasper/jpc/jpc_enc.c
M	test/bin/run_codec_test
M	test/bin/run_test_3

commit 5cc343fd839d28645396437f7ed6bead4ac13ad9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 30 09:23:50 2022 -0700

    JPC Codec:
    Added more information to a log message in the JPC encoder.

M	src/libjasper/jpc/jpc_enc.c

commit 815e3bf29b6362288507206b110b4623d434cc01
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 30 08:19:26 2022 -0700

    Added the --out-dir option to the build script.
    Made a few code changes in an attempt to eliminate some compiler
    warnings
    in the case of MSVC on Windows.

M	build/build
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/pgx/pgx_enc.c

commit 5d6db116623b16e295ad04a3608a262e502b1baf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 29 23:07:16 2022 -0700

    Made several code changes in order to prevent some compiler
    warnings in
    the case of MSVC on Windows.

M	CMakeLists.txt
M	src/libjasper/base/jas_image.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/pgx/pgx_enc.c

commit 7ea30054f420046596e9b9d78e90d4011a901ccf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 29 20:52:23 2022 -0700

    Corrected some inconsistent choices of integral types used for
    fixed-point
    representations (which causes portability problems).

M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_fix.h

commit 1772294a59cbbb88f1251e876da8a9007dae9451
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jul 25 10:45:59 2022 -0700

    JPC/JP2 Codec:
    Changed the manner in which the parameters of the fixed-point
    representation used in the codec are specified.
    Changed the default settings for these parameters to ensure that the
    implementation can pass the JPEG-2000 conformance tests (with
    the caveat
    that reduced resolution reconstructions are not currently supported so
    tests requiring this functionality simply cannot be run).

M	CMakeLists.txt
M	src/libjasper/jpc/jpc_fix.h

commit 098db6fec6c982bc91ad5898f7deea225670827f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jul 25 07:24:35 2022 -0700

    Changed the run_conformance_tests script to obtain the JPC/JP2
    codestreams
    for JPEG-2000 conformance testing from the WG1 GitLab repository.

M	src/app/CMakeLists.txt
M	test/bin/run_conformance_tests

commit 270000671d4f411fe7e65c7bc02fd6ff14dd6946
Merge: 71d9331 d99636f
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Jul 25 10:44:23 2022 +0200

    Merge pull request #333 from xiaoxiaoafeifei/master

    fix memory leaks in function cmdopts_parse

commit 71d93313c9ee37b15ae72289b0793cc53e747a38
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 24 21:52:21 2022 -0700

    JPC/JP2 Codec:
    Added descriptions for some new conformance tests and updated the
    descriptions for some of the old ones.
    Made a few improvements to the run_conformance_tests script (e.g.,
    changed the script to skip tests that require resolution reduction
    since
    the JPC decoder does not support this).

    JPC/JP2 Codec:
    Fixed a regression in the jpc_pi_nextcprl function.  This regression
    would cause some valid JPC/JP2 codestreams to be rejected.

M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c
R078	test/bin/decoder_tests	test/bin/conformance_tests
M	test/bin/run_conformance_tests

commit d99636fad60629785efd1ef72da772a8ef68f54c
Author: zhailiangliang <zhailiangliang@loongson.cn>
Date:	Wed Jul 20 08:58:31 2022 +0000

    fix memory leaks in function cmdopts_parse

M	src/app/jasper.c

commit 402de0aee7c12f1b4070a0ab2476e1c112fbe62c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 17 14:44:41 2022 -0700

    Made a few improvements to the run_conformance_tests script.

M	src/app/CMakeLists.txt
M	test/bin/decoder_tests
M	test/bin/run_conformance_tests
M	test/bin/utilities

commit f14b2d247a46690ee930fe55f5992cabcb3d41be
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 17 11:53:35 2022 -0700

    Made a few minor improvements to the run_conformance_tests script.

M	test/bin/run_conformance_tests

commit 460c7927ca6469095b6a7d1067d86680c5ec7770
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 17 11:52:11 2022 -0700

    imgcmp Program:
    Fixed a minor bug that would cause an infinite metric value to be
    printed only as a very large number (FLT_MAX) instead of as "inf".

M	src/app/imgcmp.c

commit 971c7d48de9952dd91cb37b79b1c38e1c946b0f2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 16 12:20:57 2022 -0700

    Made some changes to the build process in an attempt to fix a build
    issue with Clang on Ubuntu.

M	CMakeLists.txt
M	build/build
M	build/build_all

commit b80ee3ba67c9d52b507219426001d214a35e407a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 16 08:44:26 2022 -0700

    Enabled building with PIC in order to try to resolve a build
    issue with
    Clang on Ubuntu.

M	CMakeLists.txt

commit dfadaf416158e58b1725999f932437ec5e2e7165
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 16 07:39:35 2022 -0700

    Disabled a hack to workaround a GitHub CI build issue.

M	build/build_all

commit 8b77319410042d7e21409447c39fbb7782f9c665
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 23:23:53 2022 -0700

    JPC Codec:
    More experimenting with the JPC_FIX_FRACBITS parameter of the
    fixed-point
    representation.

M	src/libjasper/jpc/jpc_fix.h
M	test/bin/decoder_tests

commit 012c4f42482dcb9bf6f965ee9e337ff1acba3006
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 21:31:53 2022 -0700

    JPC Codec:
    Further experimenting with the JPC_FIX_FRACBITS parameter of the
    fixed-point representation.

M	CMakeLists.txt
M	src/libjasper/jpc/jpc_fix.h

commit 46b5c14b33b7b0955855b09cf99f60c85d9e2ef2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 20:38:14 2022 -0700

    JPC Codec:
    Further experimenting with the JPC_FIX_FRACBITS parameter of the
    fixed-point representation.

M	src/libjasper/jpc/jpc_fix.h

commit 0ad67b4e865e08e392694e9af1e498d19ae86b85
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 17:32:06 2022 -0700

    JPC Codec:
    Made further adjustments to the JPC_FIX_FRACBITS parameter of the
    fixed-point representation.

    Disabled some conformance tests that would fail with the new choice
    of JPC_FIX_FRACBITS.

M	src/libjasper/jpc/jpc_fix.h
M	test/bin/decoder_tests
M	test/bin/run_conformance_tests
M	test/bin/utilities

commit 76c3fa3d48d7092c4834712787196dbd48c70379
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 16:53:24 2022 -0700

    JPC Codec:
    Changed the JPC_FIX_FRACBITS parameter used to determine the position
    of the radix point in the fixed-point representation.  This was
    done in
    order to satisfy some error thresholds specified in ISO/IEC 15444-4.

    Changed the build process so that the exit status of the
    run_conformance_tests script is no longer ignored.	(Previously, the
    exit status had been deliberately ignored.)

M	build/github/prebuild-v2
M	src/app/CMakeLists.txt
M	src/libjasper/jpc/jpc_fix.h
M	test/bin/run_conformance_tests

commit 0bbce180111ee5cafc7bd360a970db74ff1ae8b1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 14:43:15 2022 -0700

    Fixed a GitHub CI issue.

M	build/github/prebuild-v2

commit 6e000fc8927c38dfe7336078ebd1b17f7fc30e43
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 15 14:38:41 2022 -0700

    Added the CMake build option JAS_ENABLE_CONFORMANCE_TESTS for enabling
    conformance tests.
    Changed the build scripts to allow for conformance tests to be
    enabled.
    Made some changes/corrections to the conformance-test database.

    jasper Program:
    Added the --quiet option to the jasper program to allow the verbosity
    of program output to be reduced.

M	CMakeLists.txt
M	build/build
M	build/build_all
M	build/github/prebuild-v2
M	src/app/CMakeLists.txt
M	src/app/jasper.c
M	test/bin/decoder_tests
R083	test/bin/run_test_4	test/bin/run_conformance_tests

commit 4e19b2bde2188d68e22a7516b1b0a422c1da09fe
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jul 14 20:58:52 2022 -0700

    Testing Scripts:
    Made a few small improvements to the run_test_4 script.
    Added a few more conformance tests.

M	test/bin/decoder_tests
M	test/bin/run_test_4

commit db967c16d1b840ebd86ca9969fb59a032de4277e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jul 14 20:13:26 2022 -0700

    imgcmp Program:
    Added the quiet (-q) and debug-level (--debug-level) options to the
    imgcmp program.  Also, fixed a memory leak that can occur when the
    program terminates due to an error.

    imginfo Program:
    Added the quiet (-q) option to the imginfo program.

    JPC/JP2 Codec:
    Added some more calls for log message generation.

    PGX Codec:
    Fixed an apparent bug in the parsing of the PGX header.

    Testing Scripts:
    Revised the run_test_4 script (which is used for conformance testing).

M	src/app/imgcmp.c
M	src/app/imginfo.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2cod.h
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/pgx/pgx_dec.c
M	test/bin/decoder_tests
M	test/bin/run_test_4
M	test/bin/utilities

commit 6d2a339fa18a4dad0ac19aafad7646cb099c7aae
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jul 13 08:13:22 2022 -0700

    Bumped the version number and updated the NEWS document.

M	CMakeLists.txt
M	NEWS.txt

commit c77a491a8ef8ce0811161a86ff694ce9dba33f22
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jul 13 08:11:07 2022 -0700

    Fixed an apparent typo in the deploy_gh_pages script.

M	build/github/deploy_gh_pages

commit 7a77a00ce0a6e9388e6dcd041eaea7030cb084cd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 23 09:09:12 2022 -0700

    Changed the build script so that it automatically disables the
    building
    of the documentation on the Windows platform.

M	build/build

commit a0dbf66af3a1eb47e4f744e8242597aea5f24a3d
Merge: 2f472a1 3a4e0d4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 23 07:12:55 2022 -0700

    Merge pull request #329 from jubalh/305-changelog

    Add PR number to NEWS

commit 3a4e0d4458bab75d369da65d6d0d64e2c482f369
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Thu Jun 23 16:04:14 2022 +0200

    Add PR number to NEWS

    For users who are interested in reading up on the details.

M	NEWS.txt

commit 2f472a1d7f3faa213bc826ae258768d849964cfe
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 23 06:58:55 2022 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS.txt

commit 2c6d9fefe005970c2bcd64830aae4db60addd9d4
Merge: 6a5d65a 565d09d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 23 06:53:02 2022 -0700

    Merge pull request #328 from theta682/fix-embedded-build

    Allow building inside another project

commit 565d09de7061f29cd611374b67141899b7541380
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Mon Jun 20 11:20:09 2022 +1200

    Allow building inside another project

M	build/cmake/modules/JasGetStdcVersion.cmake

commit 6a5d65aef9c80e6accbfa52e70f89fb29bc89838
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 2 21:10:20 2022 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS.txt

commit 8138231d3caf95000cff7e1df86c10d0ce8db223
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 2 18:45:27 2022 -0700

    Eliminated a few calls to the abort function.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/bmp/bmp_cod.c
M	src/libjasper/bmp/bmp_dec.c

commit f8809df1965a5eee1c73ffea7174689031d03ed2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 2 18:03:32 2022 -0700

    Added another test image and test case.

A	data/test/other/pr325-bad-icc-profile.jp2
M	test/bin/run_test_imginfo

commit 8056c8eeb17e9e0240abf42e0baaa317419980bb
Merge: 77d1fd0 07856c3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 2 17:23:01 2022 -0700

    Merge pull request #325 from theta682/relax-icc-validation

    Don't crash the application if ICC color profile is incorrect

commit 07856c3155f463ec4f4dc5608720e00dde00069d
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Wed Jun 1 12:38:33 2022 +1200

    Don't crash the application if ICC color profile is incorrect

    Incorrect ICC color profile should not kill the application.
    Just report an issue and continue. It is not a critical issue.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/jp2/jp2_dec.c

commit 77d1fd04632ca85340101f1418b0f06687fcf5a3
Merge: 5e45df4 bd909b4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon May 30 09:46:54 2022 -0700

    Merge pull request #324 from jubalh/fix/323-value

    Fix value in jas_safeui64_div

commit bd909b4479c5c08b9592cb33a8bbc2066de9e45c
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon May 30 18:19:48 2022 +0200

    Fix value in jas_safeui64_div

    y.valid was used where we wanted y.value.

    It got introduced with commit def49688. So JasPer versions affected
    are: 3.0.0 until 3.0.3.

    Fix https://github.com/jasper-software/jasper/issues/323

M	src/libjasper/include/jasper/jas_math.h

commit 5e45df490870073c9f38785724959c1a429e95a0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu May 12 22:37:38 2022 -0700

    Eliminated the use of Travis CI for CI functionality, since GitHub
    Actions is now used for this purpose.

D	.travis.yml

commit 411571cf8f341c4b4e01bc2fe5c68f5127ecdc02
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Apr 8 09:22:54 2022 -0700

    Added some additional logging to the color-management code.

M	src/libjasper/base/jas_cm.c

commit 6b13436680733fd9c3963ded91667a46b8e6771d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 22 19:03:53 2022 -0700

    Removed a dependence on a nonstandard language extension in the
    JP2 codec.

M	src/libjasper/jp2/jp2_dec.c

commit 4dc8415170657fc56545c05e077ff467b79b0a2b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 22 18:12:10 2022 -0700

    Added the (conditional) printing of several log messages in the code.

M	src/libjasper/base/jas_image.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/ras/ras_dec.c

commit bc34e551a3ac5572d3a7e6767b729296c29d2c51
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 22 17:27:06 2022 -0700

    Fixed some issues with the integral types used internally by
    jas_stream_peek.
    Made some mostly cosmetic changes to the JP2 decoder.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/jp2/jp2_dec.c

commit 482c64058c6227fe65a23130cc00c30a0774dd56
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 22 16:19:06 2022 -0700

    Added more information to a log message for the JP2 decoder.

M	src/libjasper/jp2/jp2_dec.c

commit 38ee384c825076834d7ee83655f8bc6af38e5b36
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Mar 16 10:44:58 2022 -0700

    Fixes #321.

    An invocation of JAS_UNUSED was misplaced in one function, which might
    cause some compilers to generate a warning.  This has now been fixed.

M	src/libjasper/base/jas_cm.c

commit 020ec588d59d6ef13aef73aa0d86343ddda600b5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 15 00:45:37 2022 -0700

    Updated the NEWS document.
    Bumped the version number.

M	CMakeLists.txt
M	NEWS.txt

commit 9fd150d68bdec00c638690887654ff58b6a9959b
Merge: cd9273c 3b45402
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Feb 18 17:51:39 2022 -0800

    Merge pull request #320 from diizzyy/bash-path

commit cd9273c65ad4b885f97b358ae748528c9057798c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Feb 18 17:27:07 2022 -0800

    Changed the GitHub Actions ci workflow to also run on pull_request
    events.

M	.github/workflows/ci.yml

commit 3b45402e1fa273c01b38c559deb14c18f5fb73ff
Author: Daniel Engberg <daniel.engberg.lists@pyret.net>
Date:	Sat Feb 19 00:23:09 2022 +0100

    Use #!/usr/bin/env bash shebang for test binaries

    Use a non hardcoded path to bash for all test binaries

M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc
M	test/bin/run_codec_test
M	test/bin/run_mem_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_3
M	test/bin/run_test_4
M	test/bin/run_test_5
M	test/bin/run_test_imgcmp
M	test/bin/run_test_imginfo
M	test/bin/utilities
M	test/bin/wrapper.in

commit 00786cda659bef967a18555bd904cc36a50ed809
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Feb 14 07:05:43 2022 -0800

    Corrected a typo in the pattern used to identify non-preview releases
    in the deploy_gh_pages script.

M	build/github/deploy_gh_pages

commit 2678639c1f233522819093d128f19a4ac4a5cc03
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Feb 14 06:54:28 2022 -0800

    Bumped the version number and updated the NEWS document.

M	CMakeLists.txt
M	NEWS.txt

commit acfe76d764403aa7351f125717e0eb0384fff85f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Feb 14 06:47:14 2022 -0800

    Added logic to the deploy_gh_pages script to automatically determine
    if
    the "latest" symlink should be updated during deployment.

M	build/github/deploy_gh_pages

commit b8ecbfbf293ee6086e4d40108ad730229388cd8d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 13 06:54:26 2022 -0800

    Added a mechanism for JAS_STDC_VERSION to be set (cleanly) when a
    cross-compiler is used.

M	CMakeLists.txt

commit 901f295e974b827e925e8b943380abffd0845adf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 14:22:36 2022 -0800

    Changed the GitHub Actions deploy_manual and release workflows to use
    on-push.

M	.github/workflows/deploy_manual.yml
M	.github/workflows/release.yml

commit 594162cf2225926895f8f98380d1d6926dbb1845
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 13:11:04 2022 -0800

    Made some improvements to the build_all script.

M	build/build_all

commit 091d019c17740266f26b75356f86fb86df5b2377
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 12:49:32 2022 -0800

    Bumped the version number and updated the NEWS document.

M	CMakeLists.txt
M	NEWS.txt

commit 606e5852c90d919d3b5504e65157117fd842e543
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 11:38:15 2022 -0800

    Enabled some CI tests that were disabled on MacOS.

M	build/build_all

commit 19aae6412e7abf2defdc11a156cc76675a074348
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 11:27:38 2022 -0800

    Fixed a typo in the build_all script.

M	build/build_all

commit 9ae2abfc34dfc9ada845b06973a3cf39d85c3a17
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 10:41:49 2022 -0800

    Added a temporary hack to workaround a build problem when C++
    test code
    is built in the GitHub Actions CI framework with Clang on Ubuntu.

M	build/build_all

commit d2351c928bb59ab11873dc1e9dcd2d8f815e05b6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 10:17:39 2022 -0800

    Modified the build_all script so that all tests are always run.

M	CMakeLists.txt
M	build/build_all

commit 39047be58de0f7f1e58b9866ef7f78722fba9bf1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 07:36:21 2022 -0800

    Fixes #318.

    Eliminated the use of "class" as an identifier, as this will
    clearly cause
    problems if JasPer headers are used in C++ source code.

    In order to catch incompatibilities with C++ in the future, a
    trivial C++
    test program has been added.
    The CMake build process was adjusted to (optionally) allow the use
    of a
    C++ compiler.
    Each use of add_compile_options that sets C compiler options was
    changed
    to use a new function called add_c_compile_options that only sets
    options
    for the C compiler.
    Some changes to the CMake module for code sanitizers were made in
    order to
    handle the C++ compiler case.
    Several new options were added to the build script.

M	CMakeLists.txt
M	build/build
M	build/build_all
M	build/cmake/modules/Sanitizers.cmake
M	src/app/CMakeLists.txt
A	src/app/test_2.cpp
M	src/libjasper/include/jasper/jas_log.h

commit 2c3517f528f6ffd5f8ce4af604c8cdc558d0bf1d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 12 05:44:51 2022 -0800

    Fixes #317.

    Changed two occurrences of WIN32 to _WIN32 in the I/O stream code.

M	src/libjasper/base/jas_stream.c

commit fd08e1778e5c19fb0ef4d231490bbf3b7b66fa72
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Feb 7 05:13:57 2022 -0800

    Changed the top-level CMakeLists.txt file to print the CMake version
    being used.

M	CMakeLists.txt

commit df22a3c8c32d51255a6a3eacbc61a1c2bee33340
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Feb 7 05:02:51 2022 -0800

    Removed some extra double quotes from the top-level CMakeLists.txt
    file.

M	CMakeLists.txt

commit 1d50ee8b3fb5189cfa61550aa40fb93c99ba2f6c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 6 11:27:32 2022 -0800

    Changed the make_main_gh_page script so that the latest version is
    explicitly identified and the entries are listed in reverse order.

M	build/github/make_main_gh_page

commit 6708e57d2b95158dc3774dfa2effdbc67a0c752e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 15:24:56 2022 -0800

    Changed the GitHub Actions CI deploy_manual workflow to specify
    on-create.

M	.github/workflows/deploy_manual.yml

commit 87e327003499bae0ecaf211d4fc1f04f1f15bf0d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 15:13:16 2022 -0800

    Changed the GitHub Actions release workflow to specify on-create.

M	.github/workflows/release.yml

commit 9bdf1ddaa05d824c69c6b239a3642105c6458b34
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 13:05:54 2022 -0800

    Updated a date in the NEWS document.

M	NEWS.txt

commit 7125722eab46612bbde8759d47c650146866deb9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 13:00:12 2022 -0800

    Revised the man pages for the various JasPer application programs.

M	src/app/imgcmp.1
M	src/app/imginfo.1
M	src/app/jasper.1
M	src/app/jiv.1

commit 56dce6bedac53b1b39a3e419dd2ffbdf6a2b6132
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 12:11:41 2022 -0800

    Made a few improvements/corrections to the documentation.

M	NEWS.txt
M	doc/src/overview.dox.in
M	src/libjasper/include/jasper/jas_debug.h

commit a3721e0352cb2765010eff90f201a093ca2c973e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Feb 5 07:43:15 2022 -0800

    Made some changes to the manner in which the max_align_t and ssize_t
    types are handled.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_types.h

commit 09d5bbc7a71bf99a870a62adff73633e8815a2f9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 20:06:13 2022 -0800

    Added the CMake function jas_check_type to provide a more convenient
    interface to the check_type_size function.
    Eliminated the jas_ssize_t type and the JAS_SSIZE_MAX constant.

M	CMakeLists.txt
A	build/cmake/modules/JasCheckType.cmake
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/jp2/jp2_cod.c

commit 6447bd695b8157b3a66657383112454d802b408f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 16:05:01 2022 -0800

    Disabled the setting of the CMake policy CMP0115 (since it is
    relatively
    new and appears to cause problems for older versions of CMake).

M	CMakeLists.txt

commit fae1ee3a465a7ea5df19916dd5acb9720eb71e01
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 15:52:09 2022 -0800

    Updated the date for the 3.0.0 release in the NEWS document.

M	NEWS.txt

commit 4df33b36afcf5938993911064d5c1b3cf244bacc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 15:46:21 2022 -0800

    Revised the remove list in the make_release script.

M	build/make_release

commit e61d4e8262f57f64e8497010844231b56fe46067
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 15:05:02 2022 -0800

    Removed the PDF file containing the obsolete document titled "JasPer
    Software Reference Manual (Version 1.900.0)" (dated 2006-12-07),
    as this
    document is completed replaced by the Doxygen-generated manual.

M	doc/CMakeLists.txt
M	doc/README.txt
D	doc/jasper.pdf

commit 8681af6a88755f34e9b41304e8329a4f1301bf59
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 14:49:29 2022 -0800

    Changed a few key compiler flags to be set via CMAKE_C_FLAGS instead
    of via add_compile_options.
    Removed the use of _POSIX_C_SOURCE in a few places.

M	CMakeLists.txt
M	src/app/multithread.c
M	src/libjasper/include/jasper/jas_config.h.in

commit dce2969406d2812950f8ae73f875936b171fa63b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 13:09:20 2022 -0800

    Set CMAKE_C_EXTENSIONS to ON.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_string.h

commit 36e650b6ee4b60d50429902ed570c729cfe66aed
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 12:16:47 2022 -0800

    Set CMAKE_C_EXTENSIONS to OFF.
    Added a preprocessor definition of _POSIX_C_SOURCE in a few places.
    Added the -Wpedantic and -Werror options to some of the compile tests
    to prevent failures due to compiler warnings when later building the
    real code.

M	CMakeLists.txt
M	src/app/multithread.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_types.h

commit 317fa63ea61fbc86d7e40c7343caf8bcc17a4943
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 10:19:54 2022 -0800

    Added special case handling of max_align_t for Windows.

M	src/libjasper/include/jasper/jas_types.h

commit 424afcdfd203b4b900560e92a8d8ea0cdc39d686
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 10:13:43 2022 -0800

    Changed the print_stdc program to print a version of 0 when the
    version cannot be determined.
    Used a define instead of a typedef for max_align_t in the
    jas_types.h header.
    Added a -h option to the build_all script for printing usage
    information.

M	CMakeLists.txt
M	build/build_all
M	build/cmake/src/print_stdc.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_types.h

commit d4540c93df4a50b641be3dddead91cd5b211d5ff
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 09:50:27 2022 -0800

    Changed the handling of max_align_t in an attempt to fix a Windows
    build problem.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_types.h

commit 37da135dd620ae573866c73ce361b67fe4ed2464
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 09:09:08 2022 -0800

    Removed the jas_max_align_t type.

M	CMakeLists.txt
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_types.h

commit 69181807bbdad0c750a85b461399cb9fac43f8fc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 08:35:02 2022 -0800

    Removed the jas_uintmax_t and jas_intmax_t types.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_types.h

commit 5a720e7aaa2f54774dc1a7163add6bae668aead8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 08:08:25 2022 -0800

    Fixed a build problem caused by pre-C99 compilers.

M	build/cmake/src/print_stdc.c

commit 656d84a81937b8a004a70103c18360b1b79d4e60
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Feb 3 07:58:59 2022 -0800

    Changed the build process to record the version of the C standard
    against
    which JasPer was built.
    Modified the JasPer headers so that a warning will be generated if the
    headers are used to build against an older version of the C standard
    than what was used to build JasPer.

M	CMakeLists.txt
A	build/cmake/modules/JasGetStdcVersion.cmake
A	build/cmake/src/print_stdc.c
M	src/libjasper/include/jasper/jas_config.h.in

commit 1a076bb1aa0afe9fcdd09339989b9eea61a90d08
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 30 14:06:10 2022 -0800

    Renamed jas_logtype_get_class and jas_logtype_get_priority to
    jas_logtype_getclass and jas_logtype_getpriority, respectively.
    Renamed jas_string_tokenize to jas_stringtokenize.

    Added support for HEIC encoding of grayscale images.
    Fixed a bug in jas_heic_validate.

    Added the --enable-all-formats option to the jasper and imginfo
    programs.
    Added the --max-samples and --enable-all-formats options to the
    jiv program.
    Changed the default maximum number of samples for decoding to be
    unlimited.

    Added some code documentation.

M	NEWS.txt
M	doc/src/codecs.dox
M	doc/src/lib_log.dox
M	doc/src/lib_string.dox
M	src/app/imginfo.c
M	src/app/jasper.c
M	src/app/jiv.c
M	src/app/test_1.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/heic/heic_dec.c
M	src/libjasper/heic/heic_enc.c
M	src/libjasper/heic/heic_val.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_version.h

commit 441d8f2bf8f2bc5645055fca4f2577996a7e9d17
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 28 09:07:32 2022 -0800

    Added a log message to the jas_init_library function that shows the
    library version.
    Added support in the jas_get_total_mem_size function for generic Unix
    platforms.

M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c

commit 5b06931c8a08bc06d305d831ea23da3162fedc1b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jan 27 23:30:33 2022 -0800

    Added JP2 versions of the goldenears and goldenears_gray images.

A	data/images/goldenears.jp2
A	data/images/goldenears_gray.jp2

commit 73d02ec44792655ebc20cd888c821ad5b0522c20
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jan 27 23:24:18 2022 -0800

    Fixed a bug in the I/O streams code related to the handling of
    the FILE
    (i.e., C standard library stream) type of file object.  This bug can
    result losing characters at/near the end of file.

M	src/libjasper/base/jas_stream.c

commit 26da5104642725b638ff73517897f99619b126ce
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jan 27 11:13:36 2022 -0800

    Added the --debug-level option to the jiv program.

M	src/app/jiv.c

commit 449c4a9eb9030eb6cdb37f976c3f8d6a6ac05c84
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jan 27 10:49:24 2022 -0800

    Added the generation of more log messages in the JPC decoder.
    Fixed a typo in a string constant.

M	src/libjasper/base/jas_debug.c
M	src/libjasper/jpc/jpc_t2dec.c

commit 7061c3b8c319bfbc2cecd06148f648f4f5e5cb12
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jan 26 08:12:30 2022 -0800

    Reverted the change of the return type of the jas_stream_copy
    function,
    since the change of the return type does not make sense unless the
    function is also changed to return the number of characters copied.

    Added some information to the installation section of the manual.
    Corrected a typo in the documentation.

M	doc/src/install.dox.in
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_stream.h

commit 65ee3a02d4148d9890dbbecca1432f10fc886e5c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jan 26 07:47:00 2022 -0800

    Changed the return type of jas_set_debug_level to void to be
    consistent
    with other similar functions in the JasPer library API.
    Changed all uses of jas_getdbglevel and jas_setdbglevel to
    jas_get_debug_level and jas_set_debug_level, respectively.
    Marked the functions jas_getdbglevel and jas_setdbglevel as
    deprecated.

M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c

commit 648d44f91e26e7852dc114aa8bcf629384fc0cc9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 25 16:31:13 2022 -0800

    Moved a use of _Thread_local inside a conditional compile directive.

M	src/libjasper/include/jasper/jas_init.h

commit 4ecc94c07da4d3e08dcba55fb288118040b14cdd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 25 16:16:17 2022 -0800

    Fixed a typo in the top-level CMakeLists.txt file.
    Made some minor changes to the build script.

M	CMakeLists.txt
M	build/build

commit 6623861d031b60aa5cacc4580fa46203713f92b8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 25 15:30:21 2022 -0800

    Changed the per-thread context to use thread-local storage (i.e.,
    _Thread_local) by default instead of POSIX Thread Library
    thread-specific storage.  This should allow more optimal code to be
    generated on some platforms.
    Changed the implementation of the functions used to query some
    per-thread
    context settings to better exploit thread-local storage.
    Made the jas_ctx_t type normally hidden.

    Added the CMake option JAS_PREFER_PTHREAD_TSS to allow the use of
    thread-local storage to be disabled.

    Made some changes to the verbosity of the build and build_all scripts.

M	CMakeLists.txt
M	build/build
M	build/build_all
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_init.h

commit de43a2bb8738751a50d39e50a931c79faad2db9b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 25 11:16:27 2022 -0800

    Made the type jas_image_fmt_t local to the source file jas_init.c.
    Performed some miscellaneous code cleanup.

M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h

commit 3e9c4e5c923ba290869077916a83d2dd6dda07be
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 23 19:51:27 2022 -0800

    Added more information to the manual.

M	doc/src/lib_images.dox
M	doc/src/lib_math.dox
M	doc/src/lib_timers.dox
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_tmr.h

commit 983651f8bdc9dacb546ac9839ac3051f23fddae2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 23 17:15:08 2022 -0800

    Updated the top-level README document.

M	README.md

commit 8947d8c3c667995e96c810b0bdd1823b287bbc44
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 23 16:26:12 2022 -0800

    Made the strict mode for the build process treat all warnings
    as errors.
    Disabled compiler warnings for out-of-range comparisons, since these
    warnings can cause the build process to fail on some platforms when
    building in strict mode (e.g., due to some compilers issuing spurious
    warnings).
    Added a CMake option for disabling the use of LaTeX even when it is
    detected as being available.
    Made the --verbose option of the build script yield more verbose
    output.
    Added a --quiet option to the build script.

    Used doxygen to update the Doxyfile.
    Made numerous improvements to the manual (e.g., added some information
    on the codec driver interface).
    Fixed some typos/errors in the manual.

    Added a missing check on the return value of jas_cmshapmat_invmat
    in the
    jas_cmprof_createsycc function.
    Fixed a memory leak on an error path in the jas_cmprof_createsycc
    function.
    Removed some unused/unnecessary code from the library.

M	CMakeLists.txt
M	build/build
M	doc/CMakeLists.txt
M	doc/Doxyfile.in
M	doc/src/bugs.dox
M	doc/src/intro.dox
M	doc/src/lib.dox
M	doc/src/lib_images.dox
M	doc/src/lib_string.dox
M	doc/src/license.dox.in
M	doc/src/modules.dox
M	doc/src/overview.dox.in
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_stream.h

commit 8ad974b534aa0bf494351629797fd7cbb8d31dfa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 23 07:48:53 2022 -0800

    Added more information to the manual.

M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_init.h

commit 5fe57ac5829ec31396e7eaab59a688da014660af
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 13:46:37 2022 -0800

    Removed the export of all internal codec-driver entry points.
    Added more information to the manual.
    Updated the very badly out-of-date JAS_NOTES macro.
    Made many cosmetic changes to the source code.

M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_version.h

commit 45e97688b924ee0944ae5e7aeaa8b29941d122a0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 13:04:43 2022 -0800

    Replaced all explicit casts to void indicating a variable may
    be unused
    with an invocation of JAS_UNUSED.

    Added partial documentation for some functions related to color
    management.

M	src/app/jiv.c
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/ras/ras_dec.c

commit 83c6ae005f7f377c55460b60975184363c9371d2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 12:22:51 2022 -0800

    Enabled the building of the tmrdemo program.

M	src/app/CMakeLists.txt
M	src/app/tmrdemo.c

commit b6659b0460070d6e47dfc8d03e65c5180d159094
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 11:59:59 2022 -0800

    Changed the build process for the JasPer applications so that the test
    programs multithread and test_1 are not installed.

M	src/app/CMakeLists.txt

commit 7a868e8b75ec1e43d7d45bb60939616e36e84f9e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 11:03:01 2022 -0800

    Added some missing function prototypes and commented out some
    unreachable code.

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c

commit e9457f393f04fa22e3881a63cc99b3feb00ef6b3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 10:53:04 2022 -0800

    Introduced a single consistently-named preprocessor define for gaining
    access to JasPer internals.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/base/jas_tvp.c
M	src/libjasper/base/jas_version.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/jpc/jpc_cod.c

commit 21754de970b917ef1d87d3b2e09286abde619c93
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 09:13:28 2022 -0800

    Modified the make_main_gh_page script in order to better handle
    pre-releases.

M	build/github/make_main_gh_page

commit 47624a91f92eeb486e2693af2615e5aca30a08f7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 09:12:45 2022 -0800

    Made some minor changes to the overview section of the manual.

M	doc/src/overview.dox.in

commit fc50c4f0dc5a6b718da73e3f636640c4578768b1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 08:10:35 2022 -0800

    Made numerous improvements to the manual, including the addition of
    several figures.

M	doc/Doxyfile.in
A	doc/src/figures/comp.fig
A	doc/src/figures/make_figures
A	doc/src/figures/refgridex.fig
A	doc/src/figures/software.fig
A	doc/src/figures/srcimgmodel.fig
A	doc/src/figures_generated/comp.eps
A	doc/src/figures_generated/comp.png
A	doc/src/figures_generated/refgridex.eps
A	doc/src/figures_generated/refgridex.png
A	doc/src/figures_generated/software.eps
A	doc/src/figures_generated/software.png
A	doc/src/figures_generated/srcimgmodel.eps
A	doc/src/figures_generated/srcimgmodel.png
M	doc/src/lib.dox

commit e0dcf9c669e87c777db0a15b255f27d829682bf9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 01:22:40 2022 -0800

    Made some improvements to the string-processing section of the manual.

M	doc/src/lib_string.dox

commit 50dd614f4b6638516c76e45d2a5a2753f34a577a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 22 00:45:31 2022 -0800

    Added some extra sanity-checking to the code for library
    initialization and clean-up.
    Added more functionality to the test_1 program.
    Excluded the thread-related documentation from the manual.
    Fixed a typo in the manual.

M	doc/src/lib.dox
M	doc/src/lib_init.dox
M	doc/src/lib_misc.dox
M	doc/src/lib_threads.dox
M	doc/src/modules.dox
M	src/app/test_1.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_thread.h

commit 91fca092098396938830fe458f57109f0dd58a54
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 21 13:41:38 2022 -0800

    Changed the build process to fail if multithreading support is
    requested
    but cannot be provided (instead of simply generating a warning).

M	CMakeLists.txt

commit 9cfa1d79e6310fc8e91ed89cd5fdeca3380c357b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 21 12:07:00 2022 -0800

    Fixed a typo in the initialization section of the manual.

M	doc/src/lib_init.dox

commit 1801e0ff88e2f8c212f4c934b2734cccc31bb6f5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jan 19 10:51:17 2022 -0800

    Removed the use of jas_thread_yield in jas_call_once for the Windows
    platform in order to fix a dependency problem.

M	src/libjasper/include/jasper/jas_thread.h

commit 08c636ec9a1bbf1a4019e11e641143bd6d336e61
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jan 19 08:13:32 2022 -0800

    Made the functions for manipulating threads hidden from normal library
    users, since they should not use these functions.

    Made more improvements to the manual.

M	doc/src/lib_images.dox
M	src/app/multithread.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_thread.h

commit 265de7ddd33f1f84b3c61dd43a749df777f7bf52
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 18 12:59:16 2022 -0800

    Added some clarifying comments regarding library initialization to
    the manual.

M	doc/src/lib_init.dox

commit 8765c3f13c7e7b4733647ecfe0cc69587b6690f7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 18 00:13:30 2022 -0800

    Fixed some memory leaks on error paths in the JPC/JP2 encoder.

    Made a small fix to the manner in which programs are located in
    the run_mem_test script.

M	src/libjasper/jpc/jpc_enc.c
M	test/bin/run_mem_test

commit 441fcc6bd17fc0032271d2810b3cd0ef62740826
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 23:23:52 2022 -0800

    Made a few small improvements to the manual.
    Added encoder testing functionality to the run_mem_test script.

M	doc/src/apps_jasper.dox
M	doc/src/overview.dox.in
M	test/bin/run_mem_test

commit 9878adb805b9124704f07ccbee088a81c78667fb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 19:09:04 2022 -0800

    Updated the manual-deployment workflow for GitHub Actions CI.

M	.github/workflows/deploy_manual.yml

commit 74f0d726e627a6d04813f7c7bcccf5e9a58ac56f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 19:04:10 2022 -0800

    Made more improvements/corrections/updates to the manual.

M	INSTALL.txt
M	doc/src/bugs.dox
M	doc/src/install.dox.in
M	doc/src/intro.dox
M	doc/src/lib.dox
M	doc/src/overview.dox.in
M	doc/src/references.bib
D	doc/src/unused/software.dox

commit 191f135c7e98c33522a409417c110939df7fabe9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 15:04:28 2022 -0800

    Made more improvements to the manual.

M	doc/src/apps_imginfo.dox
M	doc/src/apps_jasper.dox
M	doc/src/lib.dox
D	doc/src/unused/library.dox
M	src/app/test_1.c

commit ecd3833bafe5e3fe34f77c310b719760674ea1d2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 13:35:15 2022 -0800

    Fixed some memory leaks on error paths in the code for image-format
    tables.

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	test/bin/run_mem_test

commit 8a3fa3377edeb1fe1f2a260af68befa1d0d4150f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 11:06:51 2022 -0800

    Changed the pattern specifying the tags for which the release workflow
    (for GitHub Actions) will be invoked so that the pattern is more
    restrictive (i.e., corresponds to normal, RC, alpha, and beta releases
    only).

M	.github/workflows/release.yml

commit d6b2f1d541c37b0d62c74991dc7534e287514720
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 10:39:54 2022 -0800

    Made some improvements/corrections to the initialization section of
    the manual.

M	doc/src/lib_init.dox

commit 6d4b777a334299eb90cccc3f9798ed0c487bbee5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 17 09:46:44 2022 -0800

    Library:
    Fixed a serious bug in the memory allocation code (related to
    jas_realloc).
    Added the jas_string_tokenize function for splitting a string
    into tokens.
    Added the following image-related functions:
	jas_image_getfmtbyind
	jas_image_getnumfmts
	jas_image_setfmtenable
    Added support for the run-time enabling/disabling of codecs.
    Added the ability to store multiple file name extensions in each image
    format table entry.
    Made the table used to initialize the per-context image-format table
    private to the library.

    Applications:
    Changed the -l option of the jasper program to --list-enabled-formats.
    Added the --list-all-formats option to the jasper program.
    Added the --list-enabled-formats and --list-all-formats options to the
    imginfo program.
    Added the --enable-format option to the jasper and imginfo programs.
    Added the -- (i.e., end-of-options) option to the build script.
    Added the test_1 program for performing various simple tests.

    Revised the shared-library version information.

M	CMakeLists.txt
M	build/build
M	src/app/CMakeLists.txt
M	src/app/imgcmp.c
M	src/app/imginfo.c
M	src/app/jasper.c
M	src/app/jiv.c
M	src/app/multithread.c
C063	src/libjasper/base/jas_string.c src/app/test_1.c
M	src/app/tmrdemo.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/jpc/jpc_cs.c
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_5
M	test/bin/run_test_imginfo

commit dfdb68e924f798b90661c41e0cc74fa3335725c6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 17:38:14 2022 -0800

    Made more improvements to the JasPer documentation.

M	doc/Doxyfile.in
M	doc/src/lib.dox
M	doc/src/lib_images.dox
A	doc/src/lib_math.dox
A	doc/src/lib_string.dox
A	doc/src/lib_timers.dox
M	doc/src/modules.dox
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_tvp.h

commit 4472f88a58f985d01588c75621b54c34af3e4727
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 16:39:15 2022 -0800

    Made numerous improvements to the JasPer documentation.

M	doc/Doxyfile.in
M	doc/src/lib.dox
M	doc/src/lib_init.dox
M	doc/src/lib_iostreams.dox
M	doc/src/lib_log.dox
A	doc/src/lib_threads.dox
M	doc/src/modules.dox
M	doc/src/overview.dox.in
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_thread.h

commit 579ec71d86d2d4fd0dd8ecf643c0499a372e37b1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 11:43:01 2022 -0800

    Made many improvements to the JasPer documentation.

M	NEWS.txt
M	doc/Doxyfile.in
M	doc/src/apps.dox
M	doc/src/apps_imgcmp.dox
M	doc/src/apps_imginfo.dox
M	doc/src/apps_jasper.dox
M	doc/src/apps_jiv.dox
M	doc/src/lib.dox
M	doc/src/lib_images.dox
M	doc/src/lib_init.dox
R095	doc/src/lib_streams.dox doc/src/lib_iostreams.dox
M	doc/src/lib_log.dox
M	doc/src/modules.dox
M	doc/src/references.bib
M	src/app/imgcmp.1
M	src/app/imginfo.1
M	src/app/jasper.1
M	src/app/jiv.1
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_tvp.h

commit d7786ce48411d84b8c963ac54be5100eaa7b3bd0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 09:28:11 2022 -0800

    Fixed some integral-type issues for the jas_stream_gobble and
    jas_stream_pad functions.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit 666e510f7014ad0f74339c69207ddfbbe26fcb7f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 08:50:39 2022 -0800

    Renamed JAS_SSIZE_T to jas_ssize_t.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_types.h

commit dc261868be17cc0c5b88f1b1d11ad83fcdb8afe5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 08:39:13 2022 -0800

    Fixed some portability issues related to the use of ssize_t on the
    Windows platform.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit 555139fbe6bfca7bab609f437443962d43924e08
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 15 08:26:24 2022 -0800

    Added more changes to fix integral-type issues (e.g., unsigned/int
    versus
    size_t/ssize_t) in the I/O streams code.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit 5ad208975dd741d0e24e172cf85ff831202793b9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jan 10 15:15:50 2022 -0800

    Made minor changes to some of the code documentation.

M	src/libjasper/include/jasper/jas_init.h

commit 348c50d97086a350812f04566eb5e08895922d12
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 20:37:30 2022 -0800

    Restructured/reorganized the manual.

M	doc/CMakeLists.txt
M	doc/Doxyfile.in
A	doc/src/apps.dox
A	doc/src/apps_imgcmp.dox
A	doc/src/apps_imginfo.dox
R053	doc/src/applications.dox	doc/src/apps_jasper.dox
A	doc/src/apps_jiv.dox
M	doc/src/bugs.dox
D	doc/src/getting_started.dox.in
A	doc/src/install.dox.in
R084	doc/src/introduction.dox	doc/src/intro.dox
A	doc/src/lib.dox
A	doc/src/lib_images.dox
R066	doc/src/overview.dox	doc/src/lib_init.dox
A	doc/src/lib_log.dox
A	doc/src/lib_misc.dox
A	doc/src/lib_streams.dox
D	doc/src/license.dox
A	doc/src/license.dox.in
R078	doc/src/mainpage.dox.in doc/src/overview.dox.in
R100	doc/src/library.dox	doc/src/unused/library.dox
R100	doc/src/software.dox	doc/src/unused/software.dox

commit ddcab63ec314cbec78dd055b76f9ab2cdfd68c1f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 12:33:16 2022 -0800

    Revised the part of the manual about library setup and shutdown.
    Renamed the function jas_conf_set_max_mem to
    jas_conf_set_max_mem_usage.

M	doc/src/overview.dox
M	src/app/imgcmp.c
M	src/app/imginfo.c
M	src/app/jasper.c
M	src/app/jiv.c
M	src/app/multithread.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_init.h

commit 8b713af9dc87736c138b8d3c8b4946b3c97b29ba
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 09:31:44 2022 -0800

    Renamed the appl directory to app.

M	.gitignore
M	CMakeLists.txt
M	build/travis/build
M	doc/src/software.dox
R100	src/appl/CMakeLists.txt src/app/CMakeLists.txt
R100	src/appl/fuzz.c src/app/fuzz.c
R100	src/appl/imgcmp.1	src/app/imgcmp.1
R100	src/appl/imgcmp.c	src/app/imgcmp.c
R100	src/appl/imginfo.1	src/app/imginfo.1
R100	src/appl/imginfo.c	src/app/imginfo.c
R100	src/appl/jasper.1	src/app/jasper.1
R100	src/appl/jasper.c	src/app/jasper.c
R100	src/appl/jiv.1	src/app/jiv.1
R100	src/appl/jiv.c	src/app/jiv.c
R100	src/appl/multithread.c	src/app/multithread.c
R100	src/appl/tmrdemo.c	src/app/tmrdemo.c
M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc
M	test/bin/run_codec_test
M	test/bin/run_mem_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_4
M	test/bin/run_test_5
M	test/bin/run_test_imgcmp
M	test/bin/run_test_imginfo

commit 6a00cc4b5a90b36518ea2a98076b00ef452e14f6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 09:05:03 2022 -0800

    Changed the JasPer library to track whether the memory limit
    configuration
    setting has been explicitly set.
    Changed the manner in which the JasPer memory limit is set in
    the various
    JasPer application programs.

M	doc/src/overview.dox
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/appl/multithread.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h

commit 55eb08b5dc12ed06a88a26414c9136fd5ee549ab
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 00:23:05 2022 -0800

    Fixed an incorrect file name reference in the manual.

M	doc/src/mainpage.dox.in

commit c7d20454af4fadb4de0f9e3ec7d965620f0d71ae
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 00:20:28 2022 -0800

    Fixed an incorrect file name in a script.

M	build/make_release

commit ac2017f9b741208b8c4f679ae245f5918889b097
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 00:12:50 2022 -0800

    Fixed a few problems related to file naming.
    Fixed a formatting error in the top-level README document.

M	CMakeLists.txt
M	README.md
M	test/bin/run_test_1

commit 688601c736165d424b95413ea40d5571a5ccfe02
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 9 00:02:54 2022 -0800

    Added extensions to numerous file names.
    Revised some documentation files.

M	CMakeLists.txt
R055	COPYRIGHT	COPYRIGHT.txt
R100	INSTALL INSTALL.txt
R100	LICENSE LICENSE.txt
R100	NEWS	NEWS.txt
D	README
A	README.md
R100	data/colorprofiles/README	data/colorprofiles/README.txt
R100	data/images/README	data/images/README.txt
R100	data/test/bad/README	data/test/bad/README.txt
R100	data/test/good/README	data/test/good/README.txt
R100	doc/README	doc/README.txt
M	doc/src/mainpage.dox.in
R100	src/README	src/README.txt
R100	src/libjasper/README	src/libjasper/README.txt
R100	src/libjasper/jpg/README	src/libjasper/jpg/README.txt
R100	src/libjasper/mif/README	src/libjasper/mif/README.txt

commit 34ddc0092fa3f7c89409109ab922309f31d4dff0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 23:44:36 2022 -0800

    Made further revisions to the codecs part of the manual.

M	doc/src/codecs.dox

commit 3ceba3ef93b69e1d04446ad8740d458845b29736
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 22:21:50 2022 -0800

    Fixed some of the formatting in the codecs part of the manual.

M	doc/src/codecs.dox

commit d9e8186d8987d778b88d3d2ff3d405aaee55d8db
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 20:50:52 2022 -0800

    Made the function jas_deprecated variadic and added the ability for
    this function to perform output formatting.
    Added some warning messages for the use of deprecated functionality.
    Added some checks related to the memory limit setting.

M	src/appl/multithread.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_debug.h

commit 3dcf7132700d85be842887fa9dfbf2fd493a70b9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 13:37:55 2022 -0800

    Merged some of the content from the old (i.e., circa 2006/2007)
    LaTeX-format JasPer manual into the Doxygen-based manual.  Started to
    convert the content from LaTeX to Doxygen format and update/revise the
    content in the process.

M	doc/Doxyfile.in
A	doc/src/applications.dox
A	doc/src/codecs.dox
A	doc/src/introduction.dox
A	doc/src/library.dox
A	doc/src/license.dox
A	doc/src/references.bib
A	doc/src/software.dox

commit 87f085486f326a562fcaf8c63fe1f18d0b38593a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 12:10:06 2022 -0800

    Fixed a typo in the multithread application (which resulted in
    the wrong
    function being called to deallocate memory in one place).

M	src/appl/multithread.c

commit 1aa4ced3bc449af080bc3497b8fe22a8d54feebb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 11:16:33 2022 -0800

    Fixed a memory leak in the multithread application.

M	src/appl/multithread.c

commit 3708f3bb425287ea1f23a4b715480ee7c3906376
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jan 8 10:47:35 2022 -0800

    Enhanced the testing capabilities of the multithread application.
    Cleaned up some of the library initialization code.
    Added the detection of the nanosleep function to the build process.

M	CMakeLists.txt
M	src/appl/multithread.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_config.h.in
M	test/bin/run_test_5

commit d1348a41deada6cf531737a911e0f9508bb07d25
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 7 14:26:40 2022 -0800

    Changed the various JasPer application programs to allow the memory
    limit to be defaulted by the JasPer library.

M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/appl/multithread.c

commit f0bb008aec1af7a2d65ce40367b19e8ec6d16d11
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 7 13:52:29 2022 -0800

    Removed the ability of the library user to disable the allocator
    wrapper.
    Changed the maximum memory limit so that it defaults to half of
    the available system memory if not explicitly set during run-time
    configuration.

    Added a --no-test to the build script.
    Added an option to the build_all script for disabling testing.

M	build/build
M	build/build_all
M	src/appl/multithread.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_init.h

commit e0b3607a4b86df093952b48479c0aeb8d02861ef
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 7 13:00:17 2022 -0800

    Fix a compiler warning generated by MSVC.

M	src/libjasper/include/jasper/jas_thread.h

commit cbc4e85dc62ce84e0035996fe4184da847fca5c0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 7 12:41:35 2022 -0800

    Reorganized the jas_thread.h header in an attempt to facilitate better
    cross-platform portability.
    Added a --no-prefer-pthread option to the build script.

M	CMakeLists.txt
M	build/build
M	src/libjasper/include/jasper/jas_thread.h

commit d034fc5af560ea175823df8f22359efaf683a646
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jan 7 11:11:27 2022 -0800

    Reworked the multithreading support.

    Purged support for the optional automatic invoking of jas_cleanup
    via atexit.

    Changed the CMake build process to prefer the use of the POSIX Threads
    Library.  This will help to reduce the likelihood of some problems
    caused by C11 threading support not interacting well with TSan.

    Added --no-lsan and --no-asan options to the build script.	Also,
    fixed
    a typo in a directory name in the same script.

M	CMakeLists.txt
M	build/build
M	build/build_all
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/appl/multithread.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/heic/heic_dec.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit 8d6ee5fece1ac7abdeb00a1a60cb2b9d23baf2e1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Jan 5 15:17:17 2022 -0800

    Made many cosmetic formatting changes to the code (e.g., adding braces
    around many single-statement if/for/while bodies).
    Added some missing checks for I/O failure in the functions
    jas_iccputtime
    and jas_iccputxyz.
    Replaced some explicit casts to void with invocations of JAS_UNUSED.
    Added the generation of some warning messages.

M	doc/src/modules.dox
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tvp.h

commit e4a76ec792ac8bdda8d42b5a241c8aee13dc26e6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 4 01:27:11 2022 -0800

    Made some changes in an attempt to fix some portability problems
    (impacting Windows and MacOS).

M	src/libjasper/base/jas_malloc.c

commit 74a6419dd054d503aa25d53860dfa0b8ee843980
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 4 01:20:13 2022 -0800

    Added the jas_get_total_mem_size function for querying the total
    amount
    of memory available.

M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_malloc.h

commit baa1fdbe2102080a515671b35bae1db49050d560
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Dec 27 10:04:36 2021 -0800

    Fixed a memory leak in the CM code.
    Fixed a memory leak in the JPEG decoder.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/jpg/jpg_dec.c

commit f8293fe9d6e26db44eecd9ffbd219624a9d1b6c2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Dec 27 08:52:32 2021 -0800

    Fixed a memory leak in the CM/ICC code.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_icc.c
M	test/bin/run_mem_test

commit 7fc0d9adacd72d568e6a6013bb810d7a1a0abc29
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 26 23:54:13 2021 -0800

    Updated the NEWS document.

M	NEWS

commit a2e9448ef0f2415adc46a2052ada7faa2e48a844
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 26 21:08:52 2021 -0800

    Fixes #314.

    Reworked some of the internal interfaces for computing wavelet
    transforms
    in the JPC/JP2 codec in order to eliminate the need for some abort
    calls.

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/jpc/jpc_qmfb.c

commit 28c7a64ece3dab5477ead4972435f69de5659fb7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 24 10:13:43 2021 -0800

    Fixed a bug in the realloc-related code.
    Fixed some bugs in the JPC/JP2 decoder on error paths in the code that
    are hit due to failed memory allocations.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/jpc/jpc_dec.c
A	test/bin/run_mem_test

commit 73f7dbd440f42c5f6dda2048c3a866c3bd2fa34a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 23 08:56:17 2021 -0800

    Fixes #312.

    The test suite will fail miserably if support for any of the native
    codecs is not included.  To make this clear, the test suite has been
    disabled in the case that support for one or more native codecs is
    missing.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 2019dcff7b869ba05e1b35fd9cebdd2b94740e17
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 23 00:12:33 2021 -0800

    Cleaned up the prebuild-v2 script.

M	build/github/prebuild-v2

commit d82b63fa7e8fbc4faf5f6c73f35f9d70597294d0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 22:18:46 2021 -0800

    Made more changes to the GitHub CI workflow.

M	.github/workflows/ci.yml

commit 2def05f127c0c723ca677fb615430b35c5f2b423
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 22:11:56 2021 -0800

    Made more changes to the GitHub CI workflow.

M	build/github/prebuild-v2

commit 64930eeedd9a2a66f1c8c2bc905601db2275ad10
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 21:55:02 2021 -0800

    Changed the prebuild-v2 script to try to workaround an apparent bug in
    the GitHub CI runner for Windows.

M	build/github/prebuild-v2

commit f615159e19323b341890eaabaffb6d40b2690187
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 21:50:06 2021 -0800

    Changed the prebuild-v2 script to try to workaround an apparent bug in
    the touch command for the GitHub CI runner for Windows.

M	build/github/prebuild-v2

commit 3aece33c21cbc8daa216d109bce1781c68f6710d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 21:46:38 2021 -0800

    Fixed a bug in the prebuild-v2 script.

M	build/github/prebuild-v2

commit e9ecb1d9790dc10a90b066afaaf6710c865a8fa9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 21:37:23 2021 -0800

    Made some changes to try to fix some problems in the GitHub CI
    workflow
    for MacOS.

M	.github/workflows/ci.yml
M	build/build_all
A	build/github/prebuild-v2

commit 6fc422632a6ff71358bc3cb1f5c27cf81c343261
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 20:06:50 2021 -0800

    Fixed a typo in one of the CMakeLists.txt files.

M	src/libjasper/CMakeLists.txt

commit d83be32a6f6100ca557b67c3ef040870aef14f7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 19:55:12 2021 -0800

    Fixed a few typos in one of the CMakeLists.txt files.

M	src/appl/CMakeLists.txt

commit 325bf70fd799da78822fd5154abc4d8708baaec1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 19:42:43 2021 -0800

    Changed the CMake build process to use an imported target for the
    LIBJPEG library.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit b88f34be1f65145bc5a26daa26e17279f77303d8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 12:30:08 2021 -0800

    Fixed more build problems.

M	CMakeLists.txt

commit 4254473ee2f7b1a324645a58d06df412d5ffd95c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 11:52:37 2021 -0800

    Made some build changes in an attempt to address some GLUT-related
    issues on MacOS.

M	CMakeLists.txt
M	src/appl/jiv.c
M	src/libjasper/include/jasper/jas_config.h.in

commit a7f1b7e512d8d75a2b4d41f66cbaa0dde80efebf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 11:37:35 2021 -0800

    Changed the CMake build process to consider the include directories
    for OpenGL-related libraries when testing for the existence of the
    glut.h header.

M	CMakeLists.txt
A	build/cmake/modules/JasGetIncludes.cmake

commit 3c4fa79cf44aae0df3dc52f4dd18253ccbcc59cc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 22 09:35:45 2021 -0800

    Changed the CMake build files to use imported targets for the
    OpenGL-related libraries.  This change was partly motivated by
    the need
    to fix build problems on some Linux variants.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 836a79c39cc467e9a45981c1dc9caf114bdb1e20
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Dec 7 13:53:36 2021 -0800

    Added a new test case involving bad JPC-coded data.

A	data/test/bad/309.jpc

commit def496882ab8af3e13f38102bebd195a7dd9db61
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Dec 7 13:47:47 2021 -0800

    Fixes #309.

    Added several functions to facilitate overflow checking when
    performing
    integer arithmetic.
    Fixed an integer-overflow bug in the JPC decoder that could result in
    division by zero.

M	CMakeLists.txt
M	build/build
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c

commit 99a06a65a55717c53ae93319fa8c465027fee30d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 5 06:05:37 2021 -0800

    Fixed a typo in the manual.

M	doc/src/overview.dox

commit 4c002707d725fe42a7779e8276a6eb43feebf5e5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 19:13:58 2021 -0800

    Removed some comments from the top-level CMakeLists.txt file.

M	CMakeLists.txt

commit 938587cbe4d71c49f582232473fab786b524bc7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 16:18:07 2021 -0800

    Remove the /Wv:18 option from the MSVC compiler.

M	CMakeLists.txt

commit e99f43c7c36405a5024a41aa7ed16c66c3f75c45
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 15:41:46 2021 -0800

    Added a missing type cast to the argument passed in various
    invocations
    of isspace, isdigit, and isalpha (to ensure that the argument is not
    out of range).

M	src/libjasper/base/jas_icc.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c

commit 1b62bfdfb02b0f8a15f43a974693e7e60b91967e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 15:13:22 2021 -0800

    Added some missing type casts in the tag-value parser code.
    Marked some types of image-related files as binary in the
    .gitattributes file.

M	.gitattributes
M	src/libjasper/base/jas_tvp.c

commit 97de1dda36df600db747d8b27d4092e45423bf7b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 13:41:32 2021 -0800

    Fixed a typo in the code for the MIF codec.

M	src/libjasper/mif/mif_cod.c

commit aa23f4e6619a13528fb871b1aa9b945184d3aef3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 13:38:27 2021 -0800

    Added more informational log messages to the MIF codec.

M	src/libjasper/mif/mif_cod.c

commit 12045d39725d715805ce4cc6116227f3011cc3d4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 12:42:47 2021 -0800

    Added more informational log messages to the MIF codec.

M	src/libjasper/mif/mif_cod.c

commit c0ff348e5f6c9d4e5f1e32822c967a1e66a396a3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 11:29:57 2021 -0800

    Disable the use of ASan with MSVC on Windows, since this is causing
    dynamic linking errors.

M	build/build_all

commit f7281623f966aeb7476241469e2ff7ca39ccbcc5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 11:05:56 2021 -0800

    Added the /wd4267 option to the MSVC compiler to eliminate some
    bogus compiler warnings.

M	CMakeLists.txt

commit c3988d79adb257d08e0e17eeb1d3a2dd12f8c2d7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 10:58:23 2021 -0800

    Change Windows CI from using windows-2019 to windows-2022 runner.

M	.github/workflows/ci.yml
M	.github/workflows/win_ci.yml

commit 0fe57f14162f20df2709678c38a2df4e95c80c28
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 10:36:04 2021 -0800

    Add the /Wv:18 option to the MSVC compiler to avoid warnings that
    appear to be generated by code in some MSVC headers.

M	CMakeLists.txt

commit 1904d33884f18cf8f889d107989e8eaaf0cbd7fe
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 09:33:55 2021 -0800

    Change Windows CI from using windows-2016 to windows-2019 runner.

M	.github/workflows/ci.yml
M	.github/workflows/win_ci.yml

commit ff44cb5ce937b8069cb5bcf62495ed7e7dae4600
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 08:44:30 2021 -0800

    Added some error logging messages to the MIF codec.
    Added some debug code to the run_test_1 script.

M	src/libjasper/mif/mif_cod.c
M	test/bin/run_test_1

commit c7a6ee5e7f9834d25acdde1609e9e2cf542ebb7f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 29 07:35:26 2021 -0800

    Changed the run_test_imginfo script to make its output less verbose.

M	test/bin/run_test_imginfo

commit c4d41e847a87b60ea220255714872a64c5f100f2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 19:31:20 2021 -0800

    Marked several types of image files as binary in the .gitattributes
    file.

M	.gitattributes

commit b6445e3e8956fe745e7ee8c63be90639b0767e1a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 19:19:29 2021 -0800

    Added some log messages to the MIF codec.

M	src/libjasper/mif/mif_cod.c

commit b72bb6bed5c5989bd2d586fa9ac9b64af12eb16e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 18:54:25 2021 -0800

    Fixed a bug in a call to a logging function in the Sun Rasterfile
    decoder.

M	src/libjasper/ras/ras_dec.c

commit 1b40d74c9f9f6f64e331edb714227848a117ca27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 18:35:59 2021 -0800

    Added more error logging to the MIF codec.
    Added more error logging capabilities to the run_test_imginfo script.

M	src/libjasper/mif/mif_cod.c
M	test/bin/run_test_imginfo

commit a42397d60253efcf585dcf726111c648e1e87882
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 12:47:56 2021 -0800

    Added another invalid image to the test set.

A	data/test/bad/307_empty_iccp.jp2

commit e9c8372f96e547ea35fbca1c7106baf15b6818cd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 12:04:59 2021 -0800

    Fixes #307.

    Fixed a bug in the JP2 decoder that caused a crash if the ICC
    profile data in a COLR box had zero length.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/jp2/jp2_cod.c

commit 0de4e3fe43762049e1b5f4c36a18ef5b35521a70
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 01:11:39 2021 -0800

    Added a sanity check on the build type to the build script.

M	build/build

commit 4bfd64d639a22121bd6b9977fd9d8a351b8084b9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 01:03:28 2021 -0800

    Fixed a typo in the build script.

M	build/build

commit 7166be4f2452caf182ce30922fc964b6a5f82bd0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 28 00:18:07 2021 -0800

    Improved the documentation of the build script.

M	build/build

commit 3acb67277d36ac91965dcff97c44a54035942727
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 23 11:29:21 2021 -0800

    Added an assertion to jas_get_mb to ensure that the parameter to the
    function is not a null pointer.

M	src/libjasper/base/jas_malloc.c

commit 4a553437edad922616c8eeb97f4d73fd70cb1bbd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 23 10:03:00 2021 -0800

    Added a dependency on the threading libraries when building the JasPer
    library.

M	src/libjasper/CMakeLists.txt

commit 5175dcd845c385ac16c55a8de5c25e3d49bd075e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 12 09:09:58 2021 -0700

    Added the generation of some extra error logging messages in the
    JP2 and CM code.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/jp2/jp2_dec.c

commit 48c7b04ee268c478a3bea0e12282a4eac4b498f3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 12 08:58:34 2021 -0700

    Added checks for invalid command-line options/arguments in the
    build_all
    script.

M	build/build
M	build/build_all

commit 083ca1578b1ec526e38153b3b113fe5d8823d229
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 10 20:41:36 2021 -0700

    Fixed a typo in the top-level CMakeLists.txt file.

M	CMakeLists.txt

commit c6c61c2d9d3d404eb3203f911e09e49caa833f52
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 10 20:36:41 2021 -0700

    Fixed a bug in the build process that is encountered when the libheif
    library is not available.

M	CMakeLists.txt

commit 7e8c6f9ef15496cc720134eda8a7bf7217120162
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 10 20:30:26 2021 -0700

    Added partial decoding support for the HEIC format.
    Fixed a bug in the jasper program, where the JasPer library was being
    used before being initialized.
    Added some assertions to check for out-of-bound indexing in
    jas_matrix_get and jas_matrix_set.

M	CMakeLists.txt
M	NEWS
M	src/appl/CMakeLists.txt
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_init.c
A	src/libjasper/heic/heic_dec.c
A	src/libjasper/heic/heic_enc.c
A	src/libjasper/heic/heic_val.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_seq.h

commit 68506c06e59bc1efbaf84dcbf568c8eaf4d88e1b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 2 12:00:46 2021 -0700

    Enabled the full test suite for CI builds on the Windows platform.
    (Previously, the full test suite was only enabled for CI builds on
    Unix-based platforms.)
    Added a new script called run_test_imgcmp for testing the imgcmp
    program.
    Added a new script called run_test_imginfo for testing the imginfo
    program.
    Added a new test image.
    Updated the NEWS document.

    jasper program:
    Fixed an uninitialized variable bug in the jasper program.

    imgcmp program:
    Changed the exit-status conventions for the imgcmp program in order to
    allow the case of an unequal comparison result to be distinguished
    from
    the case of failure due to an error.

    build_all script:
    Changed the build_all script to output information about mounted
    file systems.
    Improved some of the informational messages generated by the build_all
    script.

    run_test_1 script:
    Removed the use of ASan in the run_test_1 script.
    Changed the run_test_1 script to skip test cases that use image
    formats
    that are not supported.
    Changed the run_test_1 script to print more detailed information about
    failed test cases.

    run_test_2 script:
    Changed the run_test_2 script to skip test cases that use input images
    whose format is unsupported.
    Made the run_test_2 script more gracefully handle image-comparison
    failures.
    Changed the run_test_2 script to output more detailed information
    about
    failed test cases.

M	NEWS
M	build/build_all
A	data/images/feed.pnm
M	src/appl/CMakeLists.txt
M	src/appl/imgcmp.c
M	src/appl/jasper.c
M	test/bin/run_test_1
M	test/bin/run_test_2
A	test/bin/run_test_imgcmp
A	test/bin/run_test_imginfo

commit 78672346aa80ff1b26a7ad6479daa47055c23ba4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 30 14:55:59 2021 -0700

    Made some improvements to the documentation/manual and updated the
    NEWS document.

M	NEWS
M	doc/src/mainpage.dox.in
M	src/libjasper/include/jasper/jas_init.h

commit 0014d72836f1398a31c9334dee8baddf32da98e3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 30 14:30:53 2021 -0700

    Changed SSIZE_MAX to JAS_SSIZE_MAX in the JP2 codec, for better
    portabilty.

M	src/libjasper/jp2/jp2_cod.c

commit fb894064f29793dd1f5c1b42bc99f7d28c3d9473
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 30 13:02:36 2021 -0700

    Made the use of ssize_t more portable.

M	CMakeLists.txt
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_types.h

commit e8d9cb8620508a6c3a5e5c20cf380d14831ef132
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 30 11:27:24 2021 -0700

    Fixed a number of longstanding problems with the integral types
    used in
    the API for the following JasPer I/O stream functions:
	- jas_stream_memopen
	- jas_stream_read
	- jas_stream_write
	- jas_stream_copy
    Marked jas_stream_memopen2 as deprecated.
    Made numerous cosmetic changes to the code.

M	src/appl/fuzz.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jpc/jpc_enc.c

commit eab65d820eb3dcab32a7e595c985771e072ad008
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 27 22:12:06 2021 -0700

    Fixed a typo in the manual.

M	doc/src/bugs.dox

commit a21a00eb7fcf5a871ee83fa30589da1587b8afcf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 20 11:41:12 2021 -0700

    Changed the jas_init function so that it no longer registers
    jas_cleanup
    as an atexit handler.
    Added a note about API changes to the NEWS document as well as the
    manual.
    Started to add some help information to the build script.

M	NEWS
M	build/build
M	build/build_all
M	doc/src/mainpage.dox.in
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/appl/multithread.c
M	src/libjasper/base/jas_init.c

commit 9456f3a60ffd618ce5abb155aba7895cc54a9e0e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 12 15:16:08 2021 -0700

    Fixed numerous references to JAS_DEFAULT_MAX_MEM_USAGE.

M	INSTALL
M	src/appl/imgcmp.c
M	src/appl/jasper.c
M	src/appl/jiv.c

commit 6d0c47f10c494e1fbecafcb415bcff228369e485
Merge: 01d16de 9afb0d6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 12 14:14:50 2021 -0700

    Merge pull request #301 from theta682-tl/cmake-update

	Make CMake code style similar to standard CMake.
	Improve multi-configuration support: Add "d" suffix for Debug
	configuration.
	Improve detection of snprintf on Windows.
	Use BUILD_SHARED_LIBS to declare JAS_ENABLE_SHARED if it is
	defined.
	Reduce warning about GLUT on Windows.

commit 9afb0d6c1e7b6fbb4f6c973e8e3ebcb034ca7186
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Wed Sep 8 20:38:15 2021 +1200

    Use BUILD_SHARED_LIBS for enabling SHARED

M	CMakeLists.txt

commit 0f020fd73bb8fa74a1a5557c4280ff5722d94d62
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Wed Sep 8 20:28:24 2021 +1200

    Update CMake scripts

M	CMakeLists.txt
M	build/cmake/modules/EnableAssertions.cmake
M	build/cmake/modules/InSourceBuild.cmake
M	build/cmake/modules/Sanitizers.cmake
M	doc/CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/libjasper/CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_types.h

commit 01d16de0a87993426b44012d4d83d0fbdbdf9244
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Sep 7 14:06:50 2021 -0700

    Added a missing mention of CVE-2021-27845 in the NEWS file.

M	NEWS

commit 614b8177cfd6631c96e510bb1e15d91f3fdcb94b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 17:34:29 2021 -0700

    Corrected a typo in the top-level CMakeLists.txt file.

M	CMakeLists.txt

commit 5717d44546e95c15eb6e91b085c2de95d28955e4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 16:34:26 2021 -0700

    Made some code changes to reduce the number of compiler warnings.

M	CMakeLists.txt
M	build/build_all
M	src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_t1cod.c

commit 5c799d5456065637467c13ce6d6b74b29d410633
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:57:59 2021 -0700

    Added a compiler option to the build process to silence warnings about
    OpenGL being deprecated on MacOS.

M	CMakeLists.txt

commit 15a6a6f80ed8b9918bae2608031c07e286e522d4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:50:03 2021 -0700

    Fixed two cases in which a variable might potentially be used
    uninitialized.
    Added an annotation to avoid a warning about a potentially unused
    variable.

M	CMakeLists.txt
M	src/appl/imginfo.c
M	src/libjasper/base/jas_malloc.c

commit 6ed489e31d446496296be6ec2fb6c17446456c44
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:31:28 2021 -0700

    Added a missing return statement to jas_call_once.

M	src/libjasper/include/jasper/jas_thread.h

commit b5040bcc5e39ae86415469dafe7011ec71a687d9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:19:44 2021 -0700

    Removed some redundant message commands from the top-level
    CMakeLists.txt file.

M	CMakeLists.txt

commit a16604ba34448d5ad7089834c264dd139fb9763a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:15:52 2021 -0700

    Fixed a typo in the top-level CMakeLists.txt file.

M	CMakeLists.txt

commit adc52870ceaa7a1b0c53b6c44ebb2c36671f7bb9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 15:07:08 2021 -0700

    Added the printing of more informational messages during the build
    process.

M	CMakeLists.txt

commit 1f3e803fa02c17a29db2df182c09eda512a5b743
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 14:57:52 2021 -0700

    Made a few minor changes to some of the messages generating during the
    build process.

M	CMakeLists.txt
M	build/build

commit bf85f9142743aae21039a249e27eff84dffd2d05
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 14:38:10 2021 -0700

    Added the printing of the CMAKE_C_COMPILER_ID variable during
    the build
    process.

M	CMakeLists.txt

commit 3210498d7cbc0ca8533fa85d2e103ccebf675658
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 14:21:51 2021 -0700

    Fixed some compiler warnings.

M	CMakeLists.txt
M	build/build
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_compiler.h

commit 17af3153b301dcf7cd9f32050cb0fb404d9fe495
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 10:16:35 2021 -0700

    Attempted to improve the portability of the method used to build a
    shared library.

M	CMakeLists.txt

commit 44c43dbaba4edb9053a05aca432dc3fe1e88d288
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 09:45:25 2021 -0700

    Changed max_align_t to jas_max_align_t in several places in order to
    avoid compilation failures on some platforms.

M	src/libjasper/base/jas_malloc.c

commit a5982942adfb6039cc0aeec1929041fbb7596155
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 26 09:25:40 2021 -0700

    Added a more robust method for testing for the existence of
    max_align_t.
    Added a build configuration to the build_all script that uses jas_init
    for library initialization.
    Fixed an incorrect condition for an assertion in jas_init, which
    caused
    correct usage of jas_init to fail.
    Added more content to the manual.

M	CMakeLists.txt
M	build/build
M	build/build_all
M	doc/src/mainpage.dox.in
M	doc/src/overview.dox
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_types.h

commit acbb705a4d652e7028b8d15aefa4584b8078d863
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 23:13:14 2021 -0700

    Added some assertions that check for the correct order of library
    configuration, initialization, and cleanup.

M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_init.h

commit 60d6a9d7927e5aebef236543c8e124f5412a7bc1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 13:52:41 2021 -0700

    Fixed some typos that caused the build process to fail on Windows.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_thread.h

commit 27c604ea0e0ce2926e21640fadbdf4ef50dfe038
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 13:33:37 2021 -0700

    Made some improvements to the manner in which the threading support
    library is chosen when threading support is enabled.
    Also, the choice of whether threading support is enabled is now
    captured
    in the generated configuration header for the library so that
    library users
    have an easy way of determining whether threading support is
    available.

M	CMakeLists.txt
A	build/cmake/modules/EnableAssertions.cmake
M	doc/Doxyfile.in
M	src/appl/CMakeLists.txt
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/jpc/jpc_cod.c

commit e5397f7b24221801aa3683c58ff137e4c7faa424
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 00:49:35 2021 -0700

    Enabled the testing of Windows shared library builds.

M	build/build
M	build/build_all

commit c713d5c1883cbafe7faabefd49531d5e4e572023
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 00:16:14 2021 -0700

    Fixed a typo in the Sanitizers CMake module.

M	build/cmake/modules/Sanitizers.cmake

commit d51be3e91295f3ac8edb08f5c11427e98a2b260a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 25 00:11:41 2021 -0700

    Added support for ASan on Windows in the Sanitizers CMake module.

M	build/cmake/modules/Sanitizers.cmake

commit d9c803b4982e980cb9651cab4fb5b8b943c0f0dc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 23:12:13 2021 -0700

    Reduced the verbosity of the GitHub Actions CI workflow.

M	.github/workflows/ci.yml

commit f90d11b701100dea77b80e2da5164e4319720ddd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 23:02:20 2021 -0700

    Disabled the execution of some test scripts in the case of a
    Windows build
    (as the scripts in question do not work correctly under Windows).

M	build/build_all
M	src/appl/CMakeLists.txt

commit 72357f58f5969769ebdd43f0c3b9d4d13753cf4e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 19:44:12 2021 -0700

    Removed an output direction from the image_info shell function.

M	test/bin/utilities

commit 44cf8042f5900900002a94af4cafbdb6e6e499d7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 19:37:55 2021 -0700

    Changed the build_all script to print the contents of the build and
    install directories for debugging purposes.
    Performed some minor code cleanup on the imginfo and jasper programs.

M	build/build
M	build/build_all
M	src/appl/imginfo.c
M	src/appl/jasper.c

commit 1ce7e514bef90f7a7b870e31aeca1563f8521381
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 18:58:32 2021 -0700

    Replaced some calls to the exit function with a return statement
    in the
    main function of the imginfo program (for consistency).
    Added a check for the Clang and GCC compilers in the Sanitizer module.
    Added improved error checking to the image_info shell function used by
    various scripts.

M	build/cmake/modules/Sanitizers.cmake
M	src/appl/imginfo.c
M	test/bin/utilities

commit 625e463665c02e8e40275ddccea5526a2c7a8026
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 17:55:05 2021 -0700

    Added some extra debugging output to the build process.

M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc

commit 10d1c7efc9fd5be0d23e66af75ded031cbb858d8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 17:43:36 2021 -0700

    Added some extra debugging output to the build process.

M	test/bin/utilities

commit b350e1ad1343fb9465e2c391b733177095f8548f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 17:24:13 2021 -0700

    Added the generation of some extra debugging output to the GitHub
    Actions
    CI workflow.

M	.github/workflows/ci.yml
M	build/build
M	build/build_all
M	test/bin/run_codec_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_3
M	test/bin/run_test_4
M	test/bin/run_test_5

commit 62aa113ed1fef869bb8e3f9d8943d3b129c2941d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 16:38:00 2021 -0700

    Changed the image search path in various scripts to use semicolons
    (instead of colons) to delimit entries, since Windows may use
    colons in
    path names.

M	test/bin/jpcod
M	test/bin/run_codec_test
M	test/bin/utilities

commit 9303ae4024c8c25edda713f874bb0ffbd2c13f31
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 16:17:11 2021 -0700

    Increased the verbosity level of the GitHub Actions CI workflow.

M	.github/workflows/ci.yml
M	.github/workflows/win_ci.yml
M	build/build
M	build/build_all

commit 88a90340509aa6112e657a2bd5586ddeee2e78a8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 14:22:15 2021 -0700

    Added support for partial testing of JasPer under Windows in the
    GitHub
    Actions CI workflow.

M	.github/workflows/ci.yml
M	build/build_all

commit ec9e3a101b15befc342664f7aec3b6b7684dee1b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 13:39:22 2021 -0700

    Made some changes that move towards being able to run the GitHub
    Actions
    CI workflow on a Windows runner.

M	.github/workflows/win_ci.yml
M	src/appl/CMakeLists.txt

commit 42952746ba07d22f9f765c468e69281aa46661d8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 13:25:17 2021 -0700

    Added a CLI option to the jasper program to list the supported codecs.
    Modified the run_test_5 script to use this option to detect the
    absence
    of JPEG codec support.

M	src/appl/jasper.c
M	test/bin/run_test_5

commit acc951d77c80fd5166e18c256c581f16f246670e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 12:29:25 2021 -0700

    Fixed a portability bug in the multithread program (related to
    binary versus text mode).

M	src/appl/multithread.c

commit 7fa551358aa935a24d74b85d5160f7a8069544a8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 12:18:49 2021 -0700

    Fixed a portability bug in the multithread program (related to
    the name
    of the null device).

M	src/appl/multithread.c

commit 295fd45db7e7d04893932efe9d490bf71591686b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 12:04:28 2021 -0700

    Cleaned up the code for jas_tss_create in the Windows case.

M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_thread.h

commit d6210ef2c1bf101fbb4c46f618985aaffec24cfc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 11:46:52 2021 -0700

    Added the printing of an error message when library initialization
    fails.
    Added a missing null-pointer check in the library initialization code.

M	src/libjasper/base/jas_init.c

commit ede3dffdfbd53991eb240a55ad9c5ea6a0fbc4d4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 10:51:56 2021 -0700

    Added the printing of some informational messages in the top-level
    CMakeLists.txt.

M	CMakeLists.txt
M	build/build

commit 12a75e0451eceba4de7e936b9467d24b95205112
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 10:32:23 2021 -0700

    Added special handling of Windows builds in the build script.

M	build/build

commit d2ce89e79982bd96469a77ad5d689e899b6184b9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 10:18:43 2021 -0700

    Added a --debug-level option to the CLI for the build script.

M	.github/workflows/win_ci.yml
M	build/build

commit f050447e9464f028eb717d2476f8849f89f7f6e6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 10:05:27 2021 -0700

    Experimenting with GitHub Actions.

A	.github/workflows/win_ci.yml

commit aa792f3c124d4648675b08107e2335fea4798856
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 09:45:49 2021 -0700

    Removed the inclusion of unistd.h in jas_stream.h.

M	src/libjasper/include/jasper/jas_stream.h

commit 0498199d85d0a2f37e83b232e9fac80c10724c7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 09:24:28 2021 -0700

    Made some changes in an attempt to fix a MacOS build issue.

M	CMakeLists.txt

commit 3e47508eb024dd1405cac06a05c935fcae386acf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 09:04:03 2021 -0700

    Added a missing include of unistd.h.

M	src/libjasper/include/jasper/jas_stream.h

commit c87f1c879bce270bc479f1b3bbc02f083427d459
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 24 08:47:29 2021 -0700

    Cleaned up the top-level CMakeLists.txt file.

M	CMakeLists.txt
D	build/cmake/modules/JasOpenGL.cmake
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_dll.h

commit e2c4b2a1043cbc64008157c694f58faeb9623d79
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 23 09:28:46 2021 -0700

    Updated the installation instructions in the file INSTALL.
    Renamed the preprocessor define JAS_ATTRIBUTE_DISABLE_USAN to
    JAS_ATTRIBUTE_DISABLE_UBSAN.
    Renamed the CMake option DJAS_ENABLE_USAN to DJAS_ENABLE_UBSAN.

M	CMakeLists.txt
M	INSTALL
M	build/build
M	build/cmake/modules/Sanitizers.cmake
M	build/my_build
M	src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/include/jasper/jas_math.h

commit 6dfb8097dc0f509ce0f45556362e2730cb05822a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 23 07:52:48 2021 -0700

    Added some new build configurations to the build_all script.

M	build/build_all

commit eb53548a96252ef3a295c43fef5f276bc835960e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 23:12:14 2021 -0700

    Fixed a build problem with Clang on MacOS (resulting from an invalid
    compiler option).

M	CMakeLists.txt

commit 5b407ee34a27c9f09637fa37931be0fc9536114c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 22:41:25 2021 -0700

    Fixed some minor build issues.
    Added the jas_context_get_vlogmsgf function, which was missing.
    Added more content to the manual.

M	CMakeLists.txt
M	build/build
M	doc/src/overview.dox
M	src/libjasper/include/jasper/jas_init.h

commit 58d8d40d9a0c7fbb96d50bf4ed2479a05243366f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 16:06:20 2021 -0700

    Disabled Windows builds that use GitHub Actions CI, since this
    currently
    fails and Windows builds are already being performed by Appveyor CI
    anyways.

M	.github/workflows/ci.yml

commit 23bb7f352489e4b5eda80cb984bdaeab298561e9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:55:50 2021 -0700

    Added an attempted fix for a MacOS build problem.

M	CMakeLists.txt

commit 36afd8ba60b56fc19da355eb943deb79f6ff166a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:49:53 2021 -0700

    Changed the method used to determine the threading library in the
    top-level CMakeLists.txt file.

M	CMakeLists.txt

commit ff2c5c4f8660fd2252507ddc072758feb02deee2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:36:09 2021 -0700

    Fixed a bug in the top-level CMakeLists.txt file impacting the MacOS
    platform.

M	CMakeLists.txt

commit 951d3fe1327255197e38763d60ffe45d9ffc433b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:32:10 2021 -0700

    Made further changes to address CI related problems.

M	build/build_all

commit ab838d6b2b2a72ebd0011b3b9dcb9627d696af47
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:27:10 2021 -0700

    Modified the build_all script in an attempt to fix GitHub Actions CI
    problems for MacOS.

M	build/build_all

commit c7dad93d6fface7a1457bcd56ac8a90240abccc9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:09:47 2021 -0700

    Added a special case for MacOS when finding the threads library.

M	CMakeLists.txt

commit a5a202908f410550592f3f9905b21b0a7fb6293b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 15:00:22 2021 -0700

    Added the jas_realpath script in order to provide the functionality
    of the realpath program on MacOS.

M	build/build
M	build/build_all
A	build/jas_realpath

commit 99c129b5c425bdc3cea3b4ecf768518a73a37fb5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 14:39:33 2021 -0700

    Added more platforms to the CI workflow.

M	.github/workflows/ci.yml

commit 7da6f69dea6356e23a8c1f546b316c79dfb52bb5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 14:13:32 2021 -0700

    Improved the method used to detect C11 threading support.

M	CMakeLists.txt
M	build/build_all
M	src/libjasper/include/jasper/jas_config.h.in

commit ac15ab8294e2229dffa9ef5b730d52d2b849dadb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 13:28:50 2021 -0700

    Revised the installation instructions.

M	INSTALL

commit 7836fbda6cbe21dbb9d4d88677200077e37f7acf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 13:09:14 2021 -0700

    In the CI workflow, the test using TSan has been modified to build
    with POSIX threading support.

M	build/build_all

commit 0685f6a59e265e335a99804d0ed966531ab5fc47
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 12:44:16 2021 -0700

    Reworked the build scripts and the GitHub Actions CI workflow in order
    to allow more build configurations to be tested.

M	.github/workflows/ci.yml
A	build/build
A	build/build_all

commit 5b83edf1e0e4d8e57247a5160ddf842a83195529
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 22 10:50:35 2021 -0700

    Changed the build process to use CMake to determine the appropriate
    compiler/linker flags to use for hiding symbols for shared libraries.
    Added the CMake-generated jas_export_cmake.h header.
    Replaced JAS_DLLEXPORT and JAS_DLLLOCAL with JAS_EXPORT and JAS_LOCAL,
    respectively.

M	CMakeLists.txt
M	build/my_build
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_dll.h
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/include/jasper/jas_version.h

commit cd4266f3b0580ed9b0c44e0cd703e8e7bbf57071
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Aug 21 15:50:42 2021 -0700

    Fixed a bug in how C11 threading support is detected.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_debug.h

commit 2bb7a330c75828b6a8c3607b81cb27d5eefa2d3e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Aug 19 13:32:24 2021 -0700

    Renamed some functions related to logging.
    Commented out some obsolete settings from the Doxygen configuration
    file.
    Made further improvements to the documentation.

M	doc/Doxyfile.in
D	doc/src/initialization.dox
M	doc/src/overview.dox
M	src/appl/imginfo.c
M	src/appl/multithread.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_init.h

commit 58832c6103e5f9b4f06556d98d6879ab82f6be52
Merge: 8b51dc3 90000d5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 18 10:14:35 2021 -0700

    Merge branch 'mdadams-callbacks'

commit 90000d531eab4f14b27f22602d8ee18326e9b0ab
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 18 09:09:07 2021 -0700

    Enabled the JAS_ENABLE_HIDDEN build option by default.
    Made numerous improvements to the my_build script.
    Fixed a bug in the file_close function associated with a potentially
    uninitialized variable.
    Added some missing JAS_DLLEXPORT qualifiers on functions.

M	CMakeLists.txt
M	build/my_build
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_debug.h

commit 79d28727141f608eef79649918c4657bb80068c4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 17:37:05 2021 -0700

    Removed the JAS_INTERNAL_USE_ONLY preprocessor define from the code
    for all of the codecs, as the codecs should be written without relying
    on the base library internals.  In the process of doing so, added the
    new functions:
	jas_context_get_debug_level
	jas_context_get_dec_default_max_samples
	jas_logmemdump
    Changed all of the error, warning, informational, and debug
    messages to
    be generated via the logging interface.
    Added a new CLI option to the imginfo program to be used for testing
    purposes.
    In the JP2/JPC codec, changed all of the dump/dumpdata functions
    to use
    the logging interface instead of writing to standard error.
    In the JPC codec, added some missing checks on the return values of
    functions that could lead to assertion failures.

M	src/appl/imginfo.c
M	src/appl/multithread.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_log.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_cod.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit e27f23a51c711876ed4b4c378d8cf868e43aee17
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 08:16:10 2021 -0700

    Made an attempt to fix a build issue on Windows.

M	src/libjasper/include/jasper/jas_thread.h

commit 0d283034514aa93e1824d9f81d9462eae2c5a636
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 08:13:47 2021 -0700

    Made an attempt to fix a build issue on Windows.

M	src/libjasper/include/jasper/jas_thread.h

commit a339214bf7f3b9a8b75dc3a528b0ee6f08bd9438
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 07:53:03 2021 -0700

    Fixed a typo in an invocation of assert.

M	src/libjasper/include/jasper/jas_thread.h

commit 9237fdd330bfbbabe080d1635247e76401bcc928
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 07:47:45 2021 -0700

    Added more multithreading support functionality for MSVC under
    Windows.

M	src/libjasper/include/jasper/jas_thread.h

commit 6e86bdfda5ab2d7e7c4fec4bd59f6fb0ee44a281
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 07:17:41 2021 -0700

    Changed the multithread program to use jas_getopt instead of getopt.

M	src/appl/multithread.c

commit 3a67a180a1c949de7f1c8197bf30726e5968efe0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 02:00:21 2021 -0700

    Made an attempt to fix a build issue on Windows.

M	src/libjasper/include/jasper/jas_thread.h

commit ff91c1a599ae2035ecbfaeb3ceb10916560da44d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 01:57:06 2021 -0700

    Made an attempt to fix a build issue on Windows.

M	src/libjasper/include/jasper/jas_thread.h

commit ff4bc43f34f71573b676babe2c362acda7c50935
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 01:51:41 2021 -0700

    Made an attempt to fix a build issue on Windows.

M	src/libjasper/include/jasper/jas_config.h.in

commit c4af343f419cf0c9704e7859c4f40814e74bd557
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 01:41:53 2021 -0700

    Added a check for Win32 Threads in the top-level CMakeLists.txt file.
    Changed the method for selecting the threading library to use.
    Fixed a bug in the Sanitizers.cmake CMake module.

M	CMakeLists.txt
M	build/cmake/modules/Sanitizers.cmake
M	build/my_build
M	src/libjasper/include/jasper/jas_config.h.in

commit f670eff45caed11ae19e7546acd134fa370274d2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 17 01:20:24 2021 -0700

    Added some partial threading support for MSVC on Windows.

M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_thread.h

commit 8b51dc31e915b5c2e73bd82ee7846d7b311d9ec3
Merge: 82090f1 abda969
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 16 10:18:09 2021 -0700

    Merge pull request #297 from jubalh/2033news

    Add issue numbers to 2.0.33 news

commit abda969eb7cb2890b7ef0c3e744b5e737f8c51c4
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Aug 16 09:08:02 2021 +0200

    Add issue numbers to 2.0.33 news

M	NEWS

commit 1711d094e2a51076505197595fc7501d8305db52
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Aug 14 22:32:17 2021 -0700

    Restructured some of the code for generating log messages.
    Changed all generation of messages for errors, warnings, informational
    purposes, and debugging to be done with the jas_printferror,
    jas_printfwarn, jas_printfinfo, and jas_printfdebug functions.
    Added a missing failure check on the return value of an invocation of
    jas_matrix_create.
    Added more documentation to the source code and manual.
    Added some missing source-code annotations for Doxygen.
    Removed some unnecessary include directives from the demo application
    programs.
    Removed the use of an obsolete build option from the my_build script.

M	build/my_build
M	doc/Doxyfile.in
D	doc/src/images.dox
M	doc/src/initialization.dox
M	doc/src/modules.dox
A	doc/src/overview.dox
D	doc/src/streams.dox
M	src/appl/fuzz.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/appl/multithread.c
M	src/appl/tmrdemo.c
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/base/jas_tvp.c
M	src/libjasper/base/jas_version.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_init.h
C074	src/libjasper/include/jasper/jas_debug.h
src/libjasper/include/jasper/jas_log.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jasper.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit 6e375fda5cfdff9d9c56d5bb89ca592683f5bc8a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Aug 14 12:25:50 2021 -0700

    Revised some of the documentation on library initialization and
    shutdown.

M	build/my_build
M	doc/src/initialization.dox
M	src/libjasper/include/jasper/jas_malloc.h

commit f4dc9ac16d9eb6bffbd62877cd14810a54308cb2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Aug 4 11:32:06 2021 -0700

    Fixed a typo in the documentation.

M	src/libjasper/include/jasper/jas_malloc.h

commit 71d4372f336b99cccdff7be8363d51e9e60d088a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 2 11:41:38 2021 -0700

    Made some corrections/improvements to the initialization/shutdown
    section of the manual.

M	doc/src/initialization.dox

commit 0c6589f6afa98ab6a19e83fe00d6b9140a4c2477
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 2 10:22:33 2021 -0700

    deploy_gh_pages script:
    Made the updating of the link for the latest version of the manual
    to be
    optional.

M	build/github/deploy_gh_pages
M	build/github/make_main_gh_page

commit a2306d2bd4eed7c04252f97ff5cd04fda3d402cf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 2 10:17:39 2021 -0700

    Added the generation of a main page for the GitHub pages site for
    the manual.

M	build/github/deploy_gh_pages
A	build/github/make_main_gh_page

commit c74fdc657fa96217ca6168c1d4baae6800f2fa37
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 2 00:08:28 2021 -0700

    Added some information about library initialization and shutdown to
    the manual.

M	doc/Doxyfile.in
D	doc/src/faq.dox
M	doc/src/getting_started.dox.in
A	doc/src/images.dox
R066	notes.txt	doc/src/initialization.dox
A	doc/src/streams.dox

commit 20ba21a893707990aa13a4bd5db153ad81e77d11
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 21:54:01 2021 -0700

    Changed the memory allocator wrapper to use actual allocated size
    instead
    of requested size when tracking memory usage.
    Fixed several bugs in some of the math functions for safe integer
    arithmetic.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_math.h

commit 5902caa3327a6c14aa3459b98fd68e0e17ff116d
Merge: e3d4a97 82090f1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 14:45:47 2021 -0700

    Merge branch 'master' into mdadams-callbacks

commit 82090f11c663c00e4fb0fe3e17a095a37f64dc9e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 14:33:47 2021 -0700

    Change the GitHub Actions configuration so that releases are only
    performed for tags of the form "version-*.*.*".

C070	.github/workflows/release.yml
.github/workflows/deploy_manual.yml
M	.github/workflows/release.yml

commit fe00207dc10db1d7cc6f2757961c5c6bdfd10973
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:50:31 2021 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit e3d4a977a37d4410aa416dd6f9eec8c04be6da6c
Merge: 0700264 9dcd9c9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:30:29 2021 -0700

    Merge branch 'master' into mdadams-callbacks

commit 9dcd9c94ccf7b7cb589929ca2aea1e2893d06c01
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:24:12 2021 -0700

    Renamed the Travis CI configuration file that was accidentally renamed
    by a merge.

R100	.travis.yml-DISABLE	.travis.yml

commit 1fa3618add5a6636a2c0778575d29ac7efe49b7c
Merge: 87a8171 82c9de0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:21:35 2021 -0700

    Merge branch 'master' into mdadams-makerelease

commit 87a8171d02612ea131519a34bef729392c6477fc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:17:16 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml
M	build/github/deploy_gh_pages

commit 82c9de00d49683ccbb9605ead92facc9367c6bd8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 13:14:14 2021 -0700

    Changed the Travis CI configuration so that it no longer deploys the
    JasPer Manual to its corresponding GitHub Pages site.

M	.travis.yml

commit e1f95f23067156ba2e37a929b6740504b7cf9842
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:38:47 2021 -0700

    Experimenting with GitHub Actions.

M	build/make_release

commit 50e5786111075525049c6d8205de65b58cecb6a6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:32:58 2021 -0700

    Experimenting with GitHub Actions.

M	build/github/deploy_gh_pages

commit bc79235ae626a48b6aef9acc66cf8ce0d684abec
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:23:59 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml

commit 3b05453591dfe1ecea0c69ac701fb5afe9d804d9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:12:28 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml

commit b69fec1780f9f2e86e3dffd8914e42effea60fb2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:10:47 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml

commit fc4c9328c57809c397facc6021b9bd8e9bf7e825
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:08:53 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml

commit 7b4968ce65683ca25998320f56b21ab7b0aa9d7c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 12:05:54 2021 -0700

    Experimenting with GitHub Actions.

M	.github/workflows/release.yml

commit 654369e519dfc7e9ea7a127fb9e4aabf346fa0fd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 1 11:43:44 2021 -0700

    Added some preliminary support for an improved GitHub pages site
    for the JasPer manual.

M	.github/workflows/release.yml
R077	.travis.yml	.travis.yml-DISABLE
A	build/github/deploy_gh_pages
A	build/github/prebuild
M	build/make_release

commit 0700264387355f94dcfcb27fb02565020d146565
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 31 13:29:29 2021 -0700

    Added the -Wno-sign-compare option to the GCC compiler flags in order
    to avoid many compiler warnings for benign code, which could result in
    other important warnings being missed.

M	CMakeLists.txt

commit 378f1ac05ee1205ca1b46324bcffed00957c037b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 30 22:42:07 2021 -0700

    Added support for the use of the POSIX Threads Library for threading
    functionality.
    Changed the build process to allow more control over the selection of
    the threading support to be used (i.e., the POSIX Threads Library
    versus
    C11 threading support).

M	CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/appl/multithread.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_thread.h

commit 008a8dcf489b1bf4ecb279dec9847ba65ee7d3f1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 30 08:06:41 2021 -0700

    Added some missing include directives.

M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h

commit ca07c7041f553d688093cc777b1f1e76c81b3a36
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 30 00:43:58 2021 -0700

    Added support for multiple library contexts (for use in multithreaded
    applications).
    Moved most of the previously library-wide state into into library
    contexts (where some of this state includes: the maximum number of
    samples for decoding, JPC/JP2 look-up tables, the debug level, etc.).
    Added an example application for testing the library's multithreading
    support.
    Improved some of the error messages in scripts used for testing.
    Fixed various other issues.

M	CMakeLists.txt
M	NEWS
M	build/my_build
M	notes.txt
M	src/appl/CMakeLists.txt
D	src/appl/dummy.c
D	src/appl/dummy2.c
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
A	src/appl/multithread.c
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
A	src/libjasper/jpc/jpc_cod.c
M	src/libjasper/jpc/jpc_cod.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_enc.h
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2enc.h
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	test/bin/jpenc
M	test/bin/run_codec_test
A	test/bin/run_test_5

commit 76c41ddae262443596d2d6f346c435f51c26c4f6
Merge: 398da88 ed971e9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Jul 30 00:07:33 2021 -0700

    Merge pull request #296 from evanmiller/patch-1

    Use `__builtin_unreachable()` only with GCC 4.5+

commit ed971e908348e8d2cc6f11bf63e50196a47ab700
Author: Evan Miller <emmiller@gmail.com>
Date:	Wed Jul 28 14:36:28 2021 -0400

    Use __builtin_unreachable() only with GCC 4.5+

M	src/libjasper/include/jasper/jas_compiler.h

commit 867d6d92b868dd25a586ed27381b921cf22e3c5e
Merge: aa142c2 398da88
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 25 23:06:45 2021 -0700

    Merge branch 'master' into mdadams-callbacks.

commit 398da88f772b860432d655390e2dec5842d364f5
Merge: 1caaa0c f1489c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 25 11:13:33 2021 -0700

    Merge PR 295 with modifications.

commit aa142c2a83fc47a0415abb17e7a1107b68e47405
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 25 10:12:42 2021 -0700

    Made the following settings for the library customizable:
	1) the function used to handle eprintf operations
	2) the image format table

M	src/appl/jasper.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h

commit 1caaa0cb3e1193913da814457da5f5245c93fdf9
Merge: 2de285b 4d51902
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 25 09:43:57 2021 -0700

    Merge pull request #294 from jmroot/tarball-vers

    Include version number in release tarball name

commit ec11e58723b304796237a51c4fb36381aba4c2f7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 24 15:55:28 2021 -0700

    Fixed some inconsistent declarations in the library code.

M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c

commit 98e1ac7a1647ae9fe8949479acb1ad34477678b0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 24 15:01:57 2021 -0700

    Added an attempt at a workaround to MSVC not supporting max_align_t.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_types.h

commit 1660314dbce84429afe376c1f75dfdb0305aaa59
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 24 14:50:58 2021 -0700

    Added a missing preprocessor include.

M	src/libjasper/base/jas_malloc.c

commit edcede0ed58038fecc5ed98067524a5e84c369bd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 24 14:31:55 2021 -0700

    Overhauled the handling of memory allocation in the library.
    Reworked the handling of library setup at run-time (i.e.,
    configuration and
    initialization).
    Added some preliminary threading support to the library.

M	CMakeLists.txt
M	build/cmake/modules/Sanitizers.cmake
M	build/my_build
M	notes.txt
M	src/appl/CMakeLists.txt
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
C054	src/libjasper/include/jasper/jas_malloc.h
src/libjasper/include/jasper/jas_thread.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit f1489c5edd5f251dd7f64f1a72ce1ab877348189
Author: Joshua Root <jmr@macports.org>
Date:	Sat Jul 24 17:42:22 2021 +1000

    Fix check for overflow builtins

    Not all versions of clang have these builtins, so use clang's
    __has_builtin macro to check that they are available before using.

M	src/libjasper/include/jasper/jas_math.h

commit 4d51902b63952171d5c1c569673abb92bc828397
Author: Joshua Root <jmr@macports.org>
Date:	Fri Jul 23 16:50:53 2021 +1000

    Include version number in release tarball name

M	.github/workflows/release.yml
M	build/make_release

commit 5786d37c1a9e25c113fc9db577898cc4ecdb6c66
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jul 19 23:45:46 2021 -0700

    Added a check target for the CMake-based build.
    Added some extra command-line options to the my_build script.

M	CMakeLists.txt
M	build/my_build
M	src/appl/CMakeLists.txt

commit 8fce253d8ee19c001954540da3437176cf330ee9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jul 19 10:51:59 2021 -0700

    Moved the contents of the jas_conf.h header into the jas_init.h
    header.

M	src/libjasper/CMakeLists.txt
D	src/libjasper/base/jas_conf.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/bmp/bmp_dec.c
D	src/libjasper/include/jasper/jas_conf.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit f3cd939b58addb9ddc68c480d7250ea460c9c568
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jul 12 10:31:23 2021 -0700

    Revised the documentation for the jas_init_custom function.

M	src/libjasper/include/jasper/jas_init.h

commit b48c3660037069b21af275931a43082fea40c7ad
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 11 09:04:18 2021 -0700

    Bumped the major version number since many significant API changes
    have
    been made.
    Changed the interface for the jas_init_custom function by merging the
    specification of the allocator with the other configuration settings.
    Made the following items configuration parameters that can be set via
    the jas_init_custom function:
       - the image formats to be handled by the library
       - the memory usage limit for the BMA allocator

M	CMakeLists.txt
M	build/my_build
A	notes.txt
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_conf.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_conf.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h

commit 1f3b60131d2e175e555411b2da90e4aa62114b9b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 10 22:08:47 2021 -0700

    Renamed some variables for the BMA allocator.

M	src/libjasper/base/jas_malloc.c

commit c3f5bd55c65fb85eacd23c6c0a8f790f777ef80d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 10 20:36:37 2021 -0700

    The JPC decoder had some execution paths associated with various
    failure
    modes that did not properly initialize all of the decoder state.
    When such a path is hit, the decoder is unable to clean up properly
    (e.g., often dying with a bad pointer access).

M	src/libjasper/jpc/jpc_dec.c

commit da0495e352f05565d1843704514e5eb26821c58f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jul 4 12:49:29 2021 -0700

    Changed the behavior of the jas_init_custom function so that it
    no longer
    registers jas_cleanup as an atexit callback.

    Changed the jas_cleanup function to clear the memory allocator used by
    the library (in order to try to force a crash if someone invokes the
    memory allocator after the library is shutdown).

    Added some extra error checking/detection to the BMA allocator.

    The following changes were made to the top-level CMakeLists.txt file:
    Added the following new CMake build options:
	JAS_USE_JAS_INIT
	JAS_USE_DEFAULT_ALLOCATOR
    Enabled the exporting of compile commands via
    CMAKE_EXPORT_COMPILE_COMMANDS.

M	CMakeLists.txt
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_malloc.h

commit bea5945bb59e09f26886e4d65cf8d136515c1fca
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Jul 3 16:09:01 2021 -0700

    Fixed some compiler warnings.

M	src/libjasper/base/jas_conf.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_malloc.h

commit 5cf488a508d9254c67af9094c349ef57545fa1e0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Jun 28 15:37:37 2021 -0700

    Fixes #292.

    Added support for a user-specified memory allocator (via
    jas_init_custom).
    Added the ability to configure at run-time the parameter controlling
    the
    default maximum number of samples (for decoding).

    Changed some calls to malloc/free to use jas_malloc/jas_free.

M	CMakeLists.txt
M	NEWS
M	doc/src/modules.dox
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/CMakeLists.txt
C079	src/libjasper/include/jasper/jas_init.h
src/libjasper/base/jas_conf.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/bmp/bmp_dec.c
C083	src/libjasper/include/jasper/jas_init.h
src/libjasper/include/jasper/jas_conf.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit 2de285b864d64ecc66d5389a5d8c50cc8a439b0c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jun 20 13:43:40 2021 -0700

    Fixes #291.
    The JP2 decoder was aborting instead of returning with an error
    when an
    invalid ICC profile was provided.  This problem has been fixed.
    A new JP2 decoder test case was also added.

A	data/test/bad/291.jp2
M	src/libjasper/base/jas_icc.c

commit 543e18d0004dcf63b65b2ab4a22d3384517d7c22
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Apr 22 11:04:56 2021 -0700

    Added a mention of the CVE assigned for issue #268 to the NEWS
    document.

M	NEWS

commit 025768e2a5021b58f62d78155ff3f9ecd548cf22
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Apr 18 22:06:02 2021 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit 50db48b031215866c22f5050f573ddc514a04500
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Apr 18 22:03:32 2021 -0700

    Revised the GitHub Actions workflow for releases.

M	.github/workflows/release.yml
A	build/extract_release_notes
A	build/make_release

commit d6cec7261e777a38e6d42dddeb9fe98d0e26a75e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 15:24:32 2021 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit 4304676d259eb98d691b45e53357d4ece1f66d0b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 15:13:47 2021 -0700

    Added a GitHub Actions workflow file for handling releases.

A	.github/workflows/release.yml

commit 621d23114aff461f8abe2c7c1f9dd149a39cf51f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:49:55 2021 -0700

    Disable the Windows and MacOS builds in the matrix for the ci.yml
    workflow.

M	.github/workflows/ci.yml

commit 0ea599539d01e1306692aab02d8bec0529c1b751
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:44:52 2021 -0700

    Removed more dependencies on Make from the my_build script.

M	build/my_build

commit 9d271237b7d042a784a7161ef83f48b940f672d7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:34:42 2021 -0700

    Added the specification of the shell in ci.yml workflow.

M	.github/workflows/ci.yml

commit 21e46f59cb79e75eb805aac16b3588508a0a6fec
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:30:47 2021 -0700

    Removed a few dependencies on Make from the my_build script.

M	build/my_build

commit 8a48ae28876d37e35304cd1a3b567f6cf2801639
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:18:43 2021 -0700

    Added multiple compilers to the matrix for the ci.yml workflow.

M	.github/workflows/ci.yml

commit 3ca26b26271e0c9fd2662694eaf0217559802f98
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Apr 17 00:03:14 2021 -0700

    Disabled fail-fast for the matrix in the ci.yml workflow.

M	.github/workflows/ci.yml

commit d0f989deb4022cd6189d11eac0f535cf2abc95eb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Apr 16 23:58:02 2021 -0700

    Added multiple runners to the ci.yml workflow.

M	.github/workflows/ci.yml

commit 3ebc4bc51533f392ae0690de628e3a758d7b04bb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Apr 16 23:34:07 2021 -0700

    Added some experimental setup for GitHub Actions.

A	.github/workflows/ci.yml

commit 4b34f09099e8120444bd5959f9ac5a80485a03f0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Apr 16 19:13:18 2021 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit d1845f5e4abe45e1cfb420e3222686c2eae8071b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Apr 16 18:39:54 2021 -0700

    Fixes #289.
    An earlier version of the JP2 decoder was too relaxed in its
    checking for
    valid codestreams (i.e., the decoder did not reject some invalid
    codestreams).  In fixing this problem, the checks in the decoder were
    made overly restrictive so that some valid codestreams were rejected.
    To resolve this issue, some of the checks have now been relaxed
    slightly
    so as not to reject valid codestreams.

M	src/libjasper/jp2/jp2_dec.c

commit 5173ef1fbcdd90533a4450f51600ad42b14cd773
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Mar 29 07:57:11 2021 -0700

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit 717aeda40883b91f51161ea6c5dcac5f50ef7a59
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 28 19:19:17 2021 -0700

    Issue #269 appears not to have been completely fixed.  This issue
    relates
    to the JP2/JPC decoder.  A bad pointer dereference can still occur.
    This problem has now been fixed (hopefully).  The return value of
    jas_image_depalettize is no longer ignored.  Also, a check has been
    added to ensure that certain box types (CMAP/PCLR/CDEF) have been
    previously processed to avoid dereferencing null pointers.

M	src/libjasper/jp2/jp2_dec.c

commit a8cb065572f3bd05ed4d5330914971934fa4bf90
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 28 11:45:20 2021 -0400

    Fixes #287.
    Removed a bogus assertion that causes the program to be aborted when
    a harmless type of overflow is encountered in the JPC decoder.

M	src/libjasper/jpc/jpc_dec.c

commit 7512494d5012115cf83a3482a9b44424dbc24cd1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 28 11:43:50 2021 -0400

    Added -DJAS_ENABLE_DANGEROUS_INTERNAL_TESTING_MODE=true to the
    cmake configure options used by the my_build script.

M	build/my_build

commit 66f3d9d59e6eb4d7263c5e8511f25e2ace0e43be
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 21 13:19:34 2021 -0700

    Fixes #286.

    The stream code was ignoring the JAS_STREAM_FILEOBJ_NOCLOSE flag
    during a file-object close operation.  This has now been fixed.

M	src/libjasper/base/jas_stream.c

commit 9cec977a2b492d4c56c876adb81de46c2ef4c397
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 20 09:57:23 2021 -0700

    Added the logging of some extra debug information in the JP2/JPC
    codec.

M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/jpc/jpc_dec.c

commit 50b812b1fda099030c95b364d97de92146d29a3d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Mar 19 12:04:34 2021 -0700

    Fixes #284.
    The function jp2_getint (in the JP2 codec) did not account for the
    fact that int_fast32_t/uint_fast32_t may be larger than 32 bits.
    This has now been fixed.

M	src/libjasper/jp2/jp2_cod.c

commit 65f020aef4fbaff9a7bc4cbdb2110d5e7e5565f5
Merge: 1032266 f261ced
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 18 08:27:28 2021 -0700

    Merge pull request #283 from alex/patch-1

    fix another potential source of undefined behavior

commit f261ced1f7a422bcaf8b4aac816192a01bc2fe48
Author: Alex Gaynor <alex.gaynor@gmail.com>
Date:	Thu Mar 18 11:21:01 2021 -0400

    Update pgx_dec.c

M	src/libjasper/pgx/pgx_dec.c

commit 10322667205fa9c198ca26f7ace197ed00846f83
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Thu Mar 18 12:23:26 2021 +0100

    Release 2.0.27

M	CMakeLists.txt
M	NEWS

commit 9f09ab50e2987e3fe1f9779dd5e2aa55b8b02b0c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 14 09:21:09 2021 -0700

    Fixes #223.
    Added some comments to the NEWS document regarding breaking changes
    made to the JasPer library sometime around version 2.0.19.

M	NEWS

commit 63a87fb0a1d5461d9cb5858b1edefa987155f283
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 14 09:05:40 2021 -0700

    Added a test case for the JP2 codec.

A	data/test/bad/277.jp2

commit e616594e38140b9dac3f16fd645dcf0eea96782f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Mar 14 08:52:11 2021 -0700

    Fixes #278.
    The JP2 decoder was allowing integers to be decoded when those
    integers were too large in size.  A check has now been added
    to catch this problem.

A	data/test/other/278.jp2
M	src/libjasper/jp2/jp2_cod.c

commit f4eeac74b4496515d68afc85531cc694104be459
Author: Alex Gaynor <alex.gaynor@gmail.com>
Date:	Sun Mar 14 11:10:46 2021 -0400

    fix another potential source of undefined behavior

    if prec is 31, this leads to an undefined shift

M	src/libjasper/pgx/pgx_dec.c

commit f94e7499a8b1471a4905c4f9c9e12e60fe88264b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 20:04:58 2021 -0800

    Fixes #269.
    Added a check for an invalid component reference in the JP2 decoder.
    Added a related test case for the JP2 codec.

A	data/test/bad/269.jp2
M	src/libjasper/jp2/jp2_dec.c

commit 1504ddd7e03a11a381070e853ee67c4d3c13c7a3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 14:12:29 2021 -0800

    Fixes #270.
    Fixed an arguably incorrect type for an integer literal in the
    PGX decoder.

M	src/libjasper/pgx/pgx_dec.c

commit 2db73b5b9f49feac4e1f0d8b33bf8f2acc7f989b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 13:34:54 2021 -0800

    Added another test case for the PGX codec.

A	data/test/bad/276.pgx

commit 3228d83d8c7a36492c56b89643466e6ca3ea4afa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 13:23:00 2021 -0800

    Added checks for dimensions of zero in the JPC and JPEG decoders.
    Added two test cases for the PGX codec.

A	data/test/bad/281a.pgx
A	data/test/bad/281b.pgx
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpg/jpg_dec.c

commit 6726b5859187dafe9f95e1220967768268d8d115
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 13:10:12 2021 -0800

    Added two new PGX codec test cases.

A	data/test/bad/271a.pgx
A	data/test/bad/271b.pgx

commit 98d27a542d952e289da3727bdd160eb7f93802da
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 13 12:47:46 2021 -0800

    Fixes #274.
    Added a check for an image containing no samples in the PGX decoder.

A	data/test/bad/274.pgx
M	src/libjasper/pgx/pgx_dec.c

commit 5083b949f0caa5bc6257cd81162a33c15bf8a1d1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Mar 5 05:59:24 2021 -0800

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit c4144a6fdb2660794136d1daaa80682ee40b138b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Mar 5 05:36:20 2021 -0800

    Fixes #268 (A Null Pointer dereference).
    The JP2 decoder was not checking if a component number referenced by
    a CDEF box was valid.  This has now been fixed.  A new test case
    related to this bug has been added to the test suite as well.

A	data/test/bad/268_poc.jp2
M	src/libjasper/jp2/jp2_dec.c

commit 2f280db4a72cc6660f97226d34db49c50599808a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Feb 10 13:48:43 2021 -0800

    Added a note about CVE-2021-26927 to the NEWS document.

M	NEWS

commit 15971f282d278018c7b3ccc769681059a0f74394
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Feb 9 08:25:12 2021 -0800

    Added a note about CVE-2021-26926 to the NEWS document.

M	NEWS

commit 6afcd413d8a610d770618caf2440351dc0bad8ef
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Feb 8 10:08:25 2021 +0100

    Add missing NEWS entries

    Among which CVE-2021-3272 which is worth mentioning.

M	NEWS

commit 9092dcb7f7680204ef523c73eb6132162b4358e3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 7 13:12:04 2021 -0800

    Updated the NEWS document and bumped the version number.

M	CMakeLists.txt
M	NEWS

commit 7002634a20913269df72b28a93a1c0f92fb6df0c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 7 13:06:59 2021 -0800

    Added another JPEG-2000 decoding test case.

A	data/test/bad/poc_265.jp2

commit 41f214b121b837fa30d9ca5f2430212110f5cd9b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 7 12:31:55 2021 -0800

    Fixes #264.

    The JP2 decoder was allowing the decoding of a code stream to be
    attempted when the stream has inconsistent values for the number of
    components and/or the component types.  For such invalid streams,
    only a warning would be issued and decoding would proceed.	This is
    dangerous, however, as it can lead to many unexpected paths through
    the code, which in some cases have been demonstrated to result in
    security vulnerabilities.  This code change makes decoding of these
    types invalid code streams a hard error.

A	data/test/bad/poc_264.jp2
M	src/libjasper/jp2/jp2_dec.c

commit c8f622d00fbc0204fa24f4768641b2d6eb565d65
Merge: 49174ab 28fe3b7
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Fri Jan 29 14:33:00 2021 +0100

    Merge pull request #266 from zodf0055980/master

    Prevent free uninitialized pointer

commit 28fe3b7174c46ca9f33cf29e4927ee2bd4c00535
Author: zodf0055980 <zodf0055980@gmail.com>
Date:	Fri Jan 29 19:56:44 2021 +0800

    Prevent free uninitialized pointer
    Fixes #263

M	src/libjasper/jpc/jpc_enc.c

commit 49174ab592cdfa6f1a929a2ee3d4b4976f9459fd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 19 22:59:33 2021 -0800

    Fixes #259

A	data/test/bad/hoob_8.jp2
M	src/libjasper/jp2/jp2_dec.c

commit 8bab5b1625187cf65d2cf1bbbb2a5a53c54e3399
Merge: 9a2835a 75bb65b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Jan 19 07:55:38 2021 -0800

    Merge pull request #261 from jubalh/nospecials

    Remove ternary operation only done on some compilers

commit 75bb65b7ef4c4beefbb4c6f44d71814ee647faa3
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Jan 18 12:17:29 2021 +0100

    Remove ternary operation only done on some compilers

    If this ternary operation creates a problem on some clang version.
    Why not just use the more readable if clause in all cases?

    https://github.com/jasper-software/jasper/issues/260 further reports
    that it also creates problems on intel compilers.

    Instead of adding more and more checks for compatible compilers let's
    just use the if clause.

    Fixes https://github.com/jasper-software/jasper/issues/260

M	src/libjasper/jpc/jpc_enc.c

commit 9a2835a81ce9c41a48f36dadce79f110da8d6c75
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Mon Jan 4 10:11:50 2021 +0100

    Add forgotten change to NEWS

    https://github.com/jasper-software/jasper/commit/3ed71843e485d88fc100a930e5a8784542989f46
    was forgotten to mention.

M	NEWS

commit f2a6987ebdd528d34fe160b2b9d81f0856caf2a0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 3 18:51:32 2021 -0800

    Bumped the version number and updated the NEWS document.

M	CMakeLists.txt
M	NEWS

commit fdc5d4e8bb2fdcc1a167acacd6e6bfbc8bb1969b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 3 18:40:38 2021 -0800

    Added the following preprocessor defines to the jas_config.h
    header:
	JAS_VERSION_MAJOR
	JAS_VERSION_MINOR
	JAS_VERSION_PATCH
    These defines give easier access to the major, minor, and patch
    components of the version than JAS_VERSION.

M	src/libjasper/include/jasper/jas_config.h.in

commit 2fdf698809e1542a7e42a2868e6b1c3be67e74bb
Merge: 0e54fdf 85fed30
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 3 17:41:26 2021 -0800

    Merge pull request #258 from Jamaika1/patch-1

    Add JAS_HAVE_IO_H

commit 85fed30bfb4394fc8429ed20338a147d34a670d4
Author: Jamaika1 <lukaszcz18@wp.pl>
Date:	Wed Dec 30 18:02:15 2020 +0100

    Add JAS_HAVE_IO_H

M	src/libjasper/base/jas_stream.c

commit 0e54fdf695503850ab32cb5bafd6d64ea1ffa144
Merge: cc02d63 3ed7184
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Fri Dec 11 16:30:07 2020 +0100

    Merge pull request #257 from MaxKellermann/alloca_once

    jas_image: call _alloca() only once

commit 3ed71843e485d88fc100a930e5a8784542989f46
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Dec 11 16:16:02 2020 +0100

    jas_image: call _alloca() only once

    Fixes stack overflow bug on Windows, where variable-length arrays are
    not available.  Unlike VLAs, _alloca() calls accumulate, and calling
    it in every loop iteration is certainly a bad idea.

    Regression from commit 5017d3ab2eae49957c3e41cbf9df207b1f31f3bd

    Closes https://github.com/jasper-software/jasper/issues/256

M	src/libjasper/base/jas_image.c

commit cc02d63dde901e06d1f866984fd0e80601deaa13
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Dec 8 08:41:45 2020 +0100

    Release 2.0.23

M	CMakeLists.txt
M	NEWS

commit a1f26d21aa1484f811de7cd64d1565334a655449
Merge: 9975856 4cd52b5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 30 20:46:05 2020 -0800

    Merge branch 'zodf0055980-master'

commit 4cd52b5daac62b00a0a328451544807ddecf775f
Author: yuan <zodf0055980@gmail.com>
Date:	Mon Nov 30 19:03:20 2020 +0800

    Avoid maxrlvls more than upper bound to cause heap-buffer-overflow

M	src/libjasper/jpc/jpc_enc.c

commit 99758566a5fd90d4ff3a8f7827df43b41c49dc05
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 3 09:08:31 2020 -0800

    Changed the Travis CI testing to also consider the arm64 architecture.

M	.travis.yml

commit ee9d2cc0042706243c9118b48f001b7e23ed4fd8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 3 08:59:59 2020 -0800

    Changed the Travis CI testing to also consider the ppc64le
    architecture.

M	.travis.yml

commit 0b619730b9c1b42e2a151b24295e019f29274a45
Merge: 95b2f05 3780087
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 6 09:13:46 2020 -0700

    Merge pull request #250 from jubalh/2022

    Add 2.0.22 changes to NEWS file

commit 3780087f14baab698b1cf73c43ee8a59894ce2c1
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Oct 6 09:22:26 2020 +0200

    Add 2.0.22 changes to NEWS file

M	NEWS

commit 95b2f0583a71c92cddefb54b522efe717b7a5adc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 5 09:41:38 2020 -0700

    Bumped the version number.

M	CMakeLists.txt

commit 7c172c13e909394b9bc0a4fd1a2ecabf59afa4bb
Merge: adbaf67 bd2dfee
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 5 09:37:43 2020 -0700

    Merge pull request #248 from uvic-frodo/fix-glut-build-issue

    Fix for GLUT-related build issue

commit bd2dfeeed3da194ce21ba44d7b577d35070ec97c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Sep 22 07:46:26 2020 -0700

    Closes https://github.com/jasper-software/jasper/issues/247

    This code change fixes a build problem introduced in 1229a12.
    A botched
    attempt to fix this problem was made in a0856f1 (which fixed one
    problem
    by creating another).

    The code change in this commit moves the point at which the JasPer
    OpenGL cmake module is included in the top-level CMakeLists.txt
    file so
    that the main JasPer config header jas_config.h is generated correctly
    (with JAS_HAVE_GL_GLUT_H and JAS_HAVE_GLUT_H set properly) and all of
    the initialization required for this module is performed prior to its
    inclusion.

M	CMakeLists.txt

commit adbaf6714289a33a7febad9809a3d4f2b9a8d7da
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 5 08:23:01 2020 -0700

    Fixes 2.0.21: test suite is failing

    Since the MIF codec is only enabled in internal testing mode, running
    the JasPer test suite normally (i.e., not in internal testing mode)
    will cause tests that require the MIF codec to fail.  This problem
    has been resolved disabling such tests except when internal testing
    mode is enabled (which is controlled by the new environment variable
    JAS_INTERNAL_TESTING_MODE).

M	build/travis/build
M	test/bin/run_codec_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_3
M	test/bin/run_test_4

commit fe2230d05fac223d69e57fb08e3bf4137618b038
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 5 06:51:02 2020 -0700

    The JasPer JPEG codec support requires the availability of the IJG
    JPEG library.  Previously, when this JPEG library was not installed,
    a dummy JPEG codec was built into JasPer that essentially causes
    all JPEG codec operations to fail (due to lack of real JPEG codec
    support).  There is no practical benefit to including a dummy codec
    in this manner, and doing so may be confusing to end users because
    this causes the jasper application to indicate that it knows about
    the JPEG format, due to the presence of this dummy codec.  Therefore,
    the JasPer software has been modified so that no dummy JPEG codec
    is included in the case that the IJG JPEG library is not available.

M	CMakeLists.txt
M	src/libjasper/CMakeLists.txt
D	src/libjasper/jpg/jpg_dummy.c

commit 896965a1d633a70413a1cf9e45715e02374070bd
Merge: 2c3ab8c d4ba100
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Sep 22 06:27:28 2020 -0700

    Merge pull request #246 from jubalh/news-cleanup1

    Improve NEWS file

commit d4ba10088b27537faf492d3a34737b17dd83fe12
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Sep 22 14:05:31 2020 +0200

    Add addiitonal infos to NEWS file

    Let's link the corresponding issues for reference.
    In the case where the issue is actually directly reported in a PR
    with a
    fix, use that instead.

    Clarify about CVE-2018-19541 decoder/encoder, otherwise users might be
    confused why we claim to have it fixed in 2.0.20 already.

M	NEWS

commit 3609c6747cd3ff7ca4e6ed8bab3eb656b29ed191
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Sep 22 14:03:14 2020 +0200

    Cleanup NEWS file

    Capitalize first letter.
    Use present tense.

    Like it is done in the first entry.
    Let's stay consistent.

M	NEWS

commit 2c3ab8c542a66eb5def030d30602fa455d1adbd9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 13:24:59 2020 -0700

    Manual:
    Corrected some outdated URLs in the manual.
    Included the NEWS document to the manual.
    Started to add some documentation for the initialization and image
    modules
    of the library.

M	doc/src/bugs.dox
M	doc/src/mainpage.dox.in
M	doc/src/modules.dox
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h

commit 5e810df87a1bc2debfd60e1c7722d98c30bee8ff
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:55:35 2020 -0700

    Bumped the version number and added some notes to the NEWS document
    about security vulnerabilities that have been fixed.

M	CMakeLists.txt
M	NEWS

commit 3fe68853f2b3dc66d811b9dfcd4c7173557d94de
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:49:14 2020 -0700

    Added a URL for the most recent version of the JasPer Reference Manual
    to the top-level README document.

M	README

commit d5b29fa1abf9de61a13ae72ee3fb09b18570f0f6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:42:24 2020 -0700

    Added a missing "jasper" component to an include directive in the
    source file src/appl/dummy2.c.

M	src/appl/dummy2.c

commit 46ccd966b96f62aaac84e9bcbe38a76c748ac1a2
Merge: 24d81bf 3a9319c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:31:48 2020 -0700

    Merge pull request #214 from jhgit/master

    Add -I<include_dir> to support users that use #include
    <jasper/jasper.h>

commit 24d81bf927b5275495abf5d62551ea79893d6be2
Merge: dff3402 dafd3af
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:16:24 2020 -0700

    Merge pull request #245 from theta682/patch-2

    Fix for ZDI-15-529

commit dff340220e191dc7794369ef54c52ce57d1821db
Merge: d10a710 78f9c1c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 20 11:14:45 2020 -0700

    Merge pull request #244 from theta682/patch-1

    Fix for CVE-2018-19541

commit 78f9c1c7e211122dcbbbd8aa3cb143c588ee2669
Author: Timothy Lyanguzov <theta682@gmail.com>
Date:	Tue Sep 8 09:56:56 2020 +1200

    Fix for CVE-2018-19541

    The fix was not backported from jasper-maint properly.
    The commit 27d5a884598e909b6e88ee8bf0c5db300a418adb (see
    jasper-maint/jasper#25)
    `numlutens` field is only validate in the encoder,
    but `jas_image_depalettize` is used only in the decoder. The decoder
    should validate incoming data,
    otherwise specifically crafter file can crash the application.
    If `numlutents` is exactly 0 `v` can too big as unsigned `-1` on
    line 1044

M	src/libjasper/base/jas_image.c
M	src/libjasper/jp2/jp2_dec.c

commit dafd3af1f31ac54f44e495c83332d909706d1054
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Mon Sep 7 15:17:22 2020 +1200

    Fix for ZDI-15-529

    We fixed input validation as part of the fix for
    [ZDI-15-529](https://www.zerodayinitiative.com/advisories/ZDI-15-529/)

M	src/libjasper/jpc/jpc_dec.c

commit d10a710f31da3d079a984d35ff6cc82a853d25d7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Sep 5 07:52:22 2020 -0700

    Added a few missing details to the NEWS document.
    Bumped the version number.

M	CMakeLists.txt
M	NEWS

commit e5461e4732b6a1b35d4895a5ee46ecd1cbb4266d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Sep 5 07:24:10 2020 -0700

    Fixed some typos in the Travis CI build script (introduced in commit
    e50e334).

M	build/travis/build

commit e50e33423830a56b48c31d004a2be2036264bc16
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Sep 5 07:10:02 2020 -0700

    Fixes Security vulnerability: the MIF decoder opens arbitrary files

    The manner in which the MIF codec is enabled has been changed so
    that no
    sane library packager would accidentally enable the MIF codec without
    realizing that there are negative security implications.  Now, the
    only way to enable the MIF codec is to enable the cmake option called
    JAS_DANGEROUS_INTERNAL_TESTING_MODE.  This option defaults to false so
    that the MIF codec is not enabled.	Furthermore, this option has
    multiple
    strongly-worded warnings that it should not be enabled except for
    internal
    use by the JasPer development team.

M	CMakeLists.txt
M	build/travis/build
M	src/libjasper/CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in

commit 09665efc0f1724a16b6b8783524cf71c2835aa7a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 3 17:26:51 2020 -0700

    Added some missing cmake options to the Travis CI build script.

M	build/travis/build

commit 98b5b85751871afe5e8245a6e5815d28c56c0c01
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 3 16:49:22 2020 -0700

    Fixed some problems created by the revert of c20f20b and 7b9d1b1.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/include/jasper/jas_icc.h

commit 425f776c31f9285c17bfb33221835716ba1e8ef0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 3 16:18:31 2020 -0700

    Added options to the top-level CMakeLists.txt file to allow individual
    codecs to be excluded from the library.
    Added an option to allow the MIF codec to be enabled/disabled if
    included,
    which is set to disabled by default for security reasons.

    Modified the Travis CI build script so that the MIF codec is enabled,
    since the MIF codec is needed for testing.

    Added the inclusion of jas_config.h in a few header files where it was
    missing.

M	CMakeLists.txt
M	build/travis/build
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_dll.h
M	src/libjasper/include/jasper/jas_image.h

commit c830ad795e29a9bb9d372b7ce8787ea8ef3514dd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 3 13:56:32 2020 -0700

    Revert "jas_image: hard-coded format list"

    This reverts commit 7b9d1b10006bda29d6a80b7492ef2ea9e1f588fe.

M	src/appl/fuzz.c
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h

commit 24efd9462da3bdc51903f98f55b7761f90215a3c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 3 13:56:22 2020 -0700

    Revert "CMakeLists.txt: add option to disable the encoder"

    This reverts commit c20f20b970e66aae957e60fc157305a0c49312fa.

M	CMakeLists.txt
M	INSTALL
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_mct.h
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_qmfb.h
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h

commit bcb98fe47298991157e9891e9fb1196def5d0650
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 30 21:11:53 2020 -0700

    This commit is mainly addressing various issues related to the
    Doxygen-based JasPer manual.
    Fixed the project title in the JasPer manual (which was not set).
    Added some Doxygen markup in numerous header files.
    Added documentation for the library API for I/O streams in the
    jas_stream.h header.  (Numerous items that need further consideration
    have been marked as TODO or FIXME.)
    Added a license preamble to a few header files that were missing one.
    Added an implementation of the jas_stream_setrwlimit function, which
    was declared but not defined.

M	doc/Doxyfile.in
M	doc/src/modules.dox
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_dll.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/include/jasper/jas_version.h
M	src/libjasper/include/jasper/jasper.h

commit 4ec5eb457253082a1c5137946a9a1e8ff6b2ba9a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 30 10:56:54 2020 -0700

    Changed the branch from which to deploy the Doxygen-generated manual
    to master in preparation for merging into master.

M	.travis.yml

commit 227d0a44747622de90fe26c6b571e8e9915c0dde
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Aug 30 10:46:02 2020 -0700

    The Travis CI configuration has been modified in order to add the
    deployment of the Doxygen-generated manual to the jasper-manual
    repository.  The Travis CI build script was also enhanced to provide a
    few command-line options (one of which is now used in the
    .travis.yml).

M	.travis.yml
M	build/travis/build

commit 4e9ebda0e40716e04c913b39e191de9ab26a8088
Merge: 86a0931 aba005f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Aug 29 17:10:32 2020 -0700

    Merge pull request #240 from jubalh/website

    Update website URL in README

commit 86a09319736adff192bc6d498be907d87b924f38
Merge: 657ea0f 5711f7d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 28 15:44:37 2020 +0200

    Merge branch 'cleanup11' of github.com:MaxKellermann/jasper

commit 657ea0f9c53c84e47289eaf6354e0b999b28d07c
Author: Peter Klotz <peter.klotz99@gmail.com>
Date:	Thu Aug 27 21:34:13 2020 +0200

    Fixed typo in deprecation message

M	src/libjasper/base/jas_debug.c

commit 5711f7d14bdf26dbd2524e57f983e92e1cb54c46
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 27 13:09:49 2020 +0200

    bmp_dec: obey `max_samples` in bmp_getinfo()

    Fixes out-of-memory bugs for the palette allocation.

M	src/libjasper/bmp/bmp_dec.c

commit aba005f60516080b2bd6bb892957cdb3aaacd1ad
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Thu Aug 27 11:37:07 2020 +0200

    Update website URL in README

M	README

commit 5bb1156880ef649dffdeb8716a31680b5656b353
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:26:12 2020 +0200

    doc/Doxyfile.in: clear EXAMPLE_PATH, not used

M	doc/Doxyfile.in

commit de193e3dd1def6478f2896c68a76bbed6d34f636
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:26:02 2020 +0200

    doc/Doxyfile.in: collapse "doc/../"

M	doc/Doxyfile.in

commit 7585d587e0ecad85989fef0cbe749fb2237be9b4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:20:28 2020 +0200

    doc/Doxyfile.in: strip path names

M	doc/Doxyfile.in

commit bd451334d66edb5646c0a07a87dfbb09d919b451
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:21:01 2020 +0200

    doc/Doxyfile.in: remove install.dox from INPUT

    This file has never existed.

M	doc/Doxyfile.in

commit 8104a22ad55ec616adaf0b151081f93c3d608824
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:10:10 2020 +0200

    doc/Doxyfile.in: remove non-existent excludes

M	doc/Doxyfile.in

commit 33b39c041fd4aebeed10c440b63880729b34cd21
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 15:09:32 2020 +0200

    doc/Doxyfile.in: remove obsolete options

M	doc/Doxyfile.in

commit ad6935c365ba89a9d04c55ec10da4b49155b7258
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 13:21:57 2020 +0200

    doc/CMakeLists.txt: add dependencies to avoid unnecessary rebuilds

    Use add_custom_command() instead of add_custom_target() because the
    latter forces rebuild on every "make"/"ninja" invocation.  The former
    allows declaring dependencies and rebuilds only if a dependency
    has changed.

M	doc/CMakeLists.txt

commit c036de5571d6dff8ec392b4f39f1370fcaf06fc0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 14:38:17 2020 +0200

    doc/CMakeLists.txt: "clean" deletes Doxygen output files

M	doc/CMakeLists.txt

commit 4f3e7b3621407ae782db6579ffa2db084959a886
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 14:11:07 2020 +0200

    jas_icc: disable jas_iccprof_save() if encoder is enabled

    This shrinks the library binary by another 11 kB.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/include/jasper/jas_icc.h

commit c20f20b970e66aae957e60fc157305a0c49312fa
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 11:32:44 2020 +0200

    CMakeLists.txt: add option to disable the encoder

    For people who need a small build but never need to encode.  I suppose
    most users don't ever need an encoder, because they only want to read
    existing files.

    This shrinks the library binary by 70 kB.

M	CMakeLists.txt
M	INSTALL
M	src/libjasper/CMakeLists.txt
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_mct.h
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_qmfb.h
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h

commit 715059ff68ea171b9824c94a0812eabee464b947
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 12:15:39 2020 +0200

    CMakeLists.txt: remove unimplemented option JAS_ENABLE_STRICT

    Commit c3d3c4109de6 removed the option JAS_STRICT, which was probably
    a typo.  Anyway, this commit removes the remains of this option that
    has always been broken.

M	CMakeLists.txt
M	INSTALL

commit 7b9d1b10006bda29d6a80b7492ef2ea9e1f588fe
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 10:44:02 2020 +0200

    jas_image: hard-coded format list

    Why initialize the format array at runtime when we can do that easily
    at compile time?  This eliminates the need to call jas_init() and also
    avoids the atexit() kludge.

M	src/appl/fuzz.c
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h

commit 7a82835b778db78fa0a7fb01cb268fc6c2ee54bd
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 10:48:28 2020 +0200

    jas_image: make jas_image_fmtinfo_t pointer `const`

M	src/libjasper/base/jas_image.c

commit 84cf8207ec068d8f1f01ac41ab34c12ab268bb6e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 11:18:42 2020 +0200

    jas_compiler.h: add JAS_DEPRECATED

M	src/libjasper/include/jasper/jas_compiler.h

commit 00cee1470902b2596305de2d3ec62e19dc30edd1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 11:16:34 2020 +0200

    jas_config.h.in: move macros to jas_compiler.h

    Let's use jas_config.h.in only for generated macros.

M	src/libjasper/CMakeLists.txt
C052	src/libjasper/include/jasper/jas_config.h.in
src/libjasper/include/jasper/jas_compiler.h
M	src/libjasper/include/jasper/jas_config.h.in

commit 09f95cb9c9daaeb61c41af635edf45db05ffe9bf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 11:45:19 2020 +0200

    jpc_t1dec: fix NULL pointer dereference

    Found by Coverity, and was only possible to find after commit
    65485b312c0e380

M	src/libjasper/jpc/jpc_t1dec.c

commit 1fcd12dcbb4ce2841dcdc875df23f4e84d1c9ac1
Merge: 923599a 0baeff4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 10:23:59 2020 +0200

    Merge branch 'fix/exported-symbols' of git://github.com/SpaceIm/jasper

commit 923599a4cd60dbc493032e2aee510594a5480504
Merge: a0856f1 c2cd9d3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 25 08:46:31 2020 +0200

    Merge branch 'cleanup10' of github.com:MaxKellermann/jasper

commit a0856f1142534f4cd635da19deebc35932214a52
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Aug 24 19:21:49 2020 -0700

    Fixed a problem that caused JasPer not build on at least some systems
    (such as Fedora) due to the glut.h header not being found.
    This problem
    appears to be been caused by recent changes in how OpenGL is handled
    in the build process.  The JasPer configuration header was not
    properly
    setting the defines that specify where to pickup the glut.h header.

    In the make CMakeLists.txt file, set OpenGL_GL_PREFERENCE to GLVND to
    avoid complaints from CMake related to legacy behavior.

M	CMakeLists.txt
M	build/cmake/modules/JasOpenGL.cmake
M	src/appl/CMakeLists.txt

commit c2cd9d375903a641843c4c34f517752e95fb666c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 16:57:33 2020 +0200

    jpc_mqdec: rephrase expression to allow compiler optimization

    The two expressions are now the same, and the compiler can merge them.

M	src/libjasper/jpc/jpc_mqdec.h

commit f6cffa56a88fc357ba849396106261ef13eae500
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 16:49:28 2020 +0200

    jpc_mqdec: convert jpc_mqdec_renormd() to function

    Allows removing some duplicate code.

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit b92a2ea58404a2082a749df4554da1a0545aaa59
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 16:32:41 2020 +0200

    jas_config.h.in: remove obsolete `JAS_CONFIGURE` kludge

    cmake is used on Windows, so we can use its results.  Only the
    hard-coded JAS_HAVE_SNPRINTF needs to stay, because we have no cmake
    check for it (yet).

M	src/libjasper/include/jasper/jas_config.h.in

commit b0770471cc24421a4f9276cee3c1cb62da6f8ccf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 16:23:29 2020 +0200

    jpc_t1dec: convert unrolled loop to `for` loop

    Reduce code duplication.

M	src/libjasper/jpc/jpc_t1dec.c

commit 51295ac0247ffeb8a2aa6adf22a0526a137542e4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 16:00:35 2020 +0200

    jpc_t1dec: convert macros to functions

M	src/libjasper/jpc/jpc_t1dec.c

commit 5aa912d137e1e9536d87cf94b5e69ba7ba1186f4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 15:56:08 2020 +0200

    jpc_t1dec: remove unused parameters

M	src/libjasper/jpc/jpc_t1dec.c

commit 7dbcf2fa7f64103ea3702b63510237bc4faad9da
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 15:48:54 2020 +0200

    jas_stream: convert abort() to `return -1`

    JasPer shouldn't crash the application.

M	src/libjasper/base/jas_stream.c

commit 579cfda09114afd9e13fc9d5b1dc99a5da5325d9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 15:44:00 2020 +0200

    jas_stream: use `long` instead of `ssize_t`

    In the `jas_stream_t` API, offsets are `long`, so why bother using
    `ssize_t` here.

    This allows removing the `ssize_t` macro from `jas_config.h.in`, which
    could break applications using JasPer.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_config.h.in

commit 8a12b29fb5dcb370707954811f561d527c4ccfb2
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 08:42:01 2020 +0200

    jpc_qmfb: move duplicate code to functions

M	src/libjasper/jpc/jpc_qmfb.c

commit 3171d12f31d2f97a3972f3f64624afad69a89d71
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:32:37 2020 +0200

    jpc_qmfb: cache expression in variable `end_parity`

M	src/libjasper/jpc/jpc_qmfb.c

commit 7538e43766acdbdc994b11af4d131a09ceda42ce
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:33:37 2020 +0200

    jpc_qmfb: convert `parity` to bool`

M	src/libjasper/jpc/jpc_qmfb.c

commit 78a3fac872ba4edf45352c55a628e6876c0b1f93
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 15:46:09 2020 +0200

    CMakeLists.txt: remove unimplemented option JAS_MEMORY_LIMIT

    This option was added by commit 055568d29d, but there never was an
    implementation.  It was never connected to the
    `JAS_DEFAULT_MAX_MEM_USAGE` C macro.

    In any case, `JAS_DEFAULT_MAX_MEM_USAGE` is flawed, and therefore I
    would not like to extend its support, because it is not thread-safe.
    This race condition can make libJasPer completely defunct.

M	CMakeLists.txt
M	INSTALL

commit c8ee8a324641176c16ee11180c790bdcba193947
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 09:46:19 2020 +0200

    jpc_dec: remove unused field pkthdrstreampos

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h

commit 65485b312c0e38076cba24b4c3c9f41875080a16
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 09:18:44 2020 +0200

    jpc_dec: convert several struct fields to local variables

    `mqdec`, `nulldec` and `flags` are only used inside
    jpc_dec_decodecblk().

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_t1dec.c

commit ba1bb9872647eb9d10bd1c368618c201038deb7a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 09:27:43 2020 +0200

    jpc_t1dec: use local variable `ccp` instead of dereferencing
    `tile->cp->ccps`

M	src/libjasper/jpc/jpc_t1dec.c

commit fa79de579e4af3e38c0c1b9f6ce54b1498eaa409
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 21 09:08:58 2020 +0200

    jpc_mq{cod,dec}: use smaller integer types

    This can improve CPU cache efficiency.

M	src/libjasper/jpc/jpc_mqcod.h
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit 8251f84dfc6a42afa48c53864b1826f123f07166
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 23:20:09 2020 +0200

    jpc_dec: copy struct fields to local variables

    Avoid redundant memory reads.

M	src/libjasper/jpc/jpc_dec.c

commit 937cb5a295969937be1ce1d818503b9fef274d2c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:19:58 2020 +0200

    jpc_mqdec: convert macros to inline functions

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit 1708cb89de1d8ffd4162452a450ef13ff3f71cf1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 22:06:59 2020 +0200

    jpc_t1dec: convert macros to functions

    Force inlining them because not doing so would reduce performance.

M	src/libjasper/jpc/jpc_t1dec.c

commit 86f69ae6dc5872205df6cf42f9ca89a9295a2c7d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 22:12:45 2020 +0200

    jpc_t1dec: convert constants to jpc_fix_t

M	src/libjasper/jpc/jpc_t1dec.c

commit c6e87bbfe23e8a91fa11460abe1d7a0802901f85
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 22:10:31 2020 +0200

    jpc_t1dec: convert `bitpos` to unsigned

M	src/libjasper/jpc/jpc_t1dec.c

commit a076a014894c09cee96c541420c3f6f61e18eb7d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 22:09:12 2020 +0200

    jpc_t1dec: remove unused macro parameters

M	src/libjasper/jpc/jpc_t1dec.c

commit ccaeded6a6260987e201e1f8a9d8217feabde244
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 22:24:53 2020 +0200

    jas_config.h: add more GCC attribute macros

M	src/libjasper/include/jasper/jas_config.h.in

commit 3cee824f1d547b29b5f22d0a6397c2ac06cb7796
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 15:07:59 2020 +0200

    jpc_dec: skip clipping if the min/max calculation would overflow

    Even though the JPEG2000 standard allows a precision of up to 38 bit
    (section A.5.1 table A-11), JasPer can't represent such values In 32
    bit mode.  To avoid integer overflows in the min/max value
    calculation, which would corrupt the data even more, this commit adds
    a check for the precision and omits the clipping stage if the
    precision is too large.

    While this looks like a hot fix, and we should catch unsupported
    precisions earlier, this is also useful for the maximum supported
    precision (31 bits) - that calculation (1<<31) would also overflow,
    but clipping should be a no-op there.

M	src/libjasper/jpc/jpc_dec.c

commit 3bd17d766b1b7171185b77318bf8ddba43c6e11a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 15:10:16 2020 +0200

    jpc_dec: use jas_seqent_t for level shift and clipping

    Fixes several integer overflow bugs.

M	src/libjasper/jpc/jpc_dec.c

commit bf32746d5eb436b1343e732864eca8042fa708fc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 15:09:41 2020 +0200

    jpc_dec: skip level shift for signed data

    There's no point in adding 0 to all matrix values.

M	src/libjasper/jpc/jpc_dec.c

commit a83ed04314d20b46760158d5c40ef4539554f386
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 14:22:58 2020 +0200

    jpc_fix, jas_seq: use 32-bit shift in JAS_ENABLE_32BIT mode

    Eliminate the implicit cast to 64 bit (`int_fast32_t`).  This allows
    the compiler to switch from the Intel SSE2 instruction `psllq` (shift
    two 64 bit values at a time) to `pslld` (shift four 32 bit values at a
    time).

M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_fix.h

commit a8cd574f9daa823aaf2c352024ae579d224381c2
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 20 14:08:07 2020 +0200

    jas_seq: _empty() returns true if either value is zero

    Fixes regression from commit 276ef3867164cce5ea5344272caaffc177174ceb

M	src/libjasper/include/jasper/jas_seq.h

commit 756eb8d63317ba2adeac8413fb3dcabd963b5653
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 16:33:25 2020 +0200

    CMakeLists.txt: remove overly verbose messages

    Those are not helpful, and not worth spamming the screen.

M	CMakeLists.txt
M	build/cmake/modules/JasOpenGL.cmake
M	build/cmake/modules/Sanitizers.cmake

commit 169454f4c1ff8e51e6a3c029e46c8a0b6c320740
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 16:30:39 2020 +0200

    build/cmake/modules/FindMakeDist.cmake: remove unused module

    This module was added by commit
    1dfec33972f121395d0203d7290bd7cc63066735, but was never used.

D	build/cmake/modules/FindMakeDist.cmake

commit a69074f468032d85e4811226b2cc28f5c59553d0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 16:29:23 2020 +0200

    CMakeLists.txt: remove some commented cruft

M	CMakeLists.txt

commit f186d8d281e8500a61b5aef2afc619bb68e11215
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 16:25:18 2020 +0200

    CMakeLists.txt: remove option JAS_LOCAL

    All this option does is disable compiler optimizations, which is
    rather useless, because people can do that with generic cmake options
    already.

M	CMakeLists.txt

commit 1229a12afbae5b8d1de2fbb5adf9d01ca7f9f249
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 16:19:25 2020 +0200

    CMakeLists.txt: don't detect OpenGL if JAS_ENABLE_PROGRAMS is disabled

    Move the OpenGL detection code to a cmake module and include it only
    from `src/appl/CMakeLists.txt`.

M	CMakeLists.txt
A	build/cmake/modules/JasOpenGL.cmake
M	src/appl/CMakeLists.txt

commit cddb7b199a1c78f3ec0b2c6b8af705588437af4b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 15:14:47 2020 +0200

    CMakeLists.txt: don't detect Doxygen and LaTeX if JAS_ENABLE_DOC
    is disabled

M	CMakeLists.txt
M	doc/CMakeLists.txt

commit c3d3c4109de6f1cdda8c699db9b1cb74de906311
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 14:46:13 2020 +0200

    CMakeLists.txt: always enable all compiler warnings

    Remove the (undocumented) option `JAS_STRICT`.  We should fix all
    compiler warnings instead of disabling them by default.

M	CMakeLists.txt

commit a6e6f98f1301595352e88021a7110d47c553f59d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 12:42:54 2020 +0200

    jpc_t2cod: fix division by zero

M	src/libjasper/jpc/jpc_t2cod.c

commit 5da5d02d76f3fbd3a2a198965a56a6e97be71995
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 12:40:16 2020 +0200

    jas_cm: fix division by zero

M	src/libjasper/base/jas_cm.c

commit 2508d59c5e8bb7d7d20e0d0a1f413977b7bb971f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 12:36:43 2020 +0200

    jpc_t2enc: fix leaking jas_stream

M	src/libjasper/jpc/jpc_t2enc.c

commit f23acc792034cad8f4be62e7eec86debb87f7acc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:21:52 2020 +0200

    CMakeLists.txt: enable `-Wmissing-declarations -Wredundant-decls`

M	CMakeLists.txt
M	src/libjasper/jpc/jpc_enc.c

commit 9f4db129b269fe714353153c3c141bb3b5246fb0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 10:38:13 2020 +0200

    jpc_dec: cache data in local variables

    Allow more compiler optimizations.

M	src/libjasper/jpc/jpc_dec.c

commit 1e743cb05a7f26bd5875100dace1c00509783a46
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:55:23 2020 +0200

    jpc_tsfb: simplify various checks

    Reduce indentation levels and allow tail calls.

M	src/libjasper/jpc/jpc_tsfb.c

commit 36a01a9409df421f503987827188ef625fb83003
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:37:56 2020 +0200

    jpc_tsfb: make jpc_tsfb_analyze2() static

M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h

commit 5017d3ab2eae49957c3e41cbf9df207b1f31f3bd
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:11:41 2020 +0200

    jas_image: _readcmpt() fast path for 8 bits per pixel

M	src/libjasper/base/jas_image.c

commit e1729043db8f2262a248956d606d22a0e109c915
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:11:56 2020 +0200

    jas_image: use local variables in jas_image_writecmpt()

M	src/libjasper/base/jas_image.c

commit 5472df353949cb66d6d0da733b1ecaaae88c58e4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:26:35 2020 +0200

    jas_icc: add explicit casts to fix "possible loss of data" warnings

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_icc.c

commit cdddef3555b5fb5d14ee8c59ff745943a10f3080
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 08:19:30 2020 +0200

    jas_cm: fix various `-Wconversion` warnings

M	src/libjasper/base/jas_cm.c

commit 5a029d2fd08a8eccf3a5dccc9dc350bcdee941ec
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 08:21:09 2020 +0200

    jas_cm: pass unsigned size to jas_cmshapmatlut_invert()

M	src/libjasper/base/jas_cm.c

commit 00c2ccf4b1e35bc790d5c6ade8f0e5f4025f2d1c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:35:53 2020 +0200

    jas_cm: fix jas_cmpxformseq_appendcnvt() parameter types

M	src/libjasper/base/jas_cm.c

commit a5619974dcdacd548d1bd721b0f1b326176e6eaf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:34:58 2020 +0200

    jas_cm: fix prfintent type

M	src/libjasper/base/jas_cm.c

commit 0bcb358532ca6706b6394172a50184648da9c89c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:32:44 2020 +0200

    jas_cm: icctoclrspc() returns jas_clrspc_t

M	src/libjasper/base/jas_cm.c

commit 137aafd661ad4a3535264a23bab123f75a50f859
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 08:14:30 2020 +0200

    jas_seq: add explicit casts to fix `-Wsign-conversion`

M	src/libjasper/include/jasper/jas_seq.h

commit 276ef3867164cce5ea5344272caaffc177174ceb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 19:36:52 2020 +0200

    jas_seq: add jas_{matrix,seq2d}_empty()

M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_tsfb.c

commit e493d6de3f8dc417c53c34a141ba575f772e5fea
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 10:26:21 2020 +0200

    jas_fix: use JAS_FIX_ONE, reduce code duplication

M	src/libjasper/include/jasper/jas_fix.h

commit 8f4573a1aea03b1cb3a42f7f4ebfc1001e314b26
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 10:35:52 2020 +0200

    jas_fix: use JAS_INTTOFIX(), reduce code duplication

M	src/libjasper/include/jasper/jas_fix.h

commit 0932b4bcd1d9d6cb4028d28b0c893c41a34bbcc6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 19 10:32:16 2020 +0200

    jas_fix: JAS_INTTOFIX() casts to fix_t first, then shifts

    Shifting first can produce an integer overflow because the parameter
    type may be smaller than `fix_t`.

M	src/libjasper/include/jasper/jas_fix.h

commit e1d7e7473cdd096c4b6e560dfcfec3271f00efb2
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 08:14:54 2020 +0200

    jas_math: pass shift operand as `unsigned` to jas_fast32_as[rl]()

M	src/libjasper/include/jasper/jas_math.h

commit 117b36ffbb5da58f54ade75cc55fb763dc0da248
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 15:31:47 2020 +0200

    jas_math: jas_fast32_as*() returns int_fast32_t

M	src/libjasper/include/jasper/jas_math.h

commit 73f2cd1bc480609bbb6fc2274b4c7f8a84fa67df
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 18 12:36:48 2020 +0200

    build/appveyor/build.bat: disable various options where dependencies
    are missing

M	build/appveyor/build.bat

commit 646e440aed3da498305733b79935a443c0e32edf
Author: OSAMU WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Aug 19 05:48:10 2020 +0900

    Hotfix to SOP marker checking

    Why: The commit 13390bd said "the `dec->numpkts` holds the number of
    packets that have been already read. Because the maximum value of
    `Nsop` is 65535, `dec->numpkts % 65536` is necessary to validate a
    `Nsop` value in a SOP marker segment.", however, this was wrong.

    How: Instead of the `dec->numpkts`, `tile->pi->pktno` is used to
    validate a `Nsop` because the `Nsop` is defined as packet seqence
    number in a **tile**. `tile->pi->pktno` holds the packet seqence
    number in a certain tile.

M	src/libjasper/jpc/jpc_t2dec.c

commit 13390bd3a6aee14186f960b45dc3e88bbb46905d
Author: OSAMU WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Tue Aug 18 16:39:20 2020 +0900

    Fix SOP marker checking

    Why: If SOP marker segments are allowed (by setting the second
    LSB of Scod parameter to "1" in the COD marker segment, see A.6.1
    in the spec), each packet in any given tile-part may or may not
    be appended with an SOP marker segment. So, the decoding process
    should not be stopped by missing SOP markers. However, whether or
    not the SOP marker segment is used, the count in the Nsop (packet
    sequence number) is incremented for each packet. Nsop is a field
    which has 16 bits length. Valid range of the value of Nsop is from
    0 to 65535. The first packet in a coded tile is assigned the value
    zero. For every successive packet in this coded tile, this number is
    incremented by one. When the maximum number is reached, the number
    rolls over to zero.

    How: Added code lines to check packet sequence number when a SOP
    is found. The `dec->numplts` holds the number of packets that have
    been already read. Because the maximum value of `Nsop` is 65535,
    `dec->numpkts % 65536` is necessary to validate a `Nsop` value in
    a SOP marker segment.

M	src/libjasper/jpc/jpc_t2dec.c

commit 9a705133621bc6961a782c27855db038b185b497
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 21:31:56 2020 +0200

    jas_image: add fast path for 8 bits per pixel

M	src/libjasper/base/jas_image.c

commit f964e6ed30f364bdf19f62fe519c021eb786fbc6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 10:53:34 2020 +0200

    jpc_cs, jp2_cod: use jas_stream_read()

    Reduces function call overhead a bit.

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jpc/jpc_cs.c

commit 0f045f7cfbd8b39b7b00cadb066139d7c21ae461
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 10:58:31 2020 +0200

    jas_stream: jas_stream_{read,write}() return unsigned integer

    Both can never return a negative value, even though many callers
    assume so.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c

commit 1b990bb3dcfc7b8b50109be132c284c6c7d61a8f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 11:23:56 2020 +0200

    jas_stream: add jas_stream_peek()

    Reduce code duplication in several validate() implementations.

    This also fixes an API misunderstanding: jas_stream_read() never
    returnes a negative value.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpg/jpg_val.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit 16a55fe7d7fd2fd8192fed15227ab7d5cac6ce6b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:40:31 2020 +0200

    jas_stream: implement fast path for unbuffered streams

    This returns to the original speed of buffered `jas_stream_memobj_t`,
    but with less memory usage.  From here, we can optimize further.

M	src/libjasper/base/jas_stream.c

commit 787e414a20d6e907991c67a271bb4a27b791239a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:53:16 2020 +0200

    jas_stream: bulk I/O in jas_stream_copy()

    Copy 8 kB at a time, instead of one byte at a time.

M	src/libjasper/base/jas_stream.c

commit 0c9c53603c14ddf4a1915fa4f280e22e5645dd43
Author: Max Kellermann <max@duempel.org>
Date:	Wed Aug 19 12:36:09 2015 +0200

    jas_stream: make memory streams unbuffered

    This is currently slower, but optimizations using bulk writes are
    coming.

M	src/libjasper/base/jas_stream.c

commit b5d39f08ab682788203fcc659ce04bb7000c6051
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 11:08:20 2020 +0200

    jp2_cod: convert jp2_colr_t.iccplen to unsigned

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jp2/jp2_enc.c

commit 447e54a01d0071d642bdedafac1dfab9d15c67a1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Aug 17 09:31:58 2020 +0200

    jas_debug: add `const` to jas_memdump()

M	src/libjasper/base/jas_debug.c
M	src/libjasper/include/jasper/jas_debug.h

commit 4f7180e0ff8f9534eb76d83d7b8a5f83e90a0413
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 22:12:54 2020 +0200

    jas_image: copy struct fields to local variables

    Allow the compiler to cache the values in registers and avoid memory
    reads.

M	src/libjasper/base/jas_image.c

commit 5bd60b9d04f0bee0f507ff6b3613f061da9966af
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 22:00:54 2020 +0200

    jas_image: eliminate local variable `found`

M	src/libjasper/base/jas_image.c

commit 64b5933034a2dc267ef6a61852203c50879b6591
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 21:41:45 2020 +0200

    jas_image: convert more integers to `unsigned`

M	src/appl/imgcmp.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/pnm/pnm_enc.c

commit 1d4000308ec90e9871927dd3c0a7ca23d58e5c32
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 21:47:38 2020 +0200

    jas_cm: convert macros to enums

M	src/appl/jasper.c
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_image.h

commit 5625d051a72041f31941b590c1f68ec73d55aebd
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 21:44:33 2020 +0200

    jas_image: use enum jas_image_cmpttype_t

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h

commit 0e76df3cb808510c737161e95ff307025f142d99
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 21:42:26 2020 +0200

    jas_image: remove FIX_ME code

    This code has been disabled before the very first git commit, and
    changing this would require a new libJasPer ABI.  Won't happen.  So
    let's remove it.

M	src/libjasper/include/jasper/jas_image.h

commit 46dbba47210c7e16f7304f67a896b2f0faea4859
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:40:53 2020 +0200

    jas_stream: pass const buffer to write_()

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit 8be87525577275729e4075d61e22612e7a15c44f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:15:32 2020 +0200

    jas_stream: convert macros to inline functions

M	src/libjasper/include/jasper/jas_stream.h

commit 80e4b4267f13e436c5ce2269312d9c450eb7c346
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:13:56 2020 +0200

    jas_stream: use `bool`

M	src/libjasper/base/jas_stream.c

commit 5ef38b74b8fb897acd985a5e957d9fa54400c30a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 18:10:19 2020 +0200

    jas_stream: remove obsolete jas_stream_memopen() implementation

    Obsoleted by commit 634ce8e8a5 four years ago.  Since nobody has
    needed this code, let's remove it.

M	src/libjasper/base/jas_stream.c

commit 5aad012e28577f74971b3ddc580088535b23d161
Author: Max Kellermann <max@duempel.org>
Date:	Wed Jun 16 23:06:13 2010 +0200

    use NDEBUG instead of DEBUG

    NDEBUG is a standard C macro.

M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/jpc/jpc_bs.h
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_t1dec.c

commit d930181cd00e0fea370d4a37ccc205940f461ee8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:52:49 2020 +0200

    appl/jiv: fix shadow warnings

M	src/appl/jiv.c

commit 254ac24f114319b4b6d0a16cc368c017a0beb909
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:52:39 2020 +0200

    jpc_tagtree: add `const` to fix `-Wcast-qual`

M	src/libjasper/jpc/jpc_tagtree.c

commit f0315a1a5a802ea09fb1d315059aa71ac7cc0474
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:35:04 2020 +0200

    jpc_mqdec: use unsigned integers

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit 562a98aa8aeacacda2f56b7bb2509e26bdb51fc3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:26:42 2020 +0200

    jpc_mqdec: use `bool` instead of `int`

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit 0461a3b9de5a838b2d510e02240545c008c27ebc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:36:01 2020 +0200

    jpc_mqdec: remove unused function jpc_mqdec_setctx()

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit 48c86ff877eb407808a6524f5e2da27e4c9f054b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 10:05:03 2020 +0200

    jas_types.h: don't include windows.h

    This was a kludge from long ago for MSVC versions which did not
    support some C99 definitions, and this kludge was effectively disabled
    by commit d42b2388f7f four years ago, but it did not remove the
    "#include <windows.h>".

    Let's clean this up now.

M	CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_types.h

commit d6405fd4e605a0a53aa84b7120ca5e23daed7819
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 14 09:34:17 2020 +0200

    jas_stream: fix signedness mismatch

M	src/libjasper/base/jas_stream.c

commit c7ee493d1f0e2195e905b4f2cfbfaacd53cdd525
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 16:16:25 2020 +0200

    jas_stream: use O_TMPFILE on Linux

M	src/libjasper/base/jas_stream.c

commit 4fbc1e8b9d19d0313a580ea6173a01a2f0ff489c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 15:09:51 2020 +0200

    jas_stream: use mkstemp() instead of tmpnam() which was unsafe

    Unlike tmpnam(), the caller needs to choose a directory for mkstemp().
    So for this transition, we need some code to determine the system temp
    file directory.  This makes the commit pretty complicated.
    Unfortunately, there's no simple to use POSIX function which creates a
    temporary file safely.

    Closes https://github.com/jasper-software/jasper/issues/206

M	CMakeLists.txt
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_config.h.in

commit e5753e53b7f18d62e7e12772e651389b3519dec9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 16:21:01 2020 +0200

    jas_stream: use O_CLOEXEC on Linux for thread-safety

    Without O_CLOEXEC, file descriptor opened by one thread can be leaked
    to a child process created by another thread.  This requires defining
    `_GNU_SOURCE`, or else the definitions will not be made available by
    glibc.

M	CMakeLists.txt
M	src/libjasper/base/jas_stream.c

commit 59ac1ea3662111ad238e02c0b0bf14269403a0bc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 16:29:46 2020 +0200

    jas_stream: remove unused `openflags` variable from
    jas_stream_freopen()

M	src/libjasper/base/jas_stream.c

commit b295641d4170999e8204e79657a4a95ced7b8354
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:31:15 2020 +0200

    jp2_cod: remove redundant initialization

    After memset(), we don't need to assign NULL pointers.

M	src/libjasper/jp2/jp2_cod.c

commit fb84f45d75719cc799913067562212b7fdb5e41c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:28:09 2020 +0200

    jp2_cod: fix the jp2_boxinfolookup() error check

    On error, jp2_boxinfolookup() returns `&jp2_boxinfo_unk`, not NULL.

    Closes https://github.com/jasper-software/jasper/issues/129

M	src/libjasper/jp2/jp2_cod.c

commit 8d277434247a4a0b92bc6ea6da3f6a3f438d3b3f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:27:09 2020 +0200

    jp2_cod: move the jp2_boxinfolookup() call to the top

    Avoid the memory leak described in
    https://github.com/jasper-software/jasper/issues/129

M	src/libjasper/jp2/jp2_cod.c

commit d0d0499714a4d0f5a0c183573315b0363550b5e5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:26:12 2020 +0200

    jp2_cod: remove redundant jp2_boxinfolookup() call

    Just use `box->info` instead of looking it up again.

M	src/libjasper/jp2/jp2_cod.c

commit 7778ce5bf460df654282acc576e9ee61beec8b86
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:19:35 2020 +0200

    jp2_cod: add `const`

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h

commit 123f6c60c5ad124c5847531c655637700367a2c1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:04:58 2020 +0200

    appl/jiv: remove bogus assert()

    This assert() has always been wrong, because the float to integer
    conversion caused rounding problems which led to assertion failures.
    This never occurred until commit dc129830baf8 changed abs() to
    JAS_ABS(), which eliminated an integer roundtrip, with increased
    accuracy leading to a delta larger than `1e-5`.

    Closes https://github.com/jasper-software/jasper/issues/177

M	src/appl/jiv.c

commit f79ac630706094b9510c18433e0e11a5076dd463
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:14:09 2020 +0200

    appl/jiv: free the jas_cmprof_t object in loadimage()

M	src/appl/jiv.c

commit c08881bcd33ce90bf713de7bbf01503322eece08
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:12:04 2020 +0200

    jas_image: add `const`

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h

commit 834cf3c3201db9d6b1ad011da2b088f7cfa3dbf8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 14:11:55 2020 +0200

    jas_cm: add `const`

M	src/libjasper/base/jas_cm.c
M	src/libjasper/include/jasper/jas_cm.h

commit 3c9c7c2b9fb41733a873cc23bf11dbae6fbf00c5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 13:19:29 2020 +0200

    jpc_t2cod: use more unsigned integers

M	src/libjasper/jpc/jpc_t2cod.c

commit bcced41f9d5191105b05ad6e97a28c31a90583d1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 13 13:15:18 2020 +0200

    jpc_t2cod: use unsigned integers in jpc_pirlvl_t

M	src/libjasper/jpc/jpc_t2cod.h

commit a906f7b8015965dbaa00493c05e32cb35e399db1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:47:41 2020 +0200

    jpc_dec: use unsigned integers

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t2dec.c

commit 21ef6f4cc476928fe9db863e23c1caf089989045
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:45:28 2020 +0200

    jp2_enc: use __builtin_unreachable() on illegal `switch` labels

M	src/libjasper/jp2/jp2_enc.c

commit 587337ad428f36aabae72241c7636b0580f02ad0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:37:07 2020 +0200

    jpc_enc: convert abort() to assert()

M	src/libjasper/jpc/jpc_enc.c

commit 7bdac6f5c4bf3dd524bda727b5961d6a75aee42b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:37:01 2020 +0200

    jpc_enc: convert abort() to runtime checks

M	src/libjasper/jpc/jpc_enc.c

commit 8cdc9423539aaadfc10065508c075de2b7696cda
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:35:48 2020 +0200

    jpc_bvs: use __builtin_unreachable() instead of abort()

M	src/libjasper/jpc/jpc_bs.c

commit d1499e645a683c925590255dff8470ff3ad2e472
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:33:19 2020 +0200

    jpc_cs: convert abort() to runtime check

M	src/libjasper/jpc/jpc_cs.c

commit 925990f116c7930a0154d4e7d4f32e6ef487b0a0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:15:49 2020 +0200

    jpc_t2enc: use unsigned integers

M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_t2enc.h

commit 0e00ffa99a4d72326cf9649c2656a8bcaca1e7cf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:17:46 2020 +0200

    jpc_t2enc: use `bool` instead of `int`

M	src/libjasper/jpc/jpc_t2enc.c

commit d28c707fa0e3781b2b7a17f728acde93ffeb3fff
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:16:18 2020 +0200

    jpc_t2enc: pass `bool` to jpc_init_t2state()

M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_t2enc.h

commit 2dca735e5b759dd507d2a8c05318580d590bcff1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:11:03 2020 +0200

    jpc_mqenc: use unsigned integers

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit e281d3002c1096619b2568e216e5cbdf8c445dcf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:09:04 2020 +0200

    jpc_mqenc: convert macros to inline functions

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit f0e92955054919774cc9e660788027862c35357b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:08:36 2020 +0200

    jpc_mqenc: convert `err` to `bool`

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit 423662e6bb50881522a0755198556adf21f264f8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:06:34 2020 +0200

    jpc_mqenc: pass `bool` to jpc_mqenc_putbit()

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit 75611c4d3449486df22077917c58142c3ffce1cb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:05:15 2020 +0200

    jpc_mqenc: use __builtin_unreachable() on illegal `switch` labels

M	src/libjasper/jpc/jpc_mqenc.c

commit dc1a0a71cc0a1c1fe424540f755f06ebe90d3acc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:04:22 2020 +0200

    jpc_t2enc: convert abort() to runtime check

M	src/libjasper/jpc/jpc_t2enc.c

commit 3ba00895d457f749bd72a9f77bad124ffd1a0341
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:02:01 2020 +0200

    jpc_dec: convert abort() to assert()

    Check for code bugs only in debug builds.

M	src/libjasper/jpc/jpc_dec.c

commit aa5ec08b44ad1d9f5fbb56e066e9880b1c979c7f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:41:51 2020 +0200

    jpc_t1enc: use unsigned integers

M	src/libjasper/jpc/jpc_t1enc.c

commit 9765127d4aaa836832dfdb558505481a441929c7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:46:53 2020 +0200

    jpc_t1enc: convert abort() to runtime check

M	src/libjasper/jpc/jpc_t1enc.c

commit fa995fe187f85c0558003aacd8df6a8b909eba74
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:41:34 2020 +0200

    jpc_t1enc: remove unreachable `break` statements

M	src/libjasper/jpc/jpc_t1enc.c

commit c3d765f4d5cba2de521caf147128e2f64d663eca
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:39:28 2020 +0200

    jpc_t1enc: use `bool` instead of `int`

M	src/libjasper/jpc/jpc_t1enc.c

commit ec882c7a6e8e784a3486dd6d560fd36387c2a5d8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:38:30 2020 +0200

    jpc_t1enc: make jpc_enc_enccblk() static

    Only used internally.

M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t1enc.h

commit 67ee9ee2d62a3b1a02be98527026e32bd49b3e27
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:26:21 2020 +0200

    jpc_t1enc: add `const`

M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t1enc.h

commit 08e261dcec254118df5e5bcd141ead2187069f2c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:24:55 2020 +0200

    jpc_t1dec: remove unreachable `break` statements

M	src/libjasper/jpc/jpc_t1dec.c

commit 7084fe1c50d37a958d5852fa7e313c945110637d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 07:54:19 2020 +0200

    jpc_t1dec: use `bool` instead of `int`

M	src/libjasper/jpc/jpc_t1dec.c

commit 90a8915f1b13f0cc114d39720990add332d72bfa
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:52:03 2020 +0200

    jpc_t1dec: use unsigned integers

M	src/libjasper/jpc/jpc_t1dec.c

commit 54fbba7dc7f3b9fed76d2834b273e1570791c1d8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:27:44 2020 +0200

    jpc_t1cod: use unsigned integers

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit 60281f00b54dfc91ee691a0526f5aac7711f8bdf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:30:29 2020 +0200

    jpc_t1{cod,dec}: use __builtin_unreachable() on illegal `switch`
    labels

    This allows removing some initialization code which is confusing,
    because it should never be reachable.

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1dec.c

commit e36d2bbecaff8308411076fbce56deb9e36c7390
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:46:47 2020 +0200

    jpc_t1cod: JPC_SEGTYPE() returns an `enum`

M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_enc.h
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit e6d9649e28c145da563a2826943ffb9a533f1b65
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:36:46 2020 +0200

    jpc_t1cod: JPC_PASSTYPE() returns an `enum`

    Reduce CPP macros.

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c

commit 670bb17516ce06b2f74835ca0d034d28c95cf2a3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:26:49 2020 +0200

    jpc_t1cod: simplify JPC_ISTERMINATED() return value

    No implicit `int` to `bool` cast.

M	src/libjasper/jpc/jpc_t1cod.c

commit 18c99c3910674c2025d68afbc08f099f9700e02d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:24:58 2020 +0200

    jpc_t1cod: use `f` suffix for `float` literals

    This avoids the implicit cast to `double` on some architectures.

M	src/libjasper/jpc/jpc_t1cod.c

commit 1a35a847c139d6444a65586367ccb569e1ce2296
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Aug 6 20:40:18 2020 +0200

    jpc_t1{dec,enc}: restore and fix the JPC_PASSTYPE() calls

    The `#if 1` code is equivalent, but less clear.  Let's restore the
    calls.  This requires fixing the parameter: the `+2` offset is wrong,
    but it has been since the very first git commit, so I can't seem to
    find out why.

    If optimization is really important, we better convert JPC_PASSTYPE()
    to an inline function with that formula.  But for now, code clarity
    seems more important.

M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c

commit 1b7b84675e1eedca43892e167e2a14d3cb43b2a4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:09:30 2020 +0200

    jpc_tsfb: use unsigned integers

M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h

commit f5170ec61ae6a5e486961c75b9093aca52343a7b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 21:05:15 2020 +0200

    jpc_tsfb: convert macros to `enum jpc_tsfb_orient`

    This improves code readability, because you can see what values are
    possible.

M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_enc.h
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_tsfb.h

commit 70b66332bfa410e1fdac5fc7a706c10c414d77cb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 22:24:31 2020 +0200

    jpc_math: use unsigned integers in jpc_floorlog2()

M	src/libjasper/jpc/jpc_math.c
M	src/libjasper/jpc/jpc_math.h
M	src/libjasper/jpc/jpc_t2enc.c

commit f3137972edf2026bd54f77b9c1c90bc341419814
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Aug 7 23:08:39 2020 +0200

    jas_math: suppress -Wshift-negative-value only with GCC >= 6

    This option was added in GCC 6, and using the pragma on older GCC
    version breaks the build (since commit df01ace988f3).

M	src/libjasper/include/jasper/jas_math.h

commit 990bb29f7e0e933312f7768d7bfb95fbb273974f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 8 13:25:00 2020 +0200

    jas_config.h.in: use the `no_sanitize_undefined` attribute only
    with GCC>=6

    Fixes build failure with GCC 5 and older.

M	src/libjasper/include/jasper/jas_config.h.in

commit 1083b11dbce419a3accf84dd5b27a43b8ac28304
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 8 13:21:29 2020 +0200

    jas_config.h.in: reorder GCC/clang checks for simplification

M	src/libjasper/include/jasper/jas_config.h.in

commit ae3c8319a5240e106e3a0766093c44882aeff8f1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 8 13:20:20 2020 +0200

    jas_math: require GCC>=5 for __builtin_*_overflow()

    These are not available in GCC 4.x or older.

M	src/libjasper/include/jasper/jas_math.h

commit a3bca5d3b0cfdf6f246f27fd03dee5ffd856aeb4
Author: OSAMU WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Fri Aug 7 17:06:05 2020 +0900

    Fix wrong EPH marker checking

    If EPH markers are required (by setting the third LSB of Scod
    parameter to "1" in the COD marker segment, see A.6.1), each packet
    header in any given tile-part shall be postpended with an EPH marker
    segment. jpc_dec_lookahead() never returns a value out of the range
    from 0xff80 to 0xffff, however, a broken bitstream may have a value
    in this range. Therefore, `if (jpc_dec_lookahead(pkthdrstream) ==
    JPC_MS_EPH)` cannot check the case that the packet header has not
    been correctly postpended with an EPH marker (= 0xff92).

M	src/libjasper/jpc/jpc_t2dec.c

commit 9580dcb0b40a8ebe1bd45976235f2f518d0adc0b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Aug 5 00:08:26 2020 +0200

    jpc_t2dec: fail if maxpasses==0

    This is an illegal value which would crash inside jpc_floorlog2(), a
    new variant of CVE-2016-9398.

    Closes https://github.com/jasper-software/jasper/issues/225

M	src/libjasper/jpc/jpc_t2dec.c

commit 277451c610c0b10c8722727d9b8cc019eb900eb4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 21:48:36 2020 +0200

    jpc_t2dec: use unsigned integers

M	src/libjasper/jpc/jpc_t2dec.c

commit 35982860f495fe4816415433b8b791fe20ca2cc7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 21:30:25 2020 +0200

    jpc_t2dec: make jpc_dec_lookahead() static

    It's only used inside this source file.

M	src/libjasper/jpc/jpc_t2dec.c

commit d2556d28422bdf41d164e1bd519760092b6c9ab5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:11:51 2020 +0200

    jpc_tagtree: remove unnecessary NULL check before jas_free()

M	src/libjasper/jpc/jpc_tagtree.c

commit 25c2f42e9a7bef7342771ca15640aae8a5a28cb5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:08:31 2020 +0200

    jpc_tagtree: add `const`

M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/jpc/jpc_tagtree.h

commit 8f9e945cad7fb397b2cb37f3adac0bf72526d5db
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:24:03 2020 +0200

    jas_cm: use unsigned integers

M	src/libjasper/base/jas_cm.c
M	src/libjasper/include/jasper/jas_cm.h

commit ace9fb70d80823baa75c9eb333c67381e7ed8ee3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:39:48 2020 +0200

    jas_cm: add `const`

M	src/libjasper/base/jas_cm.c
M	src/libjasper/include/jasper/jas_cm.h

commit 310ac107cd046773972fc1285279e5ac5ab62525
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:32:30 2020 +0200

    jas_cm: consistently use typedef jas_clrspc_t

M	src/libjasper/base/jas_cm.c
M	src/libjasper/include/jasper/jas_cm.h

commit b7037ed91a1da8e18add6981860cef63c824c53d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:24:37 2020 +0200

    jas_cm: remove unimplemented prototype jas_cxform_optimize()

M	src/libjasper/include/jasper/jas_cm.h

commit 0eca27fde3f04dd65f65b28d191caaeb9c29e1e8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:21:53 2020 +0200

    jas_cm: convert runtime check with abort() to assert()

    Omit it in non-debug builds.

M	src/libjasper/base/jas_cm.c

commit 0f666429694959656f31fba00f970c92dd5d18ae
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 23:43:03 2020 +0200

    jas_icc: convert runtime checks with abort() to assert()

M	src/libjasper/base/jas_icc.c

commit d017b55c0034f8977fffe8b032d304adc1661d7e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 23:21:16 2020 +0200

    jas_icc: use unsigned integers

M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/include/jasper/jas_icc.h

commit 3def6b979b6be5144510ff04288d3ae00a80c33a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:59:06 2020 +0200

    jas_icc: add `const`

M	src/libjasper/base/jas_icc.c
M	src/libjasper/include/jasper/jas_icc.h

commit da09e0dcf4ccbbbd520ab757b4be737b854768b7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 23:09:35 2020 +0200

    jas_icc: remove unused typdef jas_icctaginfo_t

M	src/libjasper/base/jas_icc.c

commit 2bdff160a232dfbcd38cdd4dac73bfa4fe10a51b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 22:31:55 2020 +0200

    jas_image: consistently use typedef jas_clrspc_t

M	src/libjasper/base/jas_image.c

commit 2f1da661809f1eeb832d958177ac226b9a33b994
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Aug 4 21:34:44 2020 +0200

    jpc_t2dec, ...: remove unreachable `break` statements after `return`

    And a few after `default:`.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit ed19faf148bcd548b12459276b6938e496cf73ab
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 23:59:31 2020 +0200

    jas_math: include cleanup

M	src/libjasper/include/jasper/jas_math.h

commit 46628242b092c40cde42d0dd99670eed94a7cc91
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 12:39:25 2020 +0200

    jas_math: use __builtin_*_overflow() on GCC and clang

    This is faster because it takes advantage of overflow flags on some
    CPUs, e.g. the "carry" flag on x86.

M	src/libjasper/include/jasper/jas_math.h

commit 9dc5c3765b7efcccc16465f2228ff77e67384926
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 17:34:09 2020 +0200

    jpc_dec: don't dump unknown marker segments

    This rather useless "feature" only spams the application's stderr, but
    the application can't disable it.  This is bad behavior for a library.

M	src/libjasper/jpc/jpc_dec.c

commit 2a30576874ee68b9f99f765b62cad72e1d064332
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 23:16:53 2020 +0200

    jas_seq: pass unsigned integer to jas_matrix_asr() and
    jas_matrix_asl()

M	src/libjasper/base/jas_seq.c
M	src/libjasper/include/jasper/jas_seq.h

commit 35164a12f82e7445055c819d7a745b944e34bfb9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 23:14:16 2020 +0200

    jas_seq: convert macros to inline functions

M	src/libjasper/include/jasper/jas_seq.h

commit f121c9a661d73e637a7f57d7bb29364fcde0bc46
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:36:02 2020 +0200

    jpc_fix: convert more macros to inline functions

M	src/libjasper/jpc/jpc_fix.h

commit 98cb2a6a490a3345ca1fb4f72af30c7e42c48c0c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:50:18 2020 +0200

    jas_fix: remove broken macro JAS_FIX_TRUNC()

    This macro is broken and unusable because it calls JAS_FIX_CEIL()
    which does not exist.

M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/jpc/jpc_fix.h

commit 4f4c596f26d885eca584952f98f730498eb89d77
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:38:21 2020 +0200

    jpc_fix: fix jpc_fix_neg() parameter type

M	src/libjasper/jpc/jpc_fix.h

commit 3e90dfaa896c86d555ffc07ee553ac1576c39efb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:32:38 2020 +0200

    jas_debug: add `const`

M	src/libjasper/base/jas_debug.c

commit db4fe5adb4f7ce40200bd715004367ce6e45f6d7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:36:49 2020 +0200

    jpc_util: convert assert() to runtime check

M	src/libjasper/jpc/jpc_util.c

commit 9619fd45865438f2d2c9e443f40b644ee4ec5ff0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:29:56 2020 +0200

    jpc_util: add `const`

M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/jpc/jpc_util.h

commit 010843eb1e2db280724324b56cad8cabcf3b1c1b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 21:44:44 2020 +0200

    jp2_cod: reduce jp2_boxinfo_t padding

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h

commit 1ab00252f4cc1e1c9f32ba01ecdf9efe3c7de439
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 21:38:54 2020 +0200

    jpc_dec: reduce jpc_dec_mstabent_t padding

M	src/libjasper/jpc/jpc_dec.c

commit 2aba4372a5f91797e1f450f5225e2bda677c03c7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 20:58:20 2020 +0200

    jpc_dec: fix memory leak in jpc_dec_process_pp[mt]()

    If jpc_ppxstab_insert() fails, we need to free the entry which could
    not be inserted.

M	src/libjasper/jpc/jpc_dec.c

commit 4d109b8b8257b15fc6fe46d610a1bd6fbc717466
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 20:58:28 2020 +0200

    jpc_dec: add `const`

M	src/libjasper/jpc/jpc_dec.c

commit c8d51b11e2a4e0e90ccefae5028e899549bac821
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 20:39:34 2020 +0200

    jpc_dec: add `const` attribute

M	src/libjasper/jpc/jpc_dec.c

commit 8554235bcafa2e9623539e5d3a901aa095a0ceb5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:19:01 2020 +0200

    jpc_t1cod: pass unsigned integers and bool

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit baf8c3d89d9b6236d3a7b2d32033df5998b36953
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 23:08:14 2020 +0200

    jpc_t1cod: add missing include for JAS_ONES

M	src/libjasper/jpc/jpc_t1cod.h

commit 55f82adb3fa44399336dbc1c99bd949c4fb3760e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 21:14:45 2020 +0200

    jpc_t2cod: use unsigned integers in jpc_pchglist_t

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2cod.h

commit bc81ffd4d09f84e9b5eb8dc7818048eaeefee3c1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 21:02:37 2020 +0200

    jpc_t2cod: add `const`

M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2cod.h

commit 80fd248c50bab618436fa0d1474c5b6d32ae9332
Merge: e4fca80 55562ce
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Aug 1 22:11:34 2020 +0200

    Merge branch 'hotfix1-2.0.19' of git://github.com/osamu620/jasper

commit e4fca80d2e4e0c6049b9d4363c61a64861571981
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Thu Jul 30 08:53:13 2020 +0200

    Rename CHANGELOG into NEWS

    @mdadams notified us that he would prefer to rename this to NEWS.

    The reason is that the `build/make_dist` script already creates a
    changelog file.
    This file will basically list all git commits.
    He prefers having this in the tarball as well.

    NEWS - will list changes relevant for users of JasPer
    ChangeLog - will list all git commits

R100	CHANGELOG	NEWS

commit 55562ce1abad526d733be6f49805966d47fa50c8
Author: Osamu WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Jul 29 12:28:51 2020 +0900

    Dequantization using the mid-point reconstruction

    Why: In the JPEG 2000 spec, the reconstruction parameter is introduced
    in the Annex E (Quantization). This reconstruction parameter can be
    arbitrarily chosen by the decoder, however, it is important to produce
    the best visual or objective quality for reconstruction. Generally,
    values for this parameter fall in the range [0, 1) and a common
    value is 0.5.
    How: Added new variable as the reconstruction parameter in
    jpc_dequantize() and set the value to 0.5.

M	src/libjasper/jpc/jpc_dec.c

commit 2004078036ced28ff167cf439d7a1c648c955201
Author: Osamu WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Jul 29 12:26:48 2020 +0900

    Fix incorrect precinct edge detection in RPCL progression order

    Why: The condition for edge detection of precincts in jpc_pi_nextrpcl
    is wrong. (For example the p1_07 codestream used for the conformance
    contains first the packet for component 1, resolution 0, component
    0, position (4,0) before the packet for component 0, resolution 0,
    component 0, position (8,0), but JasPer reads them in the wrong
    order.)
    How: Fixed the condition according to the JPEG 2000 spec defined as
    the ISO/IEC 15444-1.

M	src/libjasper/jpc/jpc_t2cod.c

commit cc814c9828c5a6f76ba6c19f1f690c33fae6e3b7
Author: Osamu WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Jul 29 12:25:00 2020 +0900

    Fix the problem that a tile with TNsot = 0 for all the tile-parts
    is never decoded

    Why: If a tile has multiple tile-parts and all the tile-parts have
    the TNsot (a parameter in the tile-part header) = 0, such a tile is
    never decoded.
    How: Modified the condition whether jpc_dec_tiledecode() shall be
    invoked or not in jpc_dec_process_eoc()

M	src/libjasper/jpc/jpc_dec.c

commit 1c220a140086d58d33b096bcfd5baec9e45da45e
Author: Osamu WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Jul 29 12:23:08 2020 +0900

    Fix incorrect propagation of a COC parameter (DWT transform)

    Why: If the DWT transform differs among components, the information
    of DWT transform used for each component should be found as the COC
    marker segment. This information is wrongly used for dequantization
    and rounding in JasPer.
    How: Fixed dequantization and rounding in jpc_dec_tiledecode()
    to use ccp->qmfbid which has the information of DWT transform.

M	src/libjasper/jpc/jpc_dec.c

commit 3204e675eabf9ac0145a48f26820aeda26924e5a
Author: Osamu WATANABE <owatanab@es.takushoku-u.ac.jp>
Date:	Wed Jul 29 12:19:07 2020 +0900

    Fix incorrect calculation of derived stepsizes

    Why: If the LSB of the Sqcd or Sqcc in the QCD or QCC marker is equal
    to "1" , this incorrect calculation of derived stepsizes produces
    wrongly reconstructed sample values.
    How: The calculation of derived stepsizes in calcstepsizes() has been
    fixed according to the JPEG 2000 spec defined as the ISO/IEC 15444-1.

M	src/libjasper/jpc/jpc_dec.c

commit e88a8ecb8b0e2a7954c0147c1e5c15fdd588eca0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 29 15:29:03 2020 +0200

    jas_seq: fix potential integer overflow on 32 bit CPUs

    Assigning a `size_t` to a `uint_fast32_t` is not safe, because the
    `size_t` may (theoretically) be larger than the `uint_fast32_t`.

    Closes https://github.com/jasper-software/jasper/issues/128

M	src/libjasper/base/jas_seq.c

commit a4dc77cca1163347d0aa677d56da332c3f119021
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 29 15:24:27 2020 +0200

    jpc_cs, jas_image: validate bit depth

    We need at least 1 bit of precision for unsigned samples and 2 bits
    for signed samples.

    Closes https://github.com/jasper-software/jasper/issues/152

M	src/libjasper/base/jas_image.c
M	src/libjasper/jpc/jpc_cs.c

commit 6a04b6e7af77adcc51a60d08d1f482c9dc4c2507
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 29 15:04:28 2020 +0200

    jpc_t1cod: use __builtin_unreachable() to fix -Wuninitialized

    Commit a17d321c1e590 accidently disabled the old workaround for
    `-Wuninitialized`, because I thought this was about `-Wunused`.

    However, the old workaround had some runtime overhead; it's pointless
    to initialize the variable with an arbitrary value, just to make the
    compiler happy; let's rather tell the compiler that this code path is
    unreachable!

M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/jpc/jpc_t1cod.c

commit f2ffac86ed5bd7e66a8f984717497ccbea10785a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 29 14:59:07 2020 +0200

    jpc_t1cod: use unsigned integers in jpc_getzcctxno()

M	src/libjasper/jpc/jpc_t1cod.c

commit dd1450476d14962d9b076acb0277c4229437ca5a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 29 13:48:32 2020 +0200

    jpc_qmfb: fix duplicate assignment

    This mistake was added by commit ab42359179

M	src/libjasper/jpc/jpc_qmfb.c

commit 7d8cfd8ac16d1af9b51e5ccd781e898f0fbf57cc
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Jul 28 11:31:50 2020 +0200

    Bump version to 2.0.19

    Read https://github.com/mdadams/jasper/issues/208 for details.

    Unfortunately 2.0.17 was released on a branch. Later the branch was
    removed and the 2.0.17 tag was placed on another commit and branch.

    This resulted in various distros who pulled the tarball at different
    times two have different jasper versions for 2.0.17.

    https://repology.org/project/jasper/versions shows that some even
    have a
    2.0.18.

    To reduce all this confusion I will release 2.0.19 now.
    With a clean changelog referencing what @MaxKellermann and @jubalh
    (me)
    did on our fork at jasper-maint.

    If we want to revert things later or improve the changelog this can be
    easily done on master ontop of this.
    But I feel we need this release to reduce the confusion and put the
    project on a clear track again.

M	CMakeLists.txt

commit eaa7abb7faa8336380e3b53012300d2dc2426f14
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Jul 28 11:31:24 2020 +0200

    Add Changelog

A	CHANGELOG

commit 0663cdc9ce0f9ca479391a49e34187307ff6c7d9
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Jul 28 11:12:15 2020 +0200

    Update links in README

M	README

commit f74f8827e0b4b0ce0d2cd1d5396ea7e9425be6bd
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Jul 28 11:11:08 2020 +0200

    Remove fork info from README

    Since the project jasper-maint and original upstream merged together
    again in jasper-software we don't need this.

    This reverts commit cbcaf65cc667fb23d65a22526b7a42a4761303eb.

M	README

commit f12c24dd8aea958fcf63713410c7c20e6e755f8b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 10:20:40 2020 +0200

    jp2_cod: convert macros to inline functions

M	src/libjasper/jp2/jp2_cod.h

commit 389951d07129d7da0292c6685a7624b923b40d7d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 10:16:48 2020 +0200

    jas_image: convert macros to inline functions

M	src/libjasper/include/jasper/jas_image.h

commit b28d2c98471c2da831c8c8478d3e57322781c69a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 10:01:28 2020 +0200

    jas_image: add `const`

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h

commit 001b17e33799be2a50670c5f9ebf3b00a9e6f236
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:41:23 2020 +0200

    jpc_enc: adjust loop variables for -Wsign-compare

M	src/appl/imgcmp.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t1enc.c

commit f41bb054dbadd5ae73809e52641e46a9783c15f1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:37:09 2020 +0200

    jpg_dec: suppress GCC's -Wtype-limits

    Similar to commit f3d407565f but for GCC this time.

M	src/libjasper/jpg/jpg_dec.c

commit bb05bcaac775677785d5ad58bfed1dc65b9db506
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:33:57 2020 +0200

    jas_t1cod: add "fall through" comment to suppress
    `-Wimplicit-fallthrough`.

M	src/libjasper/jpc/jpc_t1cod.c

commit 830889b1cdb5ddfdfdb7e8a37e6251148b441b91
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:29:36 2020 +0200

    jas_t1cod: convert runtime check to assert()

    `hc` can only be `0` or `1` here.  This fixes `-Wmaybe-uninitialized`.

M	src/libjasper/jpc/jpc_t1cod.c

commit 3b8265f6805d2c4c67c5fa1f4a96c87bd0ca99bb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:22:41 2020 +0200

    {jp2,jpc}_dec, jiv: suppress -Wunused-but-set-variable for disabled
    code

M	src/appl/jiv.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_dec.c

commit ac0704a80f4f69432725fb9389dff3ef41e3ba6d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:21:20 2020 +0200

    mif_cod: work around -Wunused-parameter

M	src/libjasper/mif/mif_cod.c

commit c6bbe398cb5d4e3218d39ab96ef3ceadc3d14984
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 09:20:27 2020 +0200

    jpg_{enc,dec}: work around -Wunused-but-set-parameter

M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c

commit 82bd56c237165ddaa58994bfc566991ce73a5cc7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 06:59:06 2020 +0200

    jpc_mqcod: use smaller types

M	src/libjasper/jpc/jpc_mqcod.h

commit 3059569f6457dd019ef7a8e7b87dd12d0134c691
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 07:27:36 2020 +0200

    jas_mqenc: add `const`

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit db8517f270cc1da7cfd4b47fbec4b76c397279a5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 07:28:30 2020 +0200

    jas_mqenc: remove unimplemented prototype

M	src/libjasper/jpc/jpc_mqenc.h

commit 6bb7e633b71b85f4865506937cdc05b77ed37e4c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 06:59:15 2020 +0200

    jpc_mqdec: add `const`

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h

commit b86f2575da564a3dd4249615cc7dc39bfc3cd1e5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 07:09:54 2020 +0200

    jas_t1cod: convert macros to inline functions

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit c9446142231818d06339874c82defd2d5efbaf8c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 07:05:46 2020 +0200

    jpc_t1cod: remove bogus "Avoid compiler warning"

    This doesn't avoid anything.

M	src/libjasper/jpc/jpc_t1cod.c

commit 9193e8152639da778aba6b7e75f8c8817bcacb79
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:57:19 2020 +0200

    jpc_t1cod: use smaller types for the lookup tables

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit a8b70598744e200abc4d37cc2dac63a789406f47
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:40:35 2020 +0200

    jpc_t1cod: make internal functions `static`

M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h

commit 4e53891e09064c6bc404f5d8249d215ab932f787
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:38:56 2020 +0200

    jas_stream: work around -Wunused-but-set-parameter

M	src/libjasper/base/jas_stream.c

commit 2dcc4fb2d65e1a4be58e712f64a423b971cb5fac
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:37:27 2020 +0200

    appl/imginfo: remove unused variable `verbose`

M	src/appl/imginfo.c

commit 442c818779c5b09ad0dcc7bb7672146543ce94f9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:36:31 2020 +0200

    appl/img{cmp,info}: move `max_mem` declaration into #ifdef

    Fixes `-Wunused-but-set-variable`.

M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jiv.c

commit 15de202dbcb4edb7e35d17a234e651330362e684
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jul 14 07:36:23 2020 +0200

    jas_seq: add macro PRIjas_seqent

    After commit 52cb87e908, jpc_dec_dump() kept on using `PRIiFAST32`,
    but in 32 bit mode, this should be `PRIiLEAST32`.  The new macro
    `PRIjas_seqent` can be used instead.

M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_dec.c

commit bb497c8e5ccd14edc13ef78610a0d11b0dc6b61c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:03:03 2020 +0200

    jas_seq: convert macros to inline functions

M	src/libjasper/include/jasper/jas_seq.h

commit 0b82570011257106bd8e872599f180657f7a263c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 20:32:18 2020 +0200

    jas_seq: remove unused macro jas_matrix_length()

    This macro depends on the macro `max()` which is not provided by
    this library.

M	src/libjasper/include/jasper/jas_seq.h

commit 9557fe3fb96265d7da13eeea596c1c015fb68e0b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 1 14:23:05 2020 +0200

    jpc_fix: convert macros to inline functions

M	src/libjasper/jpc/jpc_fix.h

commit ab42359179c5b7d47bbc3993675470593a5ff35c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:45:49 2020 +0200

    jpc_qmfb: use unsigned integers

M	src/libjasper/jpc/jpc_qmfb.c

commit 86402fcfa26dca732678100290183787ea5fbefc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 1 13:40:24 2020 +0200

    jas_image: convert more integers to `unsigned`

M	src/appl/imgcmp.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/ras/ras_dec.c

commit a8368d2823046bf4a8e8d61f3891d753752b9f71
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 1 13:32:56 2020 +0200

    jas_image: simplify jas_image_cmpt_copy() error handling

M	src/libjasper/base/jas_image.c

commit 9493c19936bf801bba07199712d117bbe03e6fd4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 1 13:28:20 2020 +0200

    jas_image: use `bool`

M	src/libjasper/base/jas_image.c

commit e1d3490757038d470b04b7229a2619aa5d7f4d30
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jul 1 13:30:40 2020 +0200

    jas_image: simplify jas_image_cmpt_create() error handling

M	src/libjasper/base/jas_image.c

commit bc3c927178d99b7a2ef5a93f9e3ee9c43f077ac0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:39:27 2020 +0200

    jpc_t1enc: handle jpc_bitstream_sopen() errors in jpc_enc_enccblk()

M	src/libjasper/jpc/jpc_t1enc.c

commit b71f9751175937459905c2360220a18f4ffcb80e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:37:45 2020 +0200

    jpc_t1enc: fix error handling in jpc_enc_enccblk()

    Errors from various called functions were stored in the `ret`
    variable, but this variable was never checked.

M	src/libjasper/jpc/jpc_t1enc.c

commit 02d5b214c066ad4f6ef52e19ddf24a341b578ef0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:36:41 2020 +0200

    jpg_dummy: suppress -Wunused

M	src/libjasper/jpg/jpg_dummy.c

commit df01ace988f3d952ddebaabfa30c87d2cab30c6c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:35:16 2020 +0200

    jas_math: disable -Wshift-negative-value on GCC as well

    Commit 681296e82c did this only for clang, but GCC has the same
    warning which we want to supress (until the code is fixed).

M	src/libjasper/include/jasper/jas_math.h

commit 83b80fb29d3ef16fcc5e9c27316778c4c31f5f95
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:17:20 2020 +0200

    mif, pgx, ras: work around -Wunused-but-set-parameter

M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/ras/ras_dec.c

commit 71ea2376091a26db9b448babeba6b34a71cae75e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:16:33 2020 +0200

    jpc_tagtree: work around -Wunused-but-set-parameter

M	src/libjasper/jpc/jpc_tagtree.c

commit f89503e193d4517d4cc3c0f5d536c55eb5b33e08
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:15:33 2020 +0200

    jpc_t1dec: work around -Wunused-but-set-parameter

M	src/libjasper/jpc/jpc_t1dec.c

commit a17d321c1e5903e54049a6814925c7e14c7776c2
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:15:15 2020 +0200

    jpc_t1cod: work around -Wunused-but-set-parameter

M	src/libjasper/jpc/jpc_t1cod.c

commit 3d21a29e8bd3818dc946bdd70976143ea030f5bc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:14:58 2020 +0200

    jpc_dec: work around -Wunused-but-set-parameter

M	src/libjasper/jpc/jpc_dec.c

commit 4dd9bf2dd1a95ebeb38b5488a05ad340b1263067
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:14:11 2020 +0200

    jpc_cs: work around -Wunused-but-set-parameter

M	src/libjasper/jpc/jpc_cs.c

commit 31bbfabc527375d2b40d4d4023d6b0268cfc798b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:07:12 2020 +0200

    jp2_cod: work around -Wunused-but-set-parameter

M	src/libjasper/jp2/jp2_cod.c

commit 5df73c72254acff459c7ff5fc2539e86811b2c05
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:01:10 2020 +0200

    jas_icc: work around -Wunused-but-set-parameter

M	src/libjasper/base/jas_icc.c

commit 242cc9c7bb80f22c323106c11dd2bfdb98f1f913
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:00:18 2020 +0200

    jas_cm: work around -Wunused-but-set-parameter

M	src/libjasper/base/jas_cm.c

commit 2368ae7113c5dbabed3fc31b22fa5bea9f173dff
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:00:36 2020 +0200

    jpc_t1enc: remove unused variables

M	src/libjasper/jpc/jpc_t1enc.c

commit d17ece737b8856f98e2617e907701673ec7b5501
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 14:00:30 2020 +0200

    jpc_dec: remove unused variables

M	src/libjasper/jpc/jpc_dec.c

commit 21640fe326713b7bc12a312ddf6ebd14f2890499
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:56:05 2020 +0200

    jpc_mct: remove unused function jpc_mct_getsynweight()

M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_mct.h

commit 8f5bb881e0b5f7d7406b900c94403b1473e4b5f6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:54:46 2020 +0200

    jpc_enc: remove unused variables

M	src/libjasper/jpc/jpc_enc.c

commit 09ac902aeab1ec667673e756874d38e97297190c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:53:06 2020 +0200

    jpc_enc: remove unused function dump_passes()

M	src/libjasper/jpc/jpc_enc.c

commit 14769ae0e357d6522a2c5135b8f827fc3ecb4f02
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:51:56 2020 +0200

    jpc_qmfb: remove unused functions jpc_*_col()

M	src/libjasper/jpc/jpc_qmfb.c

commit 894862d3023ab5e301394f7726ec110dacf41f51
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jul 13 13:51:28 2020 +0200

    CMakeLists.txt: re-enable -Wunused

M	CMakeLists.txt

commit 52cb87e908b8a71f5e8fd0b5ed5260829e4335a6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 13:01:27 2020 +0200

    jas_seq, jpc_fix: add option to use 32-bit integers

    Those libraries use the C99 type `int_fast32_t`, which translates to
    `int64_t` on AMD64.  This type obviously consumes twice as much memory
    as `int32_t`, and these two libraries are mostly about allocating bulk
    buffers containing these values.

    More memory use for large buffers means a larger working set, which
    results in reduced CPU cache efficiency.  So in these cases,
    `int_fast32_t` is not actually the "fastest" integer, but the slowest.

    This is a "perf stat imginfo -f balloon.jp2" with the 64 bit ABI (on
    an Intel Xeon E5-2630):

	   1010.691814	    task-clock:u (msec)       #    0.999 CPUs
	   utilized
	 6,129,118,094	    instructions:u
	     7,518,301	    cache-misses:u	      #    7.132 %
	     of all cache refs
	   105,422,064	    cache-references:u	      #  104.307 M/sec

    And this is with the 32 bit ABI:

	    934.800857	    task-clock:u (msec)       #    0.999 CPUs
	    utilized
	 6,234,900,095	    instructions:u
	       789,609	    cache-misses:u	      #    1.130 %
	       of all cache refs
	    69,876,685	    cache-references:u	      #   74.750 M/sec

	   0.935685960 seconds time elapsed

    The 32 bit ABI is about 8% faster, even though it executes more CPU
    instructions.  That is because it wastes less time waiting for the CPU
    cache: only 1.1% cache misses instead of 7.1%.

    The problem is that the choice of using `int_fast32_t` everywhere has
    leaked into the JasPer ABI, and changing it now will break ABI
    compatibility.

    So for people who can afford an ABI breakage, this patch adds a new
    compile-time option `JAS_ENABLE_32BIT` which builds a more efficient
    32 bit ABI.

M	CMakeLists.txt
M	INSTALL
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_fix.h

commit d75d71ff99878267b0928e9e72f68c14c0470c5f
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:39:16 2020 +0200

    pgx_dec: move precision check to pgx_gethdr()

    Fixes integer overflows/truncation bug in pgx_getword().

M	src/libjasper/pgx/pgx_dec.c

commit 065ae93b877d97a7bc848a628985469bfbcda0f2
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:26:13 2020 +0200

    mif_cod: check for jas_stream_putc() errors

M	src/libjasper/mif/mif_cod.c

commit b049dce9b246a72684e3a6111a7dad34b124a7a9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:23:15 2020 +0200

    jpg_enc: remove unnecessary error cleanup code

M	src/libjasper/jpg/jpg_enc.c

commit e3f817d75a163a94ae48978bf2751befaa580cf3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:19:01 2020 +0200

    jas_icc: remove unnecessary error cleanup code

    When the `error` label is reached, `tmpattrval==NULL` in all cases.

M	src/libjasper/base/jas_icc.c

commit 20d625b7c46bf5d6a3ee49309dcf4846ff4104fe
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:08:51 2020 +0200

    jpc_cs: remove unnecessary NULL check, cannot ever be NULL

M	src/libjasper/jpc/jpc_cs.c

commit caeec37c883714ebed1392f1c1a07f3b51547e76
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:07:27 2020 +0200

    jpc_t2enc: eliminate duplicate assignment

M	src/libjasper/jpc/jpc_t2enc.c

commit 42b167ec7a2e1f2a67101737072cb112a3700262
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 19:04:43 2020 +0200

    jpc_dec: fix unintended sign extension

    By doing `data[0] << 24`, the value is implicitly casted to `signed
    int`, and if the highest bit happens to be set, the following cast to
    `uint_least32_t` (which has 64 bits on 64 bit CPUs) will cause all
    upper 32 bits to be set.  This results in an endless loop (Denial of
    Service vulnerability).

M	src/libjasper/jpc/jpc_dec.c

commit 36490c1543c7c5c79d20210d5c1038769a66b3c1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 18:57:35 2020 +0200

    jas_cm: fix 3 memory leaks in mono()

M	src/libjasper/base/jas_cm.c

commit f3ee8f357d1e93fed408b66aeaa43b583ff148ce
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 18:15:53 2020 +0200

    jpc_cs: convert macros to inline functions

    Functions are type-safe and easier to read, so less error prone.  The
    resulting binary is the same.

M	src/libjasper/jpc/jpc_cs.h

commit 265a5c856e2d68d1e4116401ddc2c211f868caf1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 18:07:02 2020 +0200

    jpc_t2enc: remove bogus expression from assert()

    This variable is unsigned since commit
    5ebf032fd8d4c81c47cf7beea3e4ce9e09ae9c9b

M	src/libjasper/jpc/jpc_t2enc.c

commit ab860ad412599953abebc89bead24b839d6406fa
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 12:27:44 2020 +0200

    jas_config.h.in: add "pure" and "const" attributes

    Gives the compiler more chances for optimizations.

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/include/jasper/jas_version.h
M	src/libjasper/jpc/jpc_bs.h
M	src/libjasper/jpc/jpc_math.h
M	src/libjasper/jpc/jpc_mct.h
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h
M	src/libjasper/jpc/jpc_t2cod.h
M	src/libjasper/jpc/jpc_tagtree.h
M	src/libjasper/jpc/jpc_util.h

commit af3b550614a336db8cd1d96364c43b5ad97ccfae
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 18:01:27 2020 +0200

    jpc_bs: add `const`

M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_bs.h

commit caca8f034e452f9644614e690bd53c6346f7ebbc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 18:18:53 2020 +0200

    Revert "Force assertions to always be enabled."

    This reverts commit fea9060ea8617823caf478c1ce285c8caf8c031a.

    Assertions are a tool for finding bugs during development, and release
    builds shouldn't have them, because they bloat the binary and they
    cause slowdowns.  If somebody wants to find bugs, he shall not define
    the `NDEBUG` macro.

    In the passt, JasPer has abused assertions for runtime error handling,
    and lots of those assertions were Denial of Service vulnerabilities.
    Most of them have been fixed by now.

M	CMakeLists.txt
D	build/cmake/modules/EnableAssertions.cmake

commit 56dfee0e0abc07631af7d7b49cfd63f5afd2ffff
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 30 14:56:35 2020 +0200

    CMakeLists.txt: don't detect libjpeg and OpenGL if features are
    disabled

M	CMakeLists.txt

commit 98ec964198b4b06bd4c97e32c1e8ee382dc6e2c4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:48:09 2020 +0200

    CMakeLists.txt: link with `--gc-sections` if supported

    If internal symbols are hidden, we can use the linker flag
    `--gc-sections` to eliminate unused symbols.  This reduces the binary
    size by 5 kB.

M	CMakeLists.txt

commit 2554bd77c74cbc2abf8e25afe9c63933665494b8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:42:54 2020 +0200

    CMakeLists.txt: enable -fvisibility=hidden for internal symbols

    Don't export internal symbols in the public symbol table.  This
    reduces the number of exported symbols from 348 to 121.

    The same is already being done on Windows by using
    `__declspec(dllexport)`, and all functions not annotated with it will
    be inaccessible by programs using JasPer.

    Strangely, this refuses access to lots of functions in the public
    headers.  I wonder why these were declared in the public headers.

    To avoid breakages with programs using those internal symbols, this
    feature is optional and must be enabled with the cmake option
    `-DJAS_ENABLE_HIDDEN=true`.

M	CMakeLists.txt
M	INSTALL

commit 31178dc61a96200b972f0b07bc95566a1661a257
Author: Timothy Lyanguzov <timothy.lyanguzov@sap.com>
Date:	Mon Mar 18 16:46:24 2019 +1300

    jp2_dec: exit upon invalid MTYP in CMAP box

    Proposed by Timothy Lyanguzov as a fix for CVE-2018-19542 at
    https://github.com/mdadams/jasper/pull/200.

    It appears 8c4e99592e7da53a9de2934bc7781535d0e0595d fixes
    CVE-2018-19542 and CVE-2017-5499.

    We take this change anyway since it improves things although not
    directly fixes the CVE as proposed.

M	src/libjasper/jp2/jp2_dec.c

commit 1b1c591306817e46e1e6a3300f714992b32f972b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 14:13:39 2020 +0200

    jpc_dec: fix another integer overflow in SIZ

    Validate the width and height values first, before doing anything
    else.  This prevents integer overflows in the `numhtiles` /
    `numvtiles` calculation below, triggering assertion failures.

    Fixes CVE-2017-13750

    Closes https://github.com/mdadams/jasper/issues/165
    Closes https://github.com/mdadams/jasper/issues/174

M	src/libjasper/jpc/jpc_dec.c

commit fd564ee3377d9fc2484c657e4f464a3fb9764d31
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 13:47:09 2020 +0200

    jpc_enc: validate raw_size, prevent division by zero in cp_create()

    Closes https://github.com/mdadams/jasper/issues/194 (part 1)

M	src/libjasper/jpc/jpc_enc.c

commit 1c706084396ee139fc0cf96c2bc7b8a534f5516d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 13:42:24 2020 +0200

    jp2_cod: fix another size integer overflow in box reader

    This changes the fix from commit
    69bba1480fb4b1f1e2ab75a14a00721f4cf16e50 and moves the check out of
    the "XLBox" scope, because even 32 bit box sizes can overflow a signed
    integer.

    Closes https://github.com/mdadams/jasper/issues/207

M	src/libjasper/jp2/jp2_cod.c

commit 83a403185719945aa3af269cb13ad9c76455743b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 21:02:27 2020 +0200

    jpc_mqenc: eliminate jpc_mqenc_putbit_macro()

    This is spaghetti code, and nobody knows if it's really the same as
    jpc_mqenc_putbit_func().  This is just waiting for bugs to occur.

M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit 5ebf032fd8d4c81c47cf7beea3e4ce9e09ae9c9b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 15:34:44 2020 +0200

    jpc_t2cod: use unsigned integers

    Yet more `-Wsign-compare` fixes.

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2cod.h
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_t2enc.h

commit 7e4f3a7f0b2556b1117f64002f0eac6409d8f82c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 15:19:11 2020 +0200

    jpc_enc: use unsigned integers

    Fix `-Wsign-compare`.

M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_enc.h

commit ff92dec97dfbdd30412cb90048b2954218e9fe29
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 20:45:16 2020 +0200

    jpc_cs: fix bogus checks (-Wtype-limits)

    These checks can never fail because the loaded type cannot represent
    values outside these limits.

M	src/libjasper/jpc/jpc_cs.c

commit 4f348a2f0cedb7cd5c25c22cb7e323d1826f54da
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 15:18:10 2020 +0200

    bmp_dec: fix -Wsign-compare

M	src/libjasper/bmp/bmp_dec.c

commit b6753269659afc59ba68784d307b09b4648bcf34
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 20:43:16 2020 +0200

    jas_stream: make `newpos` signed so the negativity check can work

    Fixes this warning:

     warning: comparison of unsigned expression in ‘< 0’ is always
     false
     [-Wtype-limits]

M	src/libjasper/base/jas_stream.c

commit 729996abbeabe698b7ee249c2146405b9a347a01
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 15:11:44 2020 +0200

    jas_stream: pass `unsigned` to read() and write()

    Fixes more `-Wsign-compare` warnings without breaking ABI
    compatibility.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit aae5f4fa2560b012f77bd01492389edb67b69d70
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 15:09:05 2020 +0200

    jas_stream: make len_ and pos_ unsigned

    Fixes various `-Wsign-compare` warnings.

M	src/libjasper/include/jasper/jas_stream.h

commit dc2b56817d622791eaf3fb32d046aef2fe99d08d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 14:56:03 2020 +0200

    mif_cod: add `static const`

M	src/libjasper/mif/mif_cod.c

commit 332cd59c8d3b7b1efb14c3acd4915011130fb3f6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 20:56:50 2020 +0200

    jpc_mq*: remove unnecessary NULL checks for jas_free()

M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c

commit 5a763255542c2b48ef22f37e3139a2e3130eec26
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 12:56:03 2020 +0200

    jpc_mq*: add `const`

M	src/libjasper/jpc/jpc_mqcod.c
M	src/libjasper/jpc/jpc_mqcod.h
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h

commit b417f867bf938e255e51d4533c3557a6d364dfbd
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 12:41:36 2020 +0200

    include cleanup using iwyu

M	src/appl/imgcmp.c
M	src/appl/jasper.c
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/base/jas_tvp.c
M	src/libjasper/bmp/bmp_cod.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/include/jasper/jasper.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_dec.h
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_bs.h
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_enc.h
M	src/libjasper/jpc/jpc_flt.h
M	src/libjasper/jpc/jpc_math.c
M	src/libjasper/jpc/jpc_math.h
M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_mct.h
M	src/libjasper/jpc/jpc_mqcod.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_mqenc.h
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_qmfb.h
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1dec.h
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t1enc.h
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpc/jpc_t2dec.h
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_t2enc.h
M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/jpc/jpc_tagtree.h
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h
M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/jpg/jpg_jpeglib.h
M	src/libjasper/jpg/jpg_val.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_cod.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_enc.c

commit c1ecb286bab7c1300dd724085a28698ff9ad4467
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 11:39:54 2020 +0200

    CMakeLists.txt: add libFuzzer support

M	build/cmake/modules/Sanitizers.cmake
M	src/appl/CMakeLists.txt
A	src/appl/fuzz.c
M	src/libjasper/CMakeLists.txt

commit 69bba1480fb4b1f1e2ab75a14a00721f4cf16e50
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 07:34:00 2020 +0200

    jp2_cod: fix size integer overflow in box reader

    jas_stream_copy() gets an `int` as size parameter, so large box sizes
    will result in a negative value, which is (surprisingly) a legal
    parameter value for jas_stream_copy().

M	src/libjasper/jp2/jp2_cod.c

commit 92d61122ae3071a85dcaab0305467f2dca50ef00
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 07:32:40 2020 +0200

    jp2_cod: bail out on extremely large box instead of cropping

    Cropping cannot work.  Either we need to ignore and skip all data, or
    bail out.  But cropping the size and pretending everything is ok will
    fail the next box.

M	src/libjasper/jp2/jp2_cod.c

commit a7d654e07e65bc2abf24295014a852c35519036c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Jun 29 07:31:13 2020 +0200

    jp2_cod: add three box size limits to avoid OOM

M	src/libjasper/jp2/jp2_cod.c

commit 12db8078ba17a8ffc5cc2429fb506988f0f11b44
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sun Jun 28 13:25:12 2020 +0200

    ras_enc: check components for RGB, fixes NULL pointer dereference

    Fixes CVE-2018-18873

    Closes https://github.com/jasper-maint/jasper/issues/15
    Closes https://github.com/mdadams/jasper/issues/184

M	src/libjasper/ras/ras_enc.c

commit fc0397ddfa7a2f46707a5090d463ac15f9ab54f3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sun Jun 28 13:08:07 2020 +0200

    jpc_dec: disallow negative control block offset exponents

    Found by UBSan.

M	src/libjasper/jpc/jpc_dec.c

commit 057eaf9864820b30f399c317ea08f0803bee3011
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sun Jun 28 12:59:36 2020 +0200

    jp2_dec: fix "left shift of negative value ..." (UBSan)

    Make the buffer "unsigned" and cast each byte to an unsigned 32 bit
    integer before shifting.  This fixes the following UBSan warnings:

     left shift of negative value X
     left shift of X by 24 places cannot be represented in type 'int'

M	src/libjasper/jp2/jp2_dec.c

commit d06b17db9d3a355229900ad7b21a3accfa2a0f88
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sun Jun 28 09:27:14 2020 +0200

    jpc_dec: initialize rlvl->bands=NULL to avoid crash in
    jpc_dec_tilefini()

    If jpc_dec_tileinit() fails, the `bands` variable is left
    uninitialized, so jpc_dec_tilefini() attempts to free an arbitrary
    pointer, crashing the application.

M	src/libjasper/jpc/jpc_dec.c

commit b211b019b7dfa4fbd97762464d555239dc49c956
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sun Jun 28 08:00:57 2020 +0200

    jpc_dec: limit the number of code block groups to 64k

    Prevent yet another out-of-memory vulnerability.

M	src/libjasper/jpc/jpc_dec.c

commit 28276fd8951ca1764370e76cc9e44a3e6665a0c4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Jun 27 11:20:08 2020 +0200

    pnm_dec: disallow width<=0 or height<=0

    By using height==0, the width can exceed the configured max_samples
    setting allows attackers to cause gigabytes of memory allocations.

M	src/libjasper/pnm/pnm_dec.c

commit d292b7395c82bcd9ccde99fcdc2dc79b71571432
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Jun 27 10:58:11 2020 +0200

    jp2_cod: check for box datalen underflow

M	src/libjasper/jp2/jp2_cod.c

commit a0039ac982c8351e04847ea9bac5a9584e9d72ee
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 26 09:07:49 2020 +0200

    jpc_cs: fix memory leak in jpc_qcx_getcompparms()

M	src/libjasper/jpc/jpc_cs.c

commit 023ca86514eebd78162557ffb88e2508ee2d6fc6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 20:12:57 2020 +0200

    jpc_t2cod: convert assertion to runtime check

    A crafted file could cause the application to crash.

M	src/libjasper/jpc/jpc_t2cod.c

commit 982cf84fa174349f73410e3120a7e66d49e5c82b
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 17:31:58 2020 +0200

    jpc_dec: limit the number of tiles and components

    Another DoS check.

M	src/libjasper/jpc/jpc_dec.c

commit c3880d2a72a77a55bcd995000083619de555c028
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 18:00:47 2020 +0200

    jpc_dec: validate the tile size with `max_samples`

    It was possible to choose a tile size which was much larger than the
    image, and that could exceed the configured `max_samples` value.

M	src/libjasper/jpc/jpc_dec.c

commit 1ade589fa3cb5f8c5bda429284ac6b50b1a6486d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 15:33:11 2020 +0200

    jpc_dec: limit the number of tiles derived from max_samples

M	src/libjasper/jpc/jpc_dec.c

commit 28e4ef2367d82edb19e69767d8c3a76492bc2adb
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 15:29:10 2020 +0200

    jpc_dec: add missing `return` after integer overflow

M	src/libjasper/jpc/jpc_dec.c

commit b338ba90b8563a75d563267bfbe65feda462617c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 25 13:15:04 2020 +0200

    jas_icc: convert yet another abort() to `goto error`

    Yes, this can happen with a malicious input file with invalid offsets.

M	src/libjasper/base/jas_icc.c

commit 00bba655be75d1c3711ce213a0022248638b62d4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:58:32 2020 +0200

    jp2_dec: allow jas_cmprof_createfromiccprof() to fail

    Don't abort the whole process after such a runtime error.

M	src/libjasper/jp2/jp2_dec.c

commit 27789d20df8bf3c2be46df625fa3a9083be15ed7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:55:56 2020 +0200

    bmp_enc: fix buffer index mixup

    Fixes crash bug due to dereferencing uninitialized pointer.

M	src/libjasper/bmp/bmp_enc.c

commit d55b8b74d711d28d2ada3656e58ff171f8f040aa
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:37:36 2020 +0200

    jas_cm: fix memory leaks in jas_cmprof_createsycc()

M	src/libjasper/base/jas_cm.c

commit 02078df77bd1e0e521f8c8b965effbcf96e4174e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:36:24 2020 +0200

    jas_icc: fix memory leak in jas_iccattrtab_copy()

M	src/libjasper/base/jas_icc.c

commit fa2ccc33d441bd38f5f7b0a411bf68e6bf837328
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:34:12 2020 +0200

    jp2_dec: add missing OOM check

M	src/libjasper/jp2/jp2_dec.c

commit 8c42f5edb42fd785cf19f04a1d3979cec72e17a3
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:32:46 2020 +0200

    jp2_enc: add missing OOM check

M	src/libjasper/jp2/jp2_enc.c

commit 60c3c0602070b36cd6fc3c5f6a6d5aa2ae860a14
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:31:55 2020 +0200

    jpc_cs: add missing jpc_putuint8() error check

M	src/libjasper/jpc/jpc_cs.c

commit 88a4f02f5b7e5233b3c474669e8e49d46f36994a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:27:53 2020 +0200

    jas_seq: allow jas_matrix_bindsub() to fail

    Better than crashing.

M	src/libjasper/base/jas_seq.c
M	src/libjasper/include/jasper/jas_seq.h

commit 8c4e99592e7da53a9de2934bc7781535d0e0595d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:19:33 2020 +0200

    jpc_cs: validate the component bit depth

    According to the specification A.5.1 Table A-11, the component bit
    depth can be at most 38.

    Fixes CVE-2017-5499 (integer overflow)

    Closes https://github.com/jasper-maint/jasper/issues/2
    Closes https://github.com/mdadams/jasper/issues/63

M	src/libjasper/jpc/jpc_cs.c

commit 5e6c97cb7297d1a50448b128d6095a2d63e6fa7c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 18:41:52 2020 +0200

    jas_image: check numcmtps_ in jas_image_chclrspc()

    PoC file is a MIF image with no components, which causes a NULL
    pointer dereference or heap buffer overflow when reading informationa
    about the first component.

    Fixes CVE-2017-14132

    Closes https://github.com/jasper-maint/jasper/issues/17

M	src/libjasper/base/jas_image.c

commit c6f9fb6ec7fc97a5c4213f9077faf8622685d160
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:39:34 2020 +0200

    jpc_t2dec: work around CVE-2016-9398 by limiting cblk->firstpassno

    This replaces my commit 910c351ff5a80a373c5f0ec19f012e8d52b8b4c9 which
    was reverted by fc03b57384225055847ec92659e50f95d9ea63f2

    Closes https://github.com/jasper-maint/jasper/issues/10

M	src/libjasper/jpc/jpc_t2dec.c

commit aa8516b28344aa1263ee538bb7366c4679a0e1a5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:41:24 2020 +0200

    jpc_t2dec: fix various memory leaks in jpc_dec_decodepkt()

    Fixes CVE-2018-20622

    Closes https://github.com/jasper-maint/jasper/issues/12
    Closes https://github.com/mdadams/jasper/issues/193

M	src/libjasper/jpc/jpc_t2dec.c

commit 03db7c81f6a8a92d896249bc673877749987fd7a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:26:10 2020 +0200

    jp2_enc: check number of components before dereferencing them

    Fixes CVE-2018-20570

    Closes https://github.com/jasper-maint/jasper/issues/11
    Closes https://github.com/mdadams/jasper/issues/191

M	src/libjasper/jp2/jp2_enc.c

commit 839b1bcf0450ff036c28e8db40a7abf886e02891
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:21:46 2020 +0200

    jp2_dec: fix `numchans` mixup

    When iterating over `dec->cdef->data.cdef.ents`, we need to use its
    `numchans` variable, not the one in `jp2_dec_t`.

    Fixes CVE-2018-19543
    Fixes CVE-2017-9782

    Closes https://github.com/jasper-maint/jasper/issues/13
    Closes https://github.com/jasper-maint/jasper/issues/18
    Closes https://github.com/mdadams/jasper/issues/140
    Closes https://github.com/mdadams/jasper/issues/182

M	src/libjasper/jp2/jp2_dec.c

commit 24453e7b0e619a65181f9a1001f64b5da4c1c993
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:12:51 2020 +0200

    jpc_dec: call jpc_ppxstab_destroy() in jpc_dec_destroy()

    Fixes memory leak when the decoder finishes (or fails) but no "SOT"
    segment has been processed.

M	src/libjasper/jpc/jpc_dec.c

commit 708871879b86443c28bcb5505d3fd04e8384f8aa
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 21:09:02 2020 +0200

    jpc_cs: register jpc_unk_destroyparms() in all unknown segments

    Fixes CVE-2018-19139 (memory leak)

    Closes https://github.com/jasper-maint/jasper/issues/14

M	src/libjasper/jpc/jpc_cs.c

commit 6cd1e1d8aff56d0d86d4e7d1e7e3e4dd1c64b55d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 19:01:35 2020 +0200

    jpc_enc: jpc_abstorelstepsize() returns error instead of aborting

    Fixes CVE-2018-9252

    Closes https://github.com/jasper-maint/jasper/issues/16

M	src/libjasper/jpc/jpc_enc.c

commit e2f2e5f4022baef2386eec25c57b63debfe4cb20
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 22:03:05 2020 +0200

    jas_seq: check bounds in jas_seq2d_bindsub()

    Fixes CVE-2017-5503, CVE-2017-5504, CVE-2017-5505,

    Closes https://github.com/jasper-maint/jasper/issues/3
    Closes https://github.com/jasper-maint/jasper/issues/4
    Closes https://github.com/jasper-maint/jasper/issues/5
    Closes https://github.com/mdadams/jasper/issues/88
    Closes https://github.com/mdadams/jasper/issues/89
    Closes https://github.com/mdadams/jasper/issues/90

M	src/libjasper/base/jas_seq.c
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c

commit a97c7844b3eb526358d4e32f990fa453380e4356
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 13:01:22 2020 +0200

    pgx_enc: fix pgx_inttoword() parameter type

M	src/libjasper/pgx/pgx_enc.c

commit a35e91140c3f051dc6245d07cb007cd48711e688
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 14:39:58 2020 +0200

    jas_util: make parameter `const`

M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/jpc/jpc_util.h

commit 8df377a6e9f1b09d75fbdea303024fa878cff101
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 24 14:39:13 2020 +0200

    jas_image: make parameters `const`

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h

commit 60e2a1d5ecba49085c1d2e56b1a3f9233bcc11ee
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 12:25:40 2020 +0200

    jas_seq: multiply numrows*numcols before allocating memory

    Validate all parameter before bothering to allocate memory.  That way,
    we can eliminate yet another `goto`.

M	src/libjasper/base/jas_seq.c

commit 5dfb6c1caa97f3348752d16da93082267e26a3b1
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 12:18:32 2020 +0200

    jas_seq: simplify error handlers

    `return NULL` instead of `goto error` when no allocation needs to be
    freed.

M	src/libjasper/base/jas_seq.c

commit a6c219d4c3d90f2a870c7b1bd037ddbd085df75c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 12:18:46 2020 +0200

    jas_seq: remove unnecessary NULL checks from jas_matrix_destroy()

    Calling `jas_free(NULL)` is legal.	And it's pointless to clear the
    pointers in an object that will be freed - the compiler is allowed to
    optimize that code away.

M	src/libjasper/base/jas_seq.c

commit 8e2102fc46ad0424ca6dc158def3f36d4edb8fb0
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Tue Jun 23 13:10:41 2020 +0200

    jpc_enc, jpc_qmfb: make internal functions static

M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_qmfb.c

commit c4d3456d4e3f071ab7b3323422282e880a6b10ca
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Oct 7 17:05:34 2017 +0200

    jpc_dec: fix tile memory leak after decoder failure

    The function jpc_dec_tilefini() is only called for tiles which have
    completed successfully.  If there is one decoder error, all unfinished
    tiles leak lots of memory.

    This change adds jpc_dec_tilefini() calls to jpc_dec_destroy() for
    each tile which is not marked "done" (state!=JPC_TILE_DONE).  This
    however crashes when the tile initialization loop in
    jpc_dec_process_siz() fails, because the rest of the array has not yet
    been initialized; to work around this, I added a loop which
    initializes all states with JPC_TILE_DONE before doing the real
    initialization.

    Fixes CVE-2017-13748

    Closes https://github.com/mdadams/jasper/issues/168

M	src/libjasper/jpc/jpc_dec.c

commit 51f48db48ba795d2162c64b6f9fdbdb762a7acf6
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 16:34:16 2020 +0200

    include cleanup: move libjasper includes to top

    To validate the correctness of header includes, include a source's own
    header first.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_init.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/base/jas_tvp.c
M	src/libjasper/bmp/bmp_cod.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_math.c
M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_mct.h
M	src/libjasper/jpc/jpc_mqcod.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1cod.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/jpc/jpc_util.h
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_dummy.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/jpg/jpg_val.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_cod.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_cod.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit 9e678d867470ec5f846510bb0367c4b76222131a
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:06:42 2020 +0200

    jp2_cod: fix broken prototype

M	src/libjasper/jp2/jp2_cod.c

commit 4c3189b1cbe9edec5362148e7cc5ffc25f684b69
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:03:55 2020 +0200

    jas_image: remove unused variables

M	src/libjasper/base/jas_image.c

commit d1e29fa6e9d5cb2bcd95031b6b8ba31e00ae3722
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 18:03:25 2020 +0200

    jas_image: remove redundant prototype

M	src/libjasper/base/jas_image.c

commit f1f4203ff23c4516764025de2cb29492177f85c4
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:58:28 2020 +0200

    appl/jasper: remove unused typedef

M	src/appl/jasper.c

commit ee4c3cf6fa65c9a0b762509fd7093b87c5d10049
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:56:49 2020 +0200

    appl/jasper: add `const`

M	src/appl/jasper.c

commit fc1c5ad225c22e1e3b8da9e3db468bb41ae5e688
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:54:17 2020 +0200

    appl/jiv: remove unused variables

M	src/appl/jiv.c

commit 687b31605f2acbc10b5d7af2511c803cf7b24727
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:53:34 2020 +0200

    appl/jiv: add `const`

M	src/appl/jiv.c

commit 6a4b64d978ed62b46da83e5ddcee79eeb61ef426
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:51:06 2020 +0200

    jas_getopt: add `const`

M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/include/jasper/jas_getopt.h

commit 5b35d906c7b796432d09d2e032fdfea415fc56e8
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:49:00 2020 +0200

    jas_image: add `const`

M	src/appl/jasper.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h

commit 2f17a1e8f624db99ee857c6d1f4b2da6c3ab4c43
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:47:39 2020 +0200

    jpc_t1enc: remove unused parameters

M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t1enc.h

commit e31965a2a86a75dc83cebeb9de6e7d9c14985e27
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:44:21 2020 +0200

    jpc_qmfb: remove unused functions

M	src/libjasper/jpc/jpc_qmfb.c

commit 025ccaafbb63103f3753ebce1dfedffe4ca94278
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:42:53 2020 +0200

    jpc_enc: remove unused functions

M	src/libjasper/jpc/jpc_enc.c

commit d35431ee2fb88d9a6163f479383bcfd892df8431
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:42:47 2020 +0200

    jpc_enc: remove unused parameters

M	src/libjasper/jpc/jpc_enc.c

commit e3302af7802a175a83858ff16ec1311ba3466d60
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:41:41 2020 +0200

    jpc_t1dec: move variable `v` where it is used to work around -Wshadow

M	src/libjasper/jpc/jpc_t1dec.c

commit 12161f6d3d1fd1ca1211e27e6835115a45afd03c
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:29:56 2020 +0200

    jpc_dec: remove unused function jpc_streamlist_get()

M	src/libjasper/jpc/jpc_dec.c

commit 88c963bc7728a7b8a2058a900d266d43a22072ac
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:29:25 2020 +0200

    jp2_cod: make jp2_box_create0() static

M	src/libjasper/jp2/jp2_cod.c

commit 43dfccde9cc7e90e0fd42c1ca59770daf29cf523
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:18:23 2020 +0200

    jas_stream: make all jas_stream_ops_t pointers const

M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_stream.h

commit b787db2f9e57db2d9884cbc2c9725e399f221398
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:09:38 2020 +0200

    jas_seq: remove unused functions jas_seq2d_{in,out}put()

M	src/libjasper/base/jas_seq.c

commit cc83fd7ec253c179a43fbf3267e603df878de461
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 17:07:44 2020 +0200

    jas_image: remove unused variables

M	src/libjasper/base/jas_image.c

commit 85aee787045ac7eed6732b3c3fb410c29863c33e
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 16:36:22 2020 +0200

    jas_iccdata: make arrays `const`

M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/include/jasper/jas_icc.h

commit bc12db0a43b4c95fe3c20f82ab3120a4749ded19
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 16:53:33 2020 +0200

    jas_icc: pass const buffer to jas_iccprof_createfrombuf()

M	src/libjasper/base/jas_icc.c
M	src/libjasper/include/jasper/jas_icc.h

commit 329145f74f3a3692edf49990c76af00c6c9981df
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Jun 19 16:56:14 2020 +0200

    jas_tvp: add `const`

M	src/libjasper/base/jas_tvp.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c

commit e6c8d5a838b49f94616be14753aa5c89d64605b5
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Thu Jun 18 19:13:51 2020 +0200

    jpc_math: split jpc_firstone() in int/jpc_fix_t overloads

    Fixes CVE-2018-9055 (denial of service via a reachable assertion due
    to integer overflow).

    Based on a patch from Fridrich Strba <fstrba@suse.com>.  Instead of
    switching to `int_fast32_t`, this patch splits jpc_firstone() into two
    overloads, one for `int` and one for `jpc_fix_t`.  This is safer
    against future changes on `jpc_fix_t`.  To avoid the overhead of 64
    bit integer math on 32 bit CPUs, this leaves the `int` overload
    around.

    Closes https://github.com/jasper-maint/jasper/issues/9

M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_math.c
M	src/libjasper/jpc/jpc_math.h
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t2enc.c

commit 0fac0048c5c2fcf7ced06a72334d73ffd411ca9d
Author: Markus Koschany <apo@debian.org>
Date:	Fri Mar 15 11:01:02 2019 +0100

    Make sure asclen is at least 1

    If txtdesc->asclen is < 1, the array index of txtdesc->ascdata will
    be negative which causes the heap based overflow.

    Regards CVE-2018-19540.
    Regards https://github.com/mdadams/jasper/issues/182 bug#3
    Fix by Markus Koschany <apo@debian.org>.
    From https://gist.github.com/apoleon/13598a45bf6522f6a79b77a629205823
    Location adapted.

    See: https://github.com/mdadams/jasper/pull/198
    Fix https://github.com/jasper-maint/jasper/issues/22

M	src/libjasper/base/jas_icc.c

commit 84d00fb29a22e360c2ff91bdc2cd81c288826bfc
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Oct 7 10:59:54 2017 +0200

    jpc_dec: check for JPC_QCX_EXPN() parameter overflow

    Avoid the assertion failure in the JPC_QCX_EXPN() function.  While the
    "expn" variable cannot be bigger than 0x1f, adding something to it may
    exceed that limit.

    This condition could be exploited with a malicious JP2 file, allowing
    a denial of service attack on processes which parse JP2 files.

    Fixes CVE-2016-9399 and CVE-2017-13751

    Closes https://github.com/jasper-maint/jasper/issues/1

M	src/libjasper/jpc/jpc_dec.c

commit 2549a5514f097a23456206d6339d01aa1a6a80bf
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Oct 7 10:59:21 2017 +0200

    jpc_dec: simplify formula in calcstepsizes()

    Much of the formula is bloated and superfluous.

M	src/libjasper/jpc/jpc_dec.c

commit d9dbe898ae1eb3ac7b196cad1d1caa75e19c56ba
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Oct 7 10:59:09 2017 +0200

    jpc_dec: add return value to calcstepsizes()

M	src/libjasper/jpc/jpc_dec.c

commit 185d727df30d4f85773a94ed864ec2163158d673
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Sat Oct 7 10:58:49 2017 +0200

    jpc_dec: obey the jpc_dec_cp_prepare() return value

M	src/libjasper/jpc/jpc_dec.c

commit 6c870d2a0cbff8443a91187ffbb0e26b72db5117
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Oct 2 11:01:58 2017 +0200

    jas_math: add missing limits.h include

M	src/libjasper/include/jasper/jas_math.h

commit 640eeb2e293bebf313fd3ffe1f8d6a93c9f51718
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Mon Oct 2 11:00:26 2017 +0200

    jpc_t1cod: include cleanup

M	src/libjasper/jpc/jpc_t1cod.h

commit bb92906bbda37e14a5c23e8998c6da3631ccd3a7
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Sep 22 22:43:14 2017 +0200

    jas_seq.h: include cleanup

M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_fix.h
M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c

commit 76ff0a67a4472fafee205daa5e9a31c17d6ae34a
Author: Max Kellermann <max@duempel.org>
Date:	Thu Sep 3 08:44:42 2015 +0200

    add missing include

M	src/libjasper/jpc/jpc_util.h

commit a9b9b727bc9060a341010f07687268114b6855fe
Author: Max Kellermann <max@duempel.org>
Date:	Wed Aug 19 12:16:14 2015 +0200

    jas_seq: use memset()

M	src/libjasper/base/jas_seq.c

commit b9b9b4f8b599e72a27fa746f6a80ae65ac835ab9
Author: Max Kellermann <max@duempel.org>
Date:	Thu Jun 17 08:10:49 2010 +0200

    make local functions static

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t1cod.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h

commit 67e3b810f37fdacb804e57f09dcb9f7539dfd02e
Author: Max Kellermann <max@duempel.org>
Date:	Wed Aug 19 16:05:46 2015 +0200

    jp2_cod: remove redundant prototype

M	src/libjasper/jp2/jp2_cod.c

commit 519beb2fe41ee71b7109d0e76d43c0707c29f54e
Author: Max Kellermann <max@duempel.org>
Date:	Mon Oct 2 11:07:04 2017 +0200

    make various arrays and pointer arguments const

M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_tvp.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_cod.h
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_bs.h
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_qmfb.h
M	src/libjasper/jpc/jpc_tsfb.h
M	src/libjasper/jpg/jpg_enc.c

commit f3d407565f8dc3323203f860b29e04378d0e8150
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 17 13:21:24 2020 +0200

    jpg_dec.c: suppress -Wtautological-constant-out-of-range-compare

M	src/libjasper/jpg/jpg_dec.c

commit 681296e82c8cc68b41b9764b886cdf1edb70844d
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Wed Jun 17 13:17:18 2020 +0200

    jas_math.h: suppress -Wshift-negative-value in assertions

M	src/libjasper/include/jasper/jas_math.h

commit 27d5a884598e909b6e88ee8bf0c5db300a418adb
Author: Adam Majer <adam.majer@suse.de>
Date:	Mon Nov 4 18:17:44 2019 +0100

    Verify range data in jp2_pclr_getdata

    This fixes CVE-2018-19541.
    We need to verify the data is in the expected range. Otherwise we get
    problems later.

    This is a better fix for https://github.com/mdadams/jasper/pull/199
    which caused segfaults under certain circumstances.

    See: https://github.com/mdadams/jasper/pull/211
    Fix https://github.com/jasper-maint/jasper/issues/6

M	src/libjasper/jp2/jp2_cod.c

commit fcbabdaaba217124c92dc29472596146756b968e
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Mar 17 13:32:11 2020 +0100

    Use return in jpc_dec_process_sot() instead of abort

    We don't need to and should not abort here.

    Fix CVE-2018-9154.
    Fix https://github.com/mdadams/jasper/issues/215
    Fix https://github.com/mdadams/jasper/issues/166
    Fix https://github.com/mdadams/jasper/issues/175

    See: https://github.com/mdadams/jasper/pull/216
    Fix https://github.com/jasper-maint/jasper/issues/8

M	src/libjasper/jpc/jpc_dec.c

commit cbcaf65cc667fb23d65a22526b7a42a4761303eb
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Wed Jun 17 14:42:59 2020 +0200

    Add fork info to README

M	README

commit 0baeff479adf04ffb38b1f114e7df2992e353c75
Author: SpaceIm <30052553+SpaceIm@users.noreply.github.com>
Date:	Tue Jun 2 21:10:10 2020 +0200

    fix exported symbols

M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h

commit 3a9319cab7898ef06aa27f14ecb1102fabb1dab5
Author: John Hein <dkeabg7vp4@snkmail.com>
Date:	Fri Mar 6 11:05:06 2020 -0700

    Add -I<include_dir> to support users that use #include
    <jasper/jasper.h>

    For example, GEGL (gegl.org) uses that style of include.

M	build/jasper.pc.in

commit 9aef6d91a82a8a6aecb575cbee57f74470603cc2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 12 11:04:35 2019 -0700

    Bump the version number.

M	CMakeLists.txt

commit eb6a004719bd1555b9f618851bc00e8f76271588
Merge: 573a6e4 243749e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Mar 12 10:38:03 2019 -0700

    Merge branch 'jubalh-CVE-2018-19539'

commit 243749e5a6384acdb9f0a59515c0b85dfd62bd5b
Author: Michael Vetter <jubalh@iodoru.org>
Date:	Tue Mar 12 17:40:11 2019 +0100

    Check data in jas_image

    Regarding CVE-2018-19539.
    Fix by Markus Koschany <apo@debian.org>.
    From https://gist.github.com/apoleon/7c0f3a0c28437c18fee8a51b1aa16164.

M	src/libjasper/base/jas_image.c

commit 573a6e47d45c9166331c115e78be962061c00bca
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jun 14 08:28:21 2018 -0700

    Added missing dereference operators.

M	src/libjasper/jpc/jpc_util.c

commit 771c6c0ba50574da20472792a71198c2ebedd287
Merge: e8369be cfb880f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 10:38:46 2017 -0800

    Merge branch 'Mixaill-uwp'

commit cfb880f30bdd3ff45b477f6d97a422af8635dd40
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 10:37:40 2017 -0800

    Made minor editorial changes to one of the CMakeLists.txt files.

M	src/libjasper/CMakeLists.txt

commit 72c4c609bd0340174611ad2eab1626e483beebed
Merge: e8369be bad3346
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 10:34:21 2017 -0800

    Merge branch 'uwp' of https://github.com/Mixaill/jasper into
    Mixaill-uwp

commit e8369be3348c56fa931613c5a70a3492042e52a4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 10:24:05 2017 -0800

    Added a fix from nrusch to allow JasPer to be build with CMake 2.x
    as well as CMake 3.x.

M	CMakeLists.txt

commit 496f739953a4d4d36a61d56eb1ff2f798dc5adab
Merge: ed87dfc fc03b57
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 09:58:50 2017 -0800

    Merge branch 'MaxKellermann-crash_bugfixes'
    A partial merge of changes from MaxKellermann.

commit fc03b57384225055847ec92659e50f95d9ea63f2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 09:54:57 2017 -0800

    Back out change to jpc_t1cod.c since it only masks an existing bug but
    does not actually fix it.

M	src/libjasper/jpc/jpc_t1cod.c

commit a5a64c3a42216a967ac005fb4c5212ccca83782d
Merge: ed87dfc 910c351
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 9 09:31:34 2017 -0800

    Merge branch 'crash_bugfixes' of
    https://github.com/MaxKellermann/jasper into
    MaxKellermann-crash_bugfixes

commit ed87dfc19429defcf1b628665e72d68aac0b283a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 17 10:16:26 2017 -0800

    Clarified how SOURCE_DIR should be set during installation.

M	INSTALL

commit bad33461a302ed8db02e0d9875e7b59b9e8f6032
Author: Mikhail Paulyshka <me@mixaill.tk>
Date:	Tue Nov 7 20:10:31 2017 +0300

    Fixed build for Windows 10 UWP

M	src/libjasper/CMakeLists.txt

commit 910c351ff5a80a373c5f0ec19f012e8d52b8b4c9
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Oct 6 19:15:47 2017 +0200

    jpc_t1cod: check whether passno is in range

    This works around an assertion failure in jpc_floorlog2() which can be
    provoked with a crafted JP2 file.

    This check probably belongs somewhere else, but I don't understand the
    code well enough.

    Closes #71

M	src/libjasper/jpc/jpc_t1cod.c

commit a10536d5f7f3164b0a1f1ae3e533f4a12ca6f543
Author: Max Kellermann <max.kellermann@gmail.com>
Date:	Fri Oct 6 19:15:22 2017 +0200

    jpc_cs: reject all but JPC_COX_INS and JPC_COX_RFT

    Fixes assertion failure JPC_NOMINALGAIN() which can be caused by a
    crafted JP2 file.

    Closes #50, #142

M	src/libjasper/jpc/jpc_cs.c

commit 1a36ca39da535af2e67848f5f43ffd657746e632
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Sep 14 16:15:29 2017 -0700

    Bumped the version number.

M	CMakeLists.txt

commit 806750f9e6b72b10dc52a8c0521892732ee3e6a9
Merge: 769cd48 89e06a7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 1 10:20:41 2017 -0700

    Merge branch 'tonytheodore-disable-progs'

commit 89e06a74835b23403f4f64fb9b23a0f9ea5bd9ef
Merge: 769cd48 e02518c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 1 10:19:35 2017 -0700

    Merge branch 'disable-progs' of https://github.com/tonytheodore/jasper
    into tonytheodore-disable-progs

commit 769cd48e3dd96c3cac060c4d707ac7090dd13ab7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Aug 1 10:08:13 2017 -0700

    In the JPC codec, the requirement that the number of tile parts be at
    least one has been removed (since the JPEG-2000 standard allows
    a special
    value of zero to mean the number of tile parts is unspecified).

M	src/libjasper/jpc/jpc_cs.c

commit e02518ce7161cd37ded64af78ac520e0424a9b12
Author: Tony Theodore <tonyt@logyst.com>
Date:	Thu Jul 20 12:28:06 2017 +1000

    add option to disable programs

M	CMakeLists.txt

commit acf7e61726152dc68577b9479d1220c106d1948a
Merge: 1cce277 930fe59
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Jul 13 14:18:23 2017 -0700

    Merge branch 'fornwall-include-jas-debug-h'

commit 930fe59cdcf9fc101968232e7d64797c7abf2b88
Author: Fredrik Fornwall <fredrik@fornwall.net>
Date:	Fri Jul 7 09:05:01 2017 +0200

    Include jasper/jas_debug.h when using jas_eprintf

    Fixes building with -Werror=implicit-function-declaration.

M	src/libjasper/jp2/jp2_enc.c

commit 1cce277a2ae8033f37a4c8d8ee982eebde1d9543
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon May 22 08:13:36 2017 -0700

    In the installation instructions:
	Added information on the CMake option JAS_ENABLE_DOC.
	Replaced a few tabs by spaces.

M	INSTALL

commit a0ab51fcfa0d933e909b39866bed3ce2b77255b2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu May 18 17:21:50 2017 -0700

    Applied patches to resolve some missing export problems.
    See:
	https://github.com/mdadams/jasper/issues/122

M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_malloc.h

commit 00b2aa01296a598775c56f72010a3362d6ddfb09
Merge: 41f5a65 d2e7eec
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu May 18 17:08:54 2017 -0700

    Merge branch 'dlemstra-vs2012'

commit d2e7eecb731d481fe5cdd401b4d31b4235ba4991
Author: Dirk Lemstra <dirk@git.imagemagick.org>
Date:	Sun Apr 30 10:50:20 2017 +0200

    Moved inttypes.h and stdbool.h includes to jas_types.h and fixed
    the build for Visual Studio 2012 and lower.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/pgx/pgx_cod.c

commit 41f5a654e0e3936639c38b120e1ada5e13fb6a7d
Merge: 3b5234e 5fabcdd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Apr 9 12:34:20 2017 -0700

    Merge branch 'thoger-jas-math-comment-fixes'

commit 5fabcdd60f73d06555be5b603725e1f211f2bf0b
Author: Tomas Hoger <thoger@redhat.com>
Date:	Wed Apr 5 11:24:17 2017 +0200

    Correct or add comments for jas_safe_* functions

    Mostly fixing bad copy-n-paste issues, or functions added without any
    comment.

M	src/libjasper/include/jasper/jas_math.h

commit 3b5234ec94d2c3c8397abf94ee6dc19e1090ebed
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Mar 6 08:25:34 2017 -0800

    Added some new regression test cases.

A	data/test/good/120-master1.mif
A	data/test/good/120-master2.mif
A	data/test/good/120-master3.mif
A	data/test/good/120-other.mif

commit 58ba0365d911b9f9dd68e9abf826682c0b4f2293
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Mar 6 08:06:54 2017 -0800

    Added a check in the JP2 encoder to ensure that the image to be coded
    has at least one component.
    Also, made some small changes to a private build script.

M	build/my_build
M	src/libjasper/jp2/jp2_enc.c

commit 51334caeec8c2a3851f11e50ee77d5987f2cd502
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 4 14:55:26 2017 -0800

    Added a new regression test case.

A	data/test/bad/00124-jasper-nullptr-jp2_cdef_destroy.jp2

commit e96fc4fdd525fa0ede28074a7e2b1caf94b58b0d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Mar 4 14:43:24 2017 -0800

    Fixed bugs due to uninitialized data in the JP2 decoder.
    Also, added some comments marking I/O stream interfaces that probably
    need to be changed (in the long term) to fix integer overflow
    problems.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/jp2/jp2_cod.c

commit 7692d6d1a0bfbd9a1d3f905337e3457cec39bced
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 2 10:00:04 2017 -0800

    Bumped the version number.

M	CMakeLists.txt

commit a712a2041085e7cd5f2b153e1532ac2a2954ffaa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 2 09:28:42 2017 -0800

    Added some additional checking to prevent a potential integer overflow
    due to conversion in the JPC decoder.

M	src/libjasper/jpc/jpc_dec.c

commit 593b199f49b4fd4ec2e2acc264d6cecd1dd6df8c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 2 09:13:10 2017 -0800

    Added numerous more-detailed error messages for the JPC and JP2
    codecs.
    Added a partial verbose capability for the run_test_1 script.
    Moved a test case from the bad category to the good category, as the
    test case had been miscategorized.

R100	data/test/bad/PoC1.jp2	data/test/good/105-PoC1.jp2
M	src/libjasper/base/jas_image.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_enc.c
M	test/bin/run_test_1

commit 08d737d7bd8a1bd9eaf1e878e8a4957adf3a444d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 2 08:13:48 2017 -0800

    Added another regression test case.

A	data/test/bad/PoC1.jp2

commit 03fe49ab96bf65fea784cdc256507ea88267fc7c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Mar 2 08:07:04 2017 -0800

    Fixed some potential double-free problems in the JPC codec.

M	src/libjasper/jpc/jpc_enc.c

commit b7f3fe43bbfcedba3654eacfeab35edb9bc6e946
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 14:14:04 2017 -0800

    Bumped the version number.

M	CMakeLists.txt

commit f69f1017a8af580f3e9af5ed3530be05ed4628e6
Merge: 474ee46 9c3538f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:40:24 2017 -0800

    Merge branch 'xantares-patch-2'

commit 9c3538f1105224a6d3ad16cc1122d4f28a37622f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:39:45 2017 -0800

    Made some minor editorial changes to the patch.

M	src/libjasper/CMakeLists.txt

commit 664987b4f85c4fd747418427f44f8b8a24010dbd
Merge: 474ee46 bdc314a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:27:11 2017 -0800

    Merge branch 'patch-2' of https://github.com/xantares/jasper into
    xantares-patch-2

commit 474ee466b6ffd55dedea20fc08805bf805e9f558
Merge: 28304d6 68742fa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:22:11 2017 -0800

    Merge branch 'xantares-patch-3'

commit 68742facdc6b48ddcd0dd83a004d176cb0520098
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:21:32 2017 -0800

    Made some minor editorial changes to the patch.

M	CMakeLists.txt

commit d65bb487adee82a3fe09ac881205d0480fc7cbbe
Merge: 28304d6 3070eb1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:18:34 2017 -0800

    Merge branch 'patch-3' of https://github.com/xantares/jasper into
    xantares-patch-3

commit 28304d6c40688350b49dd1ec5d99d43cd6114b2a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Feb 26 09:02:27 2017 -0800

    Made the change of the OUTPUT_NAME target property for the jasper
    library
    unconditional.  Previously, the change was only applied in the
    UNIX case.
    Apparently, the change is needed for Windows and probably other
    platforms
    as well.

M	src/libjasper/CMakeLists.txt

commit 3070eb1161837c42370c19c575a7e419343a92fb
Author: xantares <xantares09@hotmail.com>
Date:	Sun Feb 26 09:30:00 2017 +0100

    Add an option to disable doc

M	CMakeLists.txt

commit bdc314a8446ec83e05c8e17cbaf34863ee4e2617
Author: xantares <xantares09@hotmail.com>
Date:	Sun Feb 26 09:27:25 2017 +0100

    Fix library runtime destination

    On win32 the dll is to be installed in prefix/bin instead of
    prefix/lib

M	src/libjasper/CMakeLists.txt

commit 37bb73e5b077a26f06aeec2715e2e18ba05c4e76
Merge: 2ed8352 368856b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Feb 22 06:03:29 2017 -0800

    Merge branch 'SoapGentoo-pkgconfig-fixes'

commit 368856b1d188780ef2b69a1a7ec27f344fa0e834
Merge: 2ed8352 16cedf5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Feb 22 06:01:15 2017 -0800

    Merge branch 'pkgconfig-fixes' of https://github.com/SoapGentoo/jasper
    into SoapGentoo-pkgconfig-fixes

commit 2ed8352607eaadf36529799da6f94eb9cf7b9607
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Feb 22 05:57:18 2017 -0800

    Made a minor change to a build script.

M	build/my_build

commit 16cedf59f1e620ad03d97d863c5a208855ae4f72
Author: David Seifert <soap@gentoo.org>
Date:	Mon Feb 20 21:21:14 2017 +0100

    Use full CMake paths in pkg-config template

    Using full paths is more versatile. The current solution
    breaks when specifying an absolute path for CMAKE_INSTALL_INCLUDEDIR
    which is an otherwise supported option by CMake's GNUInstallDirs.
    CMake does not support Autoconf-style ${prefix}-pseudo variables,
    hence trying to emulate the behaviour gains us nothing and breaks
    providing absolute paths to CMAKE_INSTALL_LIBDIR.

M	build/jasper.pc.in

commit 4212e7e826e1f72c2f01391a80667c88fa2eb517
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Jan 15 05:30:31 2017 -0800

    Changed the project command to enable only the C language (instead
    of both
    C and C++), as suggested by Baruch Siach
    (https://github.com/baruchsiach).

M	CMakeLists.txt

commit 352d5ac77f910dfc7817f7373dfcf1ffa7d64926
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 08:40:24 2016 -0800

    Bumped the version number.

M	CMakeLists.txt

commit 8db5da03f89049551738578b0bcf43623d84df41
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 08:25:25 2016 -0800

    Added a new regression test case.

A	data/test/good/109-PoC.jp2
M	test/bin/run_test_1

commit 1a8d57d6f14d14936b5998d80272fd811749a56c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 07:38:46 2016 -0800

    Made some changes to a private build script.

M	build/my_build

commit a632c6b54bd4ffc3bebab420e00b7e7688aa3846
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 07:27:48 2016 -0800

    Fixed a problem in the JP2 encoder that caused a null pointer
    dereference
    when no ICC profile data is available (e.g., in the case of an
    unknown color space).
    Reference:
	https://github.com/mdadams/jasper/issues/109

M	src/libjasper/jp2/jp2_enc.c

commit 22a8d03983d569b43a45f16112018670f21c9bf5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 06:01:44 2016 -0800

    Remove JAS_RPM_RELEASE from CMakeLists.txt since it is no longer used.

M	CMakeLists.txt

commit f8555af8c2b0a13182e5e0e6339f967413544481
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 30 05:46:40 2016 -0800

    Fix a shared-library versioning problem for OSX.
    This particular fix was suggested by Joshua Root (of the MacPorts
    project).

M	CMakeLists.txt

commit 74f7ac288a771cb0856f70dd4743b9ed5e797a16
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 23 07:58:06 2016 -0800

    Added some comments about installation on Mac OSX.

M	INSTALL

commit e9085fd7372a21ff269e8f94614331362c449bf9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 22 09:34:24 2016 -0800

    Bumped the version number

M	CMakeLists.txt

commit e53bb602fbdf7670c43601dd668e96ec23db4c97
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 22 07:15:17 2016 -0800

    Modified a couple of CMakeLists.txt files to ensure that the JasPer
    include directories from the source and build trees are always
    included
    before any other directory that might contain the include directory
    for
    an already installed version of JasPer.

M	src/appl/CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit 0a7c257a9d091dface3af16f1cbdb421dd0819ac
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 11 20:02:50 2016 -0800

    Bumped the version number.

M	CMakeLists.txt

commit fea9060ea8617823caf478c1ce285c8caf8c031a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 11 19:57:41 2016 -0800

    Force assertions to always be enabled.

M	CMakeLists.txt
A	build/cmake/modules/EnableAssertions.cmake

commit dd2c555d85049d1b7e340231999c7dbc4d318f0a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 19:08:06 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit e05c85431647961dd262b71a4cca14499e771875
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 19:04:02 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 4dab3b3ee018b8ad7b5b59aa1c73c20b68f90a66
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:58:06 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit fbf05d216c65b48be40782b5523abdc17d9ef7b5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:55:34 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 6361b11c8c8a8607359cdec0371246c5b5de0848
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:45:43 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit b9cc99f65d5729c6a539c7e7b25914fbfc2119e3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:13:30 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit f4bd47b088c3498e69169f23fb1d840cb6837b1a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:11:50 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit f00ceb2605660570afa7bbabc4b193d0eb675c1e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 18:05:22 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit 27a089a7b4846cfb64cb9d16431b01b76fb1dfd0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 17:47:11 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 1b07a1def486f64277dac5d849416a3c51d8a3c1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 17:43:27 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 2f55facfb4896269f908a557cb8bc770c1f6009e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 12:44:48 2016 -0800

    Bump the version number.

M	CMakeLists.txt

commit 7854fcf3ff04dd84b113380c9d42be54a46ffe1d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 12:40:32 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 7051fd5e7d50fe20fd959ce24a83f5e2752441b0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 12:21:54 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt
M	test/bin/wrapper.in

commit 577513a1824f6c1cae4bfa54e68699228b323df5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 12:09:18 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt

commit b14b8c9e323f48d907a3ea2d39ab97cfcc6aec41
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:57:49 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt

commit 9176c8ec04121b6de664c339a41a4dbb684e2fdd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:47:29 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt

commit 926b47c449fcd638a12ddf78f31e033c59a7b8b5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:43:18 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 3e7d2b1520a8617c3f9464cb6ca6ff57a495a9a6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:39:07 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 08ab2127bbac93e4c80c578ffc3ec96cedd08d64
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:29:18 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt

commit 777fb3617fd5297d5a98227326778df57b695a7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 11:24:58 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit ed99d215194611fd66018fc0fc05a28580eb41d8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 10:47:36 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 4abf3210d303b7fba6b667433b09d2c4ac3e8e63
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 10:39:01 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 8b34ff2881b6241df02cfa0ee3970a0e50120b14
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 10:27:41 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt

commit c0f8cbd1e7bd6bc6df643cf73ce85b114e62e0d3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 10:21:28 2016 -0800

    More Travis CI experimentation.

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit f05d9ce40fc35c98e91cbabc393550ae7c3491f8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 10:13:13 2016 -0800

    More Travis CI experimentation.

M	build/travis/build
M	src/appl/CMakeLists.txt

commit 9c8c01135a8dec6645747bfd799de275f6f023ed
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 09:56:07 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit d68ab9f6ccda2d866db71a1ebd35c7973dabf038
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 09:33:24 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 3f7a9a5370f5af601d85db1e04a90e3329ebad5a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 09:21:15 2016 -0800

    More Travis CI experimentation.

M	build/travis/build
M	test/bin/wrapper.in

commit 017fab59e7bd5a7f6086351c49e1f78b39092f3c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:54:20 2016 -0800

    More Travis CI experimentation.

M	build/travis/build
M	test/bin/wrapper.in

commit d9f99cfa3234ed7b4be09339013505ce35db384c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:43:06 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 23ae5c5c0265b97489390a13546f9b27fde84717
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:39:16 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 190943a4003688f3eeb42168c7130678f34592df
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:36:37 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 78ccb3f20bc4d7f06802e5ffcc9ea8828a9d5d5d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:28:07 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 18bff058b822fd75fa66019352f7bf40f8ab1a96
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:15:47 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 30802d2aa49cfa78e4f34e4e8632e342e6559ee5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 08:04:22 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit ae6b7c95ea923f492e8a550e3cf302ffc7e0fb42
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:55:17 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit d93d0aa40289488ba0aaa0a42028c76d9e198b97
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:50:34 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 07801ce96e7068ba271dcbafbedf32a0b7d990d0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:41:17 2016 -0800

    More Travis CI experimentation.

M	build/travis/build

commit 4925767ff0b63facfa58a60f378fc494888aa620
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:23:40 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit 440ca83f915f5986e2890817d6cb3acc460ac697
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:12:54 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit 8ab0f091986d5842617818cd005f295ebaea6db6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:11:07 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit 7b41bdd08ed4bd510cb0d534fe52faa762ca65c7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:03:53 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit 3ff5a6ade9388e3b386129fdeba97dcce295b35f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 07:00:31 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit d3975300c4d21d15d23370a4a41843a62d627df3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 06:58:24 2016 -0800

    More Appveyor experimentation.

M	build/appveyor/build.bat

commit a1d31decafbfcc43f2d4020fc8a70021a41536e6
Merge: cd6cf88 297be66
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Dec 10 05:34:06 2016 -0800

    Merge branch 'SoapGentoo-pkg-config-fix'
    Tidy the pkgconfig file.

commit 297be66dc5544d27194e13c690d4091692791275
Author: David Seifert <soap@gentoo.org>
Date:	Sat Dec 10 13:04:42 2016 +0100

    Make .pc file more Autotools-idiomatic

M	build/jasper.pc.in

commit cd6cf88d176d180171834c1b3c6958928b7e9044
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 9 06:23:54 2016 -0800

    Made some improvements to the tarball creation script.

M	build/make_dist

commit be67b65abd0b4727b8b98cc12b59218561aefbba
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 9 06:03:04 2016 -0800

    Bumped the version number

M	CMakeLists.txt

commit db17951211b0a56359c37a53348ec81cd958cecf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 9 05:58:50 2016 -0800

    Made some further changes to a private build script.

M	build/my_build

commit 0e38d23e342ef2181fa4d7d56d9cc576cc3fbcdc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 9 05:57:36 2016 -0800

    Added two new regression test cases.

A	data/test/bad/heap-out-of-bound-read-due-to-off-by-1-poc.jp2
A	data/test/bad/null-pointer-dereference-poc.jp2

commit 99a50593254d1b53002719bbecfc946c84b23d27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 9 05:42:39 2016 -0800

    Apply a patch for the following bug report:
	https://github.com/mdadams/jasper/issues/103
	Heap-Buffer-Overflow or Null-pointer-dereference vulnerability due
	to a programming mistake (off-by-1)

M	src/libjasper/jpc/jpc_t2cod.c

commit 95a3cae1a3906b69ea3ee4205a0fa6b914a26f66
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 8 09:02:04 2016 -0800

    Removed the spec file, since it is apparently not needed.

M	CMakeLists.txt
D	build/jasper.spec.in

commit 31e11d695b50deee3043ca7132be19cb685590e5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 8 08:42:00 2016 -0800

    Made some changes to a private build script.

M	build/my_build

commit 8820f0020884ec56f1f751837b6d46be1968b056
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 8 08:41:16 2016 -0800

    Fix the pkgconfig file to use the correct library and include
    directories.

M	build/jasper.pc.in

commit 980197e5f27f832d7bf1d76584af8fe14868308f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 7 17:13:40 2016 -0800

    Changed the build process to use LaTeX (if available) to generate
    the PDF
    version of the manual.

M	CMakeLists.txt
M	doc/CMakeLists.txt

commit ec6c834748a639953a14a9ac79a1529edea1704f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 7 07:47:18 2016 -0800

    Bump the version number.

M	CMakeLists.txt

commit 637f1dee7b9c8a62727f8f976007c2b4a2f08d45
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 7 07:30:18 2016 -0800

    Prevent installation of HTML manual when Doxygen not available.

M	doc/CMakeLists.txt

commit fa4e675c0054c582270818fbde4454ba8f239e27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 7 07:23:31 2016 -0800

    Fixed a typo in one of the CMakeLists.txt files.

M	doc/CMakeLists.txt

commit 9bb8df72893445a0393a6d055e88f28c7ce311af
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Dec 7 07:12:53 2016 -0800

    Manually merged some changes from David Seifert for various
    CMakeLists.txt
    files.  These changes were taken from:

	https://github.com/mdadams/jasper/pull/101

    Made some additional changes to various CMakeLists.txt files mainly to
    allow the disabling of automagic dependencies.

M	CMakeLists.txt
M	doc/CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit 8056f66ef44189027f9ec76030c042ef2332f850
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 4 09:38:47 2016 -0800

    Bump the version number.

M	CMakeLists.txt

commit a85a1ce8426757e9f356469ce96ca6fd66d77417
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 4 07:48:17 2016 -0800

    Try a slightly different strategy for finding the math library if
    it is
    available.

M	CMakeLists.txt

commit 2bb792c4103752d6c2d7b1cd8aaf03c1f608e056
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Dec 4 07:41:55 2016 -0800

    Use find_library to find the math library instead of using a set
    command.

M	CMakeLists.txt

commit 9f3dc0797b4001af36aed401f33be9d5fb62a967
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 2 15:12:28 2016 -0800

    Made a few cosmetic changes to some CMakeLists.txt files.

M	CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit 959da533d51797b624d7923c306e4b9e79f820c6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 2 12:56:16 2016 -0800

    Bump the version number,

M	CMakeLists.txt

commit 1ec754661f7b7b3449b6413d9663753d41083216
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 2 08:30:09 2016 -0800

    More Travis CI changes.

M	build/travis/build

commit ab26f6fae85ee0f4b52dcd75d7430cf47187a27c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 2 03:04:20 2016 -0800

    Another attempt at having GLUT work more reliably with OSX.

M	CMakeLists.txt
M	src/appl/jiv.c
M	src/libjasper/include/jasper/jas_config.h.in

commit 3e987f36d67fce8a65567d19345bf4e662d39f13
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Dec 2 02:48:41 2016 -0800

    More CMake build changes.

M	CMakeLists.txt
M	build/cmake/modules/Sanitizers.cmake
M	build/my_build
M	build/travis/CMakeLists.txt
M	doc/CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit 4c06c6d67c1b7ccb09e575870b75ab2d95a7072f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 23:03:38 2016 -0800

    More changes to the CMake build.

M	CMakeLists.txt
M	build/travis/CMakeLists.txt
M	build/travis/prebuild

commit 1f31f7768be468814d07dfe87d475f3e88ec6696
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 17:34:48 2016 -0800

    More Travis CI changes.

M	build/travis/prebuild

commit 14cc3aa91bd86ba5d349cb5032191f92f4e7045a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 08:37:38 2016 -0800

    Back out the changes for OSX that break the Travis CI testing.

M	CMakeLists.txt

commit a2966a9e092937876543f57a38d0debc2f20fc99
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 08:34:45 2016 -0800

    Fixed some problems in the test scripts.
    Some tests were being run that should not have been.
    Also, test failures were not always being reported correctly.

M	test/bin/codec_tests
M	test/bin/run_codec_test
M	test/bin/run_test_3

commit 270217d2f4890d548531accf5da7ba8c15a91f23
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 07:07:16 2016 -0800

    The wrapper test script is now generated by cmake.
    Also, disabled the broken glut.h handling for OSX in jiv.c.

M	CMakeLists.txt
M	build/my_build
M	src/appl/jiv.c
M	test/bin/run_codec_test
M	test/bin/run_test_3
R072	test/bin/wrapper	test/bin/wrapper.in

commit 4e911af31d74b08a3d3855837282c4e870efe297
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 06:03:34 2016 -0800

    Changed the test for OSX in jiv.c, which was incorrect.

M	src/appl/jiv.c

commit cf90616e29998f5345b78f770f05c03b25877d8f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Dec 1 05:35:06 2016 -0800

    Removed the explicit check for the header file GL/glut.h during
    the build process.	Apparently, this will not work correctly
    under OSX, since (under OSX) the header file glut.h may be in
    the top-level include directory rather than the GL subdirectory.
    Also, changed the source code to handle the inclusion of glut.h
    differently in the OSX case.

M	CMakeLists.txt
M	build/my_build
M	src/appl/jiv.c

commit 75eca9a2449ecedebb5b17ae7321d467434be633
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 19:04:07 2016 -0800

    Bump the version number.

M	CMakeLists.txt

commit f40d301c8947546c147d5349a9800ad828ecff58
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 18:52:04 2016 -0800

    More CMake build changes.

M	CMakeLists.txt

commit c1667420cac1df09b857d38bc047879ce6d607b7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 18:47:22 2016 -0800

    More CMake build changes.

M	CMakeLists.txt

commit 000b3a7a38074336a7598a41a4dd58824f5fb0c7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 18:40:42 2016 -0800

    More Travis CI changes.

M	build/travis/prebuild

commit d05e7096363eebf115ceb4c92f9826667c2b19c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 18:29:29 2016 -0800

    Added an attempted workaround for what appears to be a CMake bug
    (related to
    detecting GLUT).

M	CMakeLists.txt

commit f82d1f17e0fd3b0038d88bfacf9888ce23c25d93
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 18:04:17 2016 -0800

    Let's try this one more time...

M	build/travis/CMakeLists.txt

commit f5d42c5cf3ed29003de945da41e1c8483b76b0db
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 17:58:04 2016 -0800

    I will get this right yet. ;)

M	CMakeLists.txt
M	build/travis/CMakeLists.txt

commit 354076bc97bfc1eea8794a481842c37284a816e4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 17:53:15 2016 -0800

    Include a missing CMake module.

M	build/travis/CMakeLists.txt

commit 6d57d5b98cf1b7f58021ad737f9efff3fa1cc3ac
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 17:47:58 2016 -0800

    Fix the problem with the jpeglib.h include file not being detected
    in some cases.

M	CMakeLists.txt
M	build/my_build
M	build/travis/CMakeLists.txt

commit 02395963abab0dfc2d76fe6bf27b1ac1f8fc7dfc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 17:06:08 2016 -0800

    More CMake build changes.

M	build/travis/CMakeLists.txt

commit 0e4df4ae1b9d4f53924e2ff955711655b05221df
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 17:02:57 2016 -0800

    More CMake build changes.

M	CMakeLists.txt
M	build/travis/CMakeLists.txt

commit 41a80de01898f9a0273f16be59a2421bd6b29bf9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:58:42 2016 -0800

    More CMake build changes.

M	CMakeLists.txt
M	build/travis/CMakeLists.txt

commit 7a181a7f42c03d8b34146b9e8bb1a6c4ed070cce
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:41:12 2016 -0800

    More CMake build changes

M	build/travis/CMakeLists.txt

commit c1d1200d60bb7119d3f3fc7e1da15eaccebcb7b4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:36:24 2016 -0800

    More CMake build changes.

M	build/travis/CMakeLists.txt

commit dc0414349fdb47a92e0e47337b265265f7194e28
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:31:20 2016 -0800

    More changes for Cmake builds.

M	CMakeLists.txt
M	build/travis/CMakeLists.txt

commit a0a3d1401bc4e7b434ba097319a710f85941aa4d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:15:56 2016 -0800

    More Travis CI changes

M	.travis.yml
M	build/travis/prebuild

commit 0f8f8a02fc34ad3197f0238ed7f2a93f1d16589d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 16:08:50 2016 -0800

    Some build changes for GLUT

M	CMakeLists.txt

commit 71c8ae88d4b1208436d879779508da849c4d13ab
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 15:51:20 2016 -0800

    Some Travis CI changes

M	.travis.yml

commit 9b6c633fca99c874f725ae1e3b3ff30f145d4d24
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 15:46:56 2016 -0800

    Some Travis CI changes

M	build/travis/build

commit ea0cbf178c831b1f934bdf6b5314faee18f7598d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 15:40:34 2016 -0800

    More Travis CI changes.

M	.travis.yml
A	build/travis/prebuild

commit 88ce9eed2f51fcd2972995d5e055febf85dde58b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 14:14:14 2016 -0800

    Add a CMAKE_INSTALL_LIBDIR variable to accommodate different names for
    the library directory (e.g., lib or lib64).
    Change the installation directory for man pages to share/man/man1
    (from man).

M	CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit ef5c7bc0f4ad9a88a55d559dd4c72bb7b797fb7c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 12:14:02 2016 -0800

    Some Travis CI changes

M	build/travis/build

commit c5e6973caffdadd3fc17a444edfd085563be9dd0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 12:06:00 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit 0ae30c956776e23d28862fb2724aedba92857410
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 12:04:20 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit 187ee549540b9cb55b7f22dbaac9dd33ed7613eb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:59:01 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit ac385dbce2083ff847cdfa927120a6cfe4c4a947
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:57:03 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit 05530df3926eb8fcbce0c961414265d44c76adbf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:54:04 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit 5e7e22ab0ada58389efcb2b1b5a54f0384e02653
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:49:59 2016 -0800

    Some Travis CI changes

M	build/travis/CMakeLists.txt

commit f10eac7a54055b9b7471145cffb85824d94016c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:48:23 2016 -0800

    Some Travis CI changes

M	build/travis/build

commit 039ddf76657bdd62d44f46653ebdd44f7f1dcbc4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:44:49 2016 -0800

    Some Travis CI changes

M	build/travis/build

commit 4fc85f01333aef1d94a96f75beba67d0b6226f8f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 11:42:19 2016 -0800

    Some Travis CI changes.

A	build/travis/CMakeLists.txt
M	build/travis/build

commit 8bdcbe042cc722f19a71a12010e1efadacc690a8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 09:50:06 2016 -0800

    Added jas_dll.h to the list of header files in
    src/libjasper/CMakeLists.txt.

M	src/libjasper/CMakeLists.txt

commit 2e27248f9dab59b8be2dd20f5cc2e402b0e5c1a6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 30 06:14:55 2016 -0800

    A find of the package OpenGL has been added to the top-level
    CMakeLists.txt
    file and the other CMakeLists.txt files have been updated accordingly.

M	CMakeLists.txt
M	build/my_build
M	src/appl/CMakeLists.txt

commit 3754abcbe79fafc56f8fe7e349c2e3baf69ef540
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 11:54:53 2016 -0800

    Add the math library for linking to see if this fixes a problem
    on Gentoo Linux.

M	src/libjasper/CMakeLists.txt

commit f7dc046b0e0c30fec684234164ee962e8918417a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 09:25:15 2016 -0800

    Bump the version number

M	CMakeLists.txt

commit 86d93442fbbaeaab1962d311f2c35f88483602c7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 09:19:28 2016 -0800

    Change build script to build both static and shared libraries under
    Windows.

M	build/appveyor/build.bat

commit 4904e5e82ff9e2f4920f5cbb70c55c55ab180cda
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 09:08:35 2016 -0800

    Export more functions to DLL.

M	src/libjasper/include/jasper/jas_image.h

commit fbbc1de5aab0b96976f2df6a26e2d480047a49f6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 09:05:29 2016 -0800

    Export more functions to DLL.

M	src/libjasper/include/jasper/jas_cm.h
M	src/libjasper/include/jasper/jas_debug.h

commit 7451ec879bc55b51e06faeb72f066fc7e52c681f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 08:59:31 2016 -0800

    Export a few more functions/variables for the DLL.

M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_image.h

commit f97fabde644eb6eeb40828da5587d2f5e6e65338
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 08:54:19 2016 -0800

    Export jas_init.

M	src/libjasper/include/jasper/jas_init.h

commit 1a70198b79e28c37fe3f58fcc89dc04bfee54b32
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 08:51:19 2016 -0800

    Enable building DLL in Windows.

M	CMakeLists.txt
M	build/appveyor/build.bat

commit 7e452109a3e7eb52685d48c0b293a551c1535ea6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 29 08:45:42 2016 -0800

    Some preliminary changes for moving towards DLL support for Windows.

M	CMakeLists.txt
M	build/my_build
M	src/libjasper/CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_debug.h
A	src/libjasper/include/jasper/jas_dll.h
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/include/jasper/jas_version.h

commit 78dd2ff20a28ce456edb84403e944dfb11d4eb02
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 23:55:17 2016 -0800

    Replace deprecated subdirs command with add_subdirectory in
    CMakeLists.txt.

M	CMakeLists.txt
M	build/my_build

commit df62154878048a4c19745dcdf35e267080a2921a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 14:31:10 2016 -0800

    Fix the lie in the new (under construction) JasPer manual that
    incorrectly
    claims that there are no known bugs in JasPer.  Replace this lie with
    the truth that known bugs can be found from the issue-tracker
    on GitHub.

M	doc/src/bugs.dox

commit d6d1638fc0b372e586ae4edf2cd3597beb3983fd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 14:18:51 2016 -0800

    Added data/test/bad/1_crash.jpg to the list of files dropped when
    making a tarball.
    Symantec Antivirus reports this file as being a threat, although
    this appears to be a false positive.

M	build/make_dist

commit e36e46c739ccd1b6a4a30593f8165bdf729b8678
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 08:20:05 2016 -0800

    Added VERBOSE=1 to various make invocations in the Travis CI build
    script.

M	build/travis/build

commit 54158ce67fea534391f53a814d8345078fb61f7c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 08:13:25 2016 -0800

    Print additional information in the Travis CI build script.

M	build/travis/build

commit 05a7c4caff4ae12a6511359f1de89e3c37529cf8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 06:59:26 2016 -0800

    When testing with Travis CI, try building and installing for both the
    shared library case and static library case.

M	build/travis/build

commit eb7e01dc45b5f831e50560f0cd0d05bf72777caf
Merge: 08f9ef4 ca9db2f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 28 06:50:23 2016 -0800

    Merge branch 'vriera-master'
    Fix a problem that occurs when building static libraries.

commit ca9db2fa64adbbbff53c994f5f7d783c9ee5bf76
Author: Vicente Olivert Riera <Vincent.Riera@imgtec.com>
Date:	Mon Nov 28 12:49:27 2016 +0000

    CMakeLists.txt: only change RPATH when building for shared

    When doing static-only builds (-DJAS_ENABLE_SHARED=OFF) the install
    process fails due to an invalid RPATH:

    ...............................................................
    CMake Error at src/appl/cmake_install.cmake:45 (file):
      file RPATH_CHANGE could not write new RPATH:

	/usr/lib

      to the file:

	/br/output/host/usr/xtensa-buildroot-linux-uclibc/sysroot/usr/bin/jasper

      No valid ELF RPATH or RUNPATH entry exists in the file;
    Call Stack (most recent call first):
      cmake_install.cmake:42 (include)
    ...............................................................

    RPATH shouldn't be changed when doing static-only builds.

    Signed-off-by: Vicente Olivert Riera <Vincent.Riera@imgtec.com>

M	CMakeLists.txt

commit 08f9ef4371785b84c7d6153aba60fb1e757dcafb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 27 09:41:51 2016 -0800

    Cleaned up the top-level CMakeLists.txt file and also removed the
    stray git
    command in the file that should not be there.

M	CMakeLists.txt

commit 58b2bc12f377e64fca99ea7f3517d7fff1c39ac9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 22:42:31 2016 -0800

    Made further revisions to the reference manual.

M	doc/src/mainpage.dox.in

commit ce9f63084e13e759442884c4cd913b68096660ac
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 22:19:12 2016 -0800

    Added more functionality to the make_dist script.

M	build/make_dist

commit c8ba13c4fef0478ab5e778d14bcce2e6477fd2cd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 21:59:26 2016 -0800

    Modify CMakeLists.txt to install man pages.

M	src/appl/CMakeLists.txt

commit 2f5f0893cde9c790b1a45c71a193405e3f20de49
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 21:23:40 2016 -0800

    Made some editorial changes to the Appveyor build script.

M	build/appveyor/build.bat

commit 431f67de63be9c1268806c7604f27aeb97951334
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 21:21:55 2016 -0800

    Improved the installation instructions.

M	INSTALL

commit f25486c3d4aa472fec79150f2c41ed4333395d3d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 20:54:24 2016 -0800

    Fixed a bug in the packet iterator code.
    Added a new regression test case.

A	data/test/good/PoC2.jpc
M	src/libjasper/jpc/jpc_t2cod.c

commit da11593fc485dd3c47af0f3118f11a102e1aa3d9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 20:46:31 2016 -0800

    Fixed the incorrect placement of a test file.

R100	data/test/bad/PoC1.jpc	data/test/good/PoC1.jpc

commit 4a59cfaf9ab3d48fca4a15c0d2674bf7138e3d1a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 20:23:23 2016 -0800

    Fixed a buffer overrun problem in the QMFB code in the JPC codec
    that was caused by a buffer being allocated with a size that was
    too small
    in some cases.
    Added a new regression test case.

A	data/test/bad/PoC1.jpc
M	src/libjasper/jpc/jpc_qmfb.c

commit ed355a69d1884d4cb9e13a8b885914601853b604
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 18:41:49 2016 -0800

    Made some changes to build scripts/files.

M	CMakeLists.txt
M	INSTALL
M	build/my_build

commit aa0b0f79ade5eef8b0e7a214c03f5af54b36ba7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 17:14:09 2016 -0800

    Fixed numerous integer overflow problems in the code for packet
    iterators
    in the JPC decoder.

M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c

commit f4a6b95d721901320f228a382b07b85e37d842c7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 17:08:48 2016 -0800

    Reduced the verbosity of some test scripts.

M	test/bin/utilities
M	test/bin/wrapper

commit dcf27b2c5beaaae333df30cf25bde66ffab5c728
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 16:39:03 2016 -0800

    Modified some build/package-related scripts.

M	build/make_dist
A	build/my_build

commit 9ae142347c1342667329f31e66146cda2039bd2e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 10:44:59 2016 -0800

    Remove some of the autotools cruft from .gitignore

M	.gitignore

commit 082a41a616dc87e4b4bebf266752563f308302fb
Merge: 142c8e0 71cbb49
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 10:19:53 2016 -0800

    Merge branch 'cmake' of https://github.com/mdadams/jasper

    Merge all of the changes necessary to convert from an autotools-based
    build to a cmake-based build.

commit 71cbb49e72f01a06396e99abc20ceac918bd8765
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 10:08:56 2016 -0800

    Updated the documentation and the make_dist script.

M	INSTALL
M	README
M	build/make_dist

commit c367738eb8678ba989d05c9e95f45c7791bcaf8a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 09:26:19 2016 -0800

    Added new script for making release tarballs.

A	build/make_dist

commit a934e70036efdc6dbe08a96acd0fead41a7b6c40
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 03:16:22 2016 -0800

    The pkgconfig file is now correctly generated and installed.

M	CMakeLists.txt
M	build/jasper.pc.in

commit 2baa2f1bd65e54141e15f370f4624f08a20bdc20
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 03:00:42 2016 -0800

    Reorganized numerous files used for building.

M	.travis.yml
M	CMakeLists.txt
D	NEWS
M	appveyor.yml
R100	ci/appveyor/build.bat	build/appveyor/build.bat
R100	cmake/modules/FindMakeDist.cmake
build/cmake/modules/FindMakeDist.cmake
R100	cmake/modules/InSourceBuild.cmake
build/cmake/modules/InSourceBuild.cmake
R100	cmake/modules/Sanitizers.cmake
build/cmake/modules/Sanitizers.cmake
R100	pkgconfig/jasper.pc.in	build/jasper.pc.in
R100	jasper.spec.in	build/jasper.spec.in
R100	ci/travis/build build/travis/build
D	pkgconfig/Makefile.am

commit ff88ab26c45de8970b374cc3bfe3c0beca0dcb61
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 02:25:37 2016 -0800

    More CI changes.
    Improved installation instructions.

M	INSTALL
M	ci/travis/build

commit 6441dd978840d4601884cf3e545df3d9e017959d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:45:02 2016 -0800

    Some Appveyor changes

M	appveyor.yml

commit 14f43917bd807d570fb5907bdcaf52fdf051db3e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:39:22 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit c0e480a18973614d61ca3bb78935c282281ef437
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:37:10 2016 -0800

    Some Appveyor changes

M	appveyor.yml
M	ci/appveyor/build.bat

commit 565e69e9021c1dfee27b91da28c55c4c6bf6fa09
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:31:30 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit baefddd659c62811b6092cbb806865c7bdb8c291
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:29:22 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 005899716117c2a33e00a4e3211f6b0dfcf3e812
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:27:24 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 45d69cdbf2f9eb7be01789de72b8e1473252f1a5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:24:47 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 414ac77fd383acb9a97de77d9edcb3e9d6bfe27f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:20:33 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 85a71b69981c8fb522b72c5b1eac0373e3aae3e9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:16:20 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 46e8fa22e7f8e7b9fa8a2c0f6e7c1b8955fdc1ba
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:11:58 2016 -0800

    Some Appveyor changes

M	ci/appveyor/build.bat

commit 7fdf118c745d701a8c01d12af230b9e063714650
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:09:23 2016 -0800

    Some Appveyor changes

M	appveyor.yml

commit 26536f488f179c39eb40d0b4feb97a9ef9ca425f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:04:59 2016 -0800

    Some Appveyor changes

M	appveyor.yml
R100	ci/appveyor/build	ci/appveyor/build.bat

commit f23c6adbc4ae45fe039824a64b5f7570f07eaca4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:03:22 2016 -0800

    Some Appveyor changes

M	appveyor.yml

commit ee1510f981c809db7e00399d58417ed75e5642e9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:02:12 2016 -0800

    Some Appveyor changes

M	appveyor.yml

commit a9548cb874a6b7772b7447e3a1dcafe3900b27b5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 01:00:49 2016 -0800

    Some Appveyor changes

M	appveyor.yml

commit 620d9d170e8461e3bdde2cf5c9a6656c101d43d2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 00:56:01 2016 -0800

    Some Appveyor changes

M	appveyor.yml
A	ci/appveyor/build

commit 1933d9bc6ff9e424641209e595e8fa7a98fd56e0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 00:35:09 2016 -0800

    The empty ChangeLog file has been removed.
    It probably does not make much sense for this file to be under
    version control.

D	ChangeLog

commit 76066e7eaf4691d2ef1233e2d1e6934d43517f56
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 26 00:19:18 2016 -0800

    Created initial skeleton for Doxygen-based manual

M	CMakeLists.txt
A	doc/CMakeLists.txt
A	doc/Doxyfile.in
A	doc/src/bugs.dox
A	doc/src/faq.dox
A	doc/src/getting_started.dox.in
A	doc/src/mainpage.dox.in
A	doc/src/modules.dox

commit 0329907256094df7f4efec3ca6b749aa059d05b2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 19:12:16 2016 -0800

    More CI changes

M	appveyor.yml

commit 0f2e8ffd1fc1399ff79dbe46e8ad2d81f6f953e4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 19:09:08 2016 -0800

    More cmake changes

M	src/libjasper/CMakeLists.txt

commit 2a85cf3ee93341e8f6b9da24becdd537a0262c60
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 19:02:45 2016 -0800

    More cmake changes

M	ci/travis/build
M	src/libjasper/CMakeLists.txt

commit 5bcbb69dbfa06adcad5c734368e1e9117ee338ef
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 18:46:32 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 17fd90e0fc6fa40fbd6ea7c0974c720c40e6e5a7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 18:13:33 2016 -0800

    More CI changes

M	ci/travis/build

commit 54d690b8535495864a2e76dfdc15a0451307d7dd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 18:04:07 2016 -0800

    More CI changes

M	ci/travis/build

commit d769c6413fc5d26bc1042f9d193b0dcc477ecbea
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 17:53:16 2016 -0800

    More CI changes

M	.travis.yml
A	ci/travis/build

commit b36f7d6d2c8ad34e9e22ac53d41d1e2fccc44898
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 09:29:18 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit f62bc9117a55cd566e46296e86540dc10357fe2b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 09:19:25 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit a6e83638c46a6b957d28022cb922793c4f032daa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 09:10:33 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 36e9edbfd87e787e7fcfbefd835eae567c504484
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 09:02:49 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit ec875e94eab173edaaa93789ccf9ca4144df941a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:55:08 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 21dfc44c89b92b79c6639adcc21fcd176fa1df93
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:50:27 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit c26b11ba12916280da7f216f2d6a07a775192e27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:42:16 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit a709452decff8333f6bdb956871daa1d9f3330a0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:38:15 2016 -0800

    More cmake changes

M	.travis.yml
M	CMakeLists.txt

commit dcc91c1f5e2bdfac73782d02ce914d2412460c83
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:31:36 2016 -0800

    More cmake changes

M	CMakeLists.txt
M	INSTALL

commit 055568d29d67afd58a313831e0955b2aca4aa05e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 08:15:15 2016 -0800

    More cmake changes

M	CMakeLists.txt
D	configure.ac
M	test/bin/run_codec_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_3
A	test/bin/wrapper

commit d5d849a890314d158475f4eaf5dbe0d2a692d51c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 07:11:24 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 1138e371836a27f19cd9d3832019211cb46bc779
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 07:03:12 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit a287f5f35a5ac1a753e4ee4ddfba5f065b3ae311
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 06:56:19 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 88caa7e7f668517b6491fc4930bdeb181cc5c8fa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 06:48:58 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit f6ac92d19d15ece038b3820a1e41c9a101d2d6c1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 06:44:09 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit aa91254edb9b587202ad72cbe2e66b79063d6a14
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 06:37:42 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 5720f0fa1795dc3c569449dc8b2887de714f9d2a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 06:35:52 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 259b2b3f9cbebf6ee9732cb6c8c41fc0d94bc62d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 05:54:55 2016 -0800

    More cmake changes

M	src/libjasper/CMakeLists.txt

commit 15fc210ea944db74ba79e16325ce4c054ec6afa5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 25 05:51:50 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 8e0d0f62f123ba000f627f0163785d59d2f70dd0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 20:20:17 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit f986b190984f58934211fb5914ffacb678848fd9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 20:11:21 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 24f814fb8806779da02ba285f60e75a0ab96dc78
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 20:08:47 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 16c241fee2278823b2c2c11e5fa8bdfc13444c85
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 20:07:58 2016 -0800

    Added a missing "const" in a few of places.

M	src/libjasper/jpg/jpg_dummy.c

commit 9a018b8f0e294a2afafb0638ed1c34c47d10de09
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 19:17:52 2016 -0800

    More cmake changes

M	CMakeLists.txt
M	src/libjasper/CMakeLists.txt

commit c2604b35712776a386c8a8ca18aa1c6e35236d8f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 09:20:45 2016 -0800

    More cmake changes

M	src/libjasper/CMakeLists.txt

commit 774b2cc6a07d2415a79d4863aa4a2fd726883d6e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 09:05:06 2016 -0800

    More cmake changes

M	CMakeLists.txt
D	Makefile.am
M	src/libjasper/CMakeLists.txt

commit d039963bebfd8381f4bbe5805ccfbda49036ab91
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:45:00 2016 -0800

    More cmake changes

D	src/libjasper/include/jasper/CMakeLists.txt

commit 5b8ff8260436d5bfb9d953470fcbd96f45ae277e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:43:20 2016 -0800

    More cmake changes

M	src/libjasper/CMakeLists.txt
D	src/libjasper/dummy.c

commit bcac8d32abbe902a5b0229b0fe4ffc1dfaf4cb12
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:37:38 2016 -0800

    More cmake changes

M	src/libjasper/CMakeLists.txt
D	src/libjasper/base/CMakeLists.txt
D	src/libjasper/bmp/CMakeLists.txt
D	src/libjasper/jp2/CMakeLists.txt
D	src/libjasper/jpc/CMakeLists.txt
D	src/libjasper/jpg/CMakeLists.txt
D	src/libjasper/mif/CMakeLists.txt
D	src/libjasper/pgx/CMakeLists.txt
D	src/libjasper/pnm/CMakeLists.txt
D	src/libjasper/ras/CMakeLists.txt

commit fe5fca52f5f6beda5a0ad9968d49e1301b85ad43
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:18:38 2016 -0800

    More cmake changes

M	cmake/modules/InSourceBuild.cmake

commit 4ec3b1293ada343bfaa954490413633e94c3ade1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:17:33 2016 -0800

    More cmake changes

M	cmake/modules/InSourceBuild.cmake

commit 9bf4210758f1dd65bc2eec3a6d020b14a257b72a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:15:36 2016 -0800

    More cmake changes

M	cmake/modules/InSourceBuild.cmake

commit 9889f4da8d6fa47cf21e3ec7e79504996904b5c4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Nov 24 08:07:30 2016 -0800

    More cmake changes

M	.travis.yml
M	CMakeLists.txt
M	appveyor.yml
A	cmake/modules/InSourceBuild.cmake
M	src/appl/CMakeLists.txt

commit 2401049eba603131db2f9b8c2723c0f7691de7c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 22:06:26 2016 -0800

    More changes for cmake

M	CMakeLists.txt
M	cmake/modules/FindMakeDist.cmake

commit 1dfec33972f121395d0203d7290bd7cc63066735
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 21:56:24 2016 -0800

    More changes for cmake

A	cmake/modules/FindMakeDist.cmake

commit d7b07859967a247ce57a38e82ae078d290df7d7a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 21:44:37 2016 -0800

    More changes for cmake

M	CMakeLists.txt
M	src/libjasper/include/jasper/CMakeLists.txt

commit 1cc8f3a451d5fbfc7ea2edd1ea0a5bf9447b2db6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 19:56:53 2016 -0800

    More changes for cmake

M	CMakeLists.txt

commit b70f6de2f59cc7e144937d063958adccecfbec18
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 19:32:07 2016 -0800

    More changes for cmake

M	CMakeLists.txt
A	cmake/modules/Sanitizers.cmake

commit 142c8e07c2a929ddbf8cd89e56bf3deecb62b53b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 10:14:07 2016 -0800

    More CI changes

M	.travis.yml

commit 09ed278cb062359c1be2202b37ce16165e440b42
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 10:09:37 2016 -0800

    More CI changes

M	.travis.yml

commit 9b2a294c8ba43f42a73028d3603d97f37a6c6344
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 10:07:51 2016 -0800

    More CI changes

M	.travis.yml

commit af1733f879ef940678b510086a67c73ccfd4b460
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 10:05:10 2016 -0800

    More CI changes

M	test/bin/run_codec_test
M	test/bin/run_test_3

commit 74ce0b45562d17a0314bb6eba9453cb8016c3e09
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 10:02:01 2016 -0800

    More CI changes

M	.travis.yml

commit b9c191f8f4e177c88855f2b0caea74e07acd8505
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:59:33 2016 -0800

    More CI changes

M	test/bin/run_test_3

commit 1e560d85f8e3fd56d5d4a528a88fb64104457ced
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:56:44 2016 -0800

    More CI changes

M	test/bin/run_codec_test

commit e9216fd68db595c7e9d61ab27f1fdf6f884270bf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:52:01 2016 -0800

    More CI changes

M	test/bin/run_codec_test
M	test/bin/run_test_3

commit 143186f6ed639c7b91bac5d5cd73880070b0071a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:48:18 2016 -0800

    Remove dependency on realpath

M	test/bin/jpcod

commit c58883ba6e224851e221c2dd1c0a0108bf84817c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:41:27 2016 -0800

    More CI changes

M	.travis.yml
M	test/bin/utilities

commit 1e1f6914dc9c293584f82f012f239d272114ff9b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:36:48 2016 -0800

    More CI changes

M	.travis.yml

commit bac5bb83e23d8ed6557dee66d3ebd99938b165ee
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:28:29 2016 -0800

    More CI changes

M	.travis.yml

commit 0046b3bd9e6d78ec321280c60b8da4c8e75e21c8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:22:21 2016 -0800

    Add debugging message in test scripts

M	.travis.yml

commit 2904d567f8b8b8ce87c411b587a1039af5902407
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:20:45 2016 -0800

    Add debugging message in test scripts

M	.travis.yml

commit a9666e949f556db4a2e1d0f41d9be98f07db73e0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:16:19 2016 -0800

    Add debugging message in test scripts

M	test/bin/utilities

commit 8f276e683910e0377278defb5aede1a5bdb7d725
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:15:37 2016 -0800

    Add debugging message in test scripts

M	test/bin/utilities

commit 926e233383fec0a05d664708fbaa37e50a1d34ae
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:06:01 2016 -0800

    Removed extra blank line.

M	src/libjasper/jpc/jpc_t2cod.c

commit a3460c75d4de622f751ded338ad28942e7b59c19
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 09:03:00 2016 -0800

    More changes for cmake and CI

M	.travis.yml

commit 6f25982ee8d109036f98227e841291f587b04b5f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 08:56:23 2016 -0800

    More changes for cmake

M	.travis.yml

commit 92f5259cfa6f1d30c5a4aa1cbbc4ab8934db70cb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 08:53:17 2016 -0800

    More changes for cmake

M	.travis.yml

commit 5a7f6f9901f7492ec1dc805d0cc6d585ff5d3bcc
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 08:50:15 2016 -0800

    More changes for cmake

M	.travis.yml

commit 7b3095b89a31ff12e0961f436fbd9e3858007c93
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 08:46:03 2016 -0800

    More changes for cmake

M	.travis.yml
M	CMakeLists.txt

commit d0019ff1ecea960f0e8e1921ef5cae3061c93b10
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 01:44:51 2016 -0800

    More cmake changes

M	CMakeLists.txt
M	src/appl/CMakeLists.txt
M	src/libjasper/jpg/CMakeLists.txt

commit eaf539d9ff0f0b8232b1a7bd6220e6d85cabfe2f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 01:37:04 2016 -0800

    More cmake changes

M	CMakeLists.txt

commit 90ac76042faf2659ff51645a1ac876df9fa3b587
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 01:27:47 2016 -0800

    Changes for Appveyor/Travis CI

D	ac_m4/m4_ax_append_flag.m4
D	ac_m4/m4_ax_c99_inline.m4
D	ac_m4/m4_ax_c_arithmetic_rshift.m4
D	ac_m4/m4_ax_cflags_gcc_option.m4
D	ac_m4/m4_ax_cflags_strict_prototypes.m4
D	ac_m4/m4_ax_cflags_warn_all.m4
D	ac_m4/m4_ax_check_compile_flag.m4
D	ac_m4/m4_ax_compiler_flags_cflags.m4
D	ac_m4/m4_ax_generate_changelog.m4
D	src/Makefile.am
D	src/appl/Makefile.am
D	src/libjasper/Makefile.am
D	src/libjasper/base/Makefile.am
D	src/libjasper/bmp/Makefile.am
D	src/libjasper/include/Makefile.am
D	src/libjasper/include/jasper/Makefile.am
D	src/libjasper/jp2/Makefile.am
D	src/libjasper/jpc/Makefile.am
D	src/libjasper/jpg/Makefile.am
D	src/libjasper/mif/Makefile.am
D	src/libjasper/pgx/Makefile.am
D	src/libjasper/pnm/Makefile.am
D	src/libjasper/ras/Makefile.am
D	src/msvc/Makefile.am
D	src/msvc/README
D	src/msvc/imgcmp.vcxproj
D	src/msvc/imginfo.vcxproj
D	src/msvc/jasper.sln
D	src/msvc/jasper.vcxproj
D	src/msvc/jiv.vcxproj
D	src/msvc/libjasper.vcxproj
D	test/Makefile.am
D	test/bin/Makefile.am

commit 6c3e8a6f1cb6b218cef763a184ab379a421e9dae
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 01:14:36 2016 -0800

    Changes for Appveyor/Travis CI

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 13744404c6e12bae11642d7ef0b7d66016827f86
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 01:05:28 2016 -0800

    Changes for Appveyor/Travis CI

M	CMakeLists.txt

commit abc2a077c0bd684436f59b8e5b20857230903db2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:56:19 2016 -0800

    Changes for Appveyor/Travis CI

M	.travis.yml

commit 91bd821439fb05fc5737c5028f791102457f0caa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:53:54 2016 -0800

    Changes for Appveyor/Travis CI

M	appveyor.yml

commit 70cddeb157a9108adeefbd75652b205ba725d068
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:52:42 2016 -0800

    Changes for Appveyor/Travis CI

M	appveyor.yml

commit a7f6e4557ac8988dbdf0cbb6567ce3928390b116
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:45:20 2016 -0800

    Changes for Appveyor/Travis CI

M	.travis.yml

commit 859ce383efcd28cbb4d8e8ccb735849d5f4e96a7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:41:49 2016 -0800

    Changes for Appveyor/Travis CI

M	.travis.yml

commit c0c3c913930981e022be90556f6f1d12870a8e51
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:40:15 2016 -0800

    Changes for Appveyor/Travis CI

M	.travis.yml

commit 1a7853075ca421bc5ddcb067db5b9e1f1f54648f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:37:46 2016 -0800

    Changes for Appveyor/Travis CI

M	src/appl/CMakeLists.txt

commit eceb0dde114a8a06f14f85a392a26a1a0bf52197
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:34:25 2016 -0800

    Changes for Appveyor CI

M	CMakeLists.txt
M	src/appl/CMakeLists.txt

commit 391a156c5ebf35f10bc0f6422c08bc741e140c90
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:29:41 2016 -0800

    Changes for Appveyor CI

M	src/libjasper/jpg/CMakeLists.txt

commit 4bdda5cc2a182572f7a4c78505c4fabcee0ed2a3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:19:32 2016 -0800

    Changes for Appveyor CI

M	appveyor.yml

commit c39d0547929b5bc0d84312ee7a1973cda8378670
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:16:59 2016 -0800

    Changes for Appveyor CI

M	appveyor.yml

commit bd742e41f2d8cc60b1c56e4eadae435a5d0b9dea
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:08:33 2016 -0800

    Changes for Travis CI

M	.travis.yml

commit b7c1ed4a377031de197e47b2160c3b28ac3d0094
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 23 00:03:32 2016 -0800

    Add preliminary support for a cmake-based build.

A	CMakeLists.txt
A	src/appl/CMakeLists.txt
A	src/libjasper/CMakeLists.txt
A	src/libjasper/base/CMakeLists.txt
A	src/libjasper/bmp/CMakeLists.txt
A	src/libjasper/include/jasper/CMakeLists.txt
M	src/libjasper/include/jasper/jas_config.h.in
A	src/libjasper/jp2/CMakeLists.txt
A	src/libjasper/jpc/CMakeLists.txt
A	src/libjasper/jpg/CMakeLists.txt
A	src/libjasper/mif/CMakeLists.txt
A	src/libjasper/pgx/CMakeLists.txt
A	src/libjasper/pnm/CMakeLists.txt
A	src/libjasper/ras/CMakeLists.txt

commit 6c6c123465d8299b60cc527c1c2983c29368e8d6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 22 05:42:51 2016 -0800

    Fixed a minor const correctness issue in the JPC codec.

M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/jpc/jpc_util.h

commit d24be06ab27b5182094b5c6acce631e5346342f5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 21 06:57:52 2016 -0800

    Bump the version number

M	configure.ac

commit 80ed6228a260eee49d51af8b6a6fb3721b70b180
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 21 06:50:09 2016 -0800

    Added a command line option to imginfo to allow for arbitrary decoder
    options to be specified.

    Adjusted the debug level associated with some log messages.

    Added an option to the JPEG decoder that makes it print the JPEG
    library
    version to standard output and return without decoding
    (i.e., return with an error).
    Also, added a debug log message that includes the JPEG library
    version.

    Fixed a possible use of uninitialized data in the JPEG decoder.

    Modified the run_test_1 script to try to better accommodate different
    versions of the JPEG library (which have different behaviors for some
    of the decoding tests).

M	src/appl/imginfo.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/jpg/jpg_dec.c
M	test/bin/run_test_1

commit 06bccbd6b8755073e3b3c60e9c82db309b721afa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 22:44:02 2016 -0800

    Bump the version number.

M	configure.ac

commit e257ca252982c86632f9a3c079a7bd228f9ce2cd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 06:16:43 2016 -0800

    Added some more samity checks in the BMP decoder.
    Also, fixed a problem that could cause some valid BMP files to
    be rejected.

M	src/libjasper/bmp/bmp_dec.c

commit 8ed97b434d25e9e7895627b0eea7c3efc5404fd2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 05:48:16 2016 -0800

    Attempt to fix Travis CI issue.

M	.travis.yml

commit 695cb182a25af946ca1102817b7a2b7af1d81a05
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 05:41:15 2016 -0800

    Added another regression test case.

A	data/test/bad/00052-jasper-misalignedaddress.jp2

commit c76341412ea7924c554955f21d2e564f9133a1e5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 05:32:18 2016 -0800

    Modified the run_test_1 script to remove the limit on max_samples,
    except
    for tests where this limit is truely needed (e.g., to prevent
    excessive virtual memory consumption).

    Modified the BMP decoder to refuse to read the header of a BMP data
    stream if the palette size exceeds the number of pixels in the image.

M	src/libjasper/bmp/bmp_dec.c
M	test/bin/run_test_1

commit 98f58d85d6b2d2f69e45777f91cf99fa4e1298be
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 04:46:02 2016 -0800

    Add another regression test case.

A	data/test/bad/00047-jasper-stackoverflow-jpc_tsfb_getbands2.jpc

commit 1abc2e5a401a4bf1d5ca4df91358ce5df111f495
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 20 04:43:00 2016 -0800

    Fixed an array overflow problem in the JPC decoder.

M	src/libjasper/jpc/jpc_dec.c

commit 71bbf4192bc94d5f5dcb5ad34fd675cabb6aecef
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 18 10:42:39 2016 -0800

    Remove the old dsp/dsw files for MSVC build support.
    These files have been replaced by the newer sln/vcxproj files.

M	src/msvc/Makefile.am
D	src/msvc/imgcmp.dsp
D	src/msvc/imginfo.dsp
D	src/msvc/jasper.dsp
D	src/msvc/jasper.dsw
D	src/msvc/jiv.dsp
D	src/msvc/libjasper.dsp

commit 0a8e401b087bb0098f843433738250c3774ebe5b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 23:40:36 2016 -0800

    More CI changes.

M	.travis.yml

commit d9d95a0504bb0cd2857029ef3c5968762294b614
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 23:23:26 2016 -0800

    Bump the version number

M	configure.ac

commit 67037b67534efe51d90944899f4923561cfe0301
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 23:00:15 2016 -0800

    Made more changes for the MSVC build.

M	appveyor.yml

commit 2d84520ff491b2e93097cd3cadaf079b322a5464
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:57:43 2016 -0800

    Made more changes for the MSVC build.

M	appveyor.yml

commit 3fc18a804ac4466364d2ce1d7b7c3749e5501a9c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:56:25 2016 -0800

    Made more changes for the MSVC build.

M	appveyor.yml
M	src/msvc/Makefile.am
M	src/msvc/README
D	src/msvc/lj.proj

commit 8e803f8192432cff77d381b06145207193dfa14c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:42:54 2016 -0800

    Made more changes for MSVC build.

M	appveyor.yml

commit 9621dcd6c0ad7f124b7571f067594fa2034644b1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:38:45 2016 -0800

    More changes for MSVC build.

M	src/msvc/jasper.sln

commit d27a2a66b465faea390717dc391297b4be8c9299
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:36:06 2016 -0800

    Made more changes for the MSVC build.

M	src/appl/imginfo.c
M	src/libjasper/include/jasper/jas_config.h.in

commit 3f0f3ca1826997199cc3b0739e762ceb3ac3f03f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:26:27 2016 -0800

    Another fix to the config file for the MSVC case.

M	src/libjasper/include/jasper/jas_config.h.in

commit a2c92dacccd59bd622893bec0425e7b685cea21d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:23:56 2016 -0800

    More CI changes.

M	appveyor.yml

commit 4575a0e4def0f40f488ad6014bf09e9322779db4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:21:41 2016 -0800

    More CI changes.

M	appveyor.yml

commit 03f7194140f167fe62b97c9ba9450f2bffef6643
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:15:53 2016 -0800

    Added some fixes to the config file for the MSVC case.

M	src/libjasper/include/jasper/jas_config.h.in

commit 65980d4bbc64f0afdf7ff2d157dba6906f69c885
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:11:32 2016 -0800

    More CI changes.

M	appveyor.yml

commit 562983fe1786ce313a1eff5c713ed36d35dbc457
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 22:06:52 2016 -0800

    More CI changes.

M	appveyor.yml
A	src/msvc/imgcmp.vcxproj
A	src/msvc/imginfo.vcxproj
A	src/msvc/jasper.sln
A	src/msvc/jasper.vcxproj
A	src/msvc/jiv.vcxproj
A	src/msvc/libjasper.vcxproj

commit e4885b226d6850fe1a2244c9e53977673f125cf5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 17:06:39 2016 -0800

    More CI changes.

M	.travis.yml

commit ce5fce8f13945e1080653091d6b88c328a7ed75f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 16:53:21 2016 -0800

    More CI changes.

M	.travis.yml

commit a45b3ecfbc4bd12e015e75734281f14d79a21850
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 16:47:50 2016 -0800

    More CI changes.

M	.travis.yml

commit 158aa900b777f6b1176018e834be5cb304640081
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 06:46:55 2016 -0800

    More CI experimentation

M	.travis.yml

commit f21fc1bd2ee40c4f9278e6b8b2956450333fe679
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 06:25:36 2016 -0800

    More CI experimentation

M	.travis.yml

commit 79be501106ec90260a9270dc21e7ad5d201bdf29
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 00:43:51 2016 -0800

    More appveyor experimentation

M	src/msvc/lj.proj

commit 3a7f2552f9af22be7c2b441fd6a32386f01b0997
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 15 00:33:39 2016 -0800

    More CI changes.

M	.travis.yml
M	appveyor.yml

commit 0d3518aa31ab9cf43824aa0036683c7f9d00904c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:31:17 2016 -0800

    More appveyor experimentation

M	appveyor.yml

commit 85bd7bdc70c9c9f0ca0254b934d38f1c827f6e27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:29:15 2016 -0800

    More appveyor experimentation

M	src/msvc/lj.proj

commit a316212cafa0786ffd6762c877209b62b573f768
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:23:57 2016 -0800

    More appveyor experimentation

M	src/msvc/lj.proj

commit cb6b9e4c650c82575b943e0eee77e5b8c2da512e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:21:08 2016 -0800

    More appveyor experimentation

M	src/msvc/lj.proj

commit a998c8db0e25c370fb1d54bad309a59326736a24
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:16:45 2016 -0800

    More appveyor experimentation

M	appveyor.yml
M	src/msvc/lj.proj

commit c82f5444feba9f0b23b4dc54748fde928080d374
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 23:03:26 2016 -0800

    More appveyor experimentation

M	src/msvc/lj.proj

commit cb5064e8c631a786a3c8817950557585e0c7229c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 22:55:36 2016 -0800

    More appveyor experimentation

M	appveyor.yml

commit 212ae823fbb03dede8884e22642b985be5803693
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 22:53:07 2016 -0800

    More appveyor experimentation

M	appveyor.yml

commit 4fecfc7d52bef06980c2d7e90ec136f92f7eb905
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 22:46:43 2016 -0800

    More appveyor experimentation

M	appveyor.yml
M	src/msvc/lj.proj

commit 13c9060cfd375480dd48eb5dd3bca60f57b8437a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 22:37:58 2016 -0800

    More experimentation with appveyor.

M	appveyor.yml
A	src/msvc/lj.proj

commit 369e071915dfd215189d643083d117d090215ddd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 09:04:36 2016 -0800

    Modify appveyor.yml

M	appveyor.yml

commit f7ac6452a1971563824d20385cc8d6915483356d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 09:02:32 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit c11982eb8e9fc4ff1318f5e2050c86336b2b35c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:59:52 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 5ff6e3889ff134b2e8d605966be50fb37de8d39b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:53:16 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit c5900f112aba85b708e3c9748410fbea8a177711
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:51:41 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit a8523a5aa83e5c98e45c08e2621daeeac967e20e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:49:24 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 1a9686213cae751b20a5ae411f20e89afcfedbac
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:48:36 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit fe6c4becfbae0b65eb8130f3b8ca461628be1a6a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:47:00 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 814308a7a2cf1f4c7667370742a5f220cf57bcd9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:41:18 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit 6a8f8f9650a556f57fb60f7f4f51ce313f552f15
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 08:18:49 2016 -0800

    Removed a duplicate inclusion of jas_math.h.

M	src/libjasper/jpc/jpc_t2cod.c

commit f47586221311bfe62464a969214cac8d5265bdee
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 07:54:55 2016 -0800

    Another change to appveyor.yml

M	appveyor.yml

commit 859f28b9eff1ec4ba5a5735f12c3deee7f158f7d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 07:54:13 2016 -0800

    Another change to appveyor.yml

M	appveyor.yml

commit 8ff9c9bd3db5c6dffb7871d46c5b41fb33a9662d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 07:53:07 2016 -0800

    Another change to appveyor.yml

M	appveyor.yml

commit 9488db357f616b2fa25bab5935e4cc7dc4e599ce
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 07:48:22 2016 -0800

    Another change to appveyor.yml

M	appveyor.yml

commit c7786c5f223d3a29f6a6fdb4f2ba1a7d6ef1c052
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Nov 14 07:35:15 2016 -0800

    Another change to appveyor.yml

M	appveyor.yml

commit 6afe28164518d30412ae44887b086c1503560df1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 09:34:41 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 894bb685758e53bade46c21ceaa0bd085121e86b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 09:29:20 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit ac0f9fad90865089f04bfe19f16635e42ac7a90c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 09:19:34 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 6f1bedd87b6f4fc5436fd9853edf712e139ea232
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 09:11:24 2016 -0800

    Modified appveyor.yml

M	appveyor.yml

commit 857c6b9f47679f971ca8da7dcb6712c3e52133e4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 09:01:33 2016 -0800

    Add appveyor.yml file

A	appveyor.yml

commit 8069646ec217cc0080e67e5e2f3b5db6ac87b359
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:48:33 2016 -0800

    More changes to allow things to work with Travis CI.

M	.travis.yml
M	test/bin/run_test_3
M	test/bin/run_test_4

commit 3f6c12113bdfd4969e5b3a2a2a35de656334d278
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:30:07 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit 4b32f5d31e8ff42c98ce72acdfc576cef4016148
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:25:26 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit e31f2758087cbc7b237e222918ad5f2515a22dce
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:20:12 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit 368f3ec600af0fe423518cc982a382f7be2130db
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:07:44 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit 203e26e41e399e756c7cbb99bdbfd80233cf5712
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 08:00:43 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit ecffc18330778ba68ebd9ff276242d70050443d2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:56:54 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit d73348decfc87420c5f63806338b5438e551974a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:47:32 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit fd2583d82692c0e564798e64ec119440db85cdfe
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:43:52 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit 5eec10be3fdef9b74a9700f847e97a73f64eda3c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:27:30 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit e373b27b8cd64020265ac2f7f679ca6d25ea236e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:24:07 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit a120dc77528f6fc6eac894ffac2943cc3bc69415
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:20:00 2016 -0800

    Modified .travis.yml

M	.travis.yml

commit e9324259c06ac6fa92d702c386659a0ae44358e8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:14:47 2016 -0800

    Modified .travis.yml file.

M	.travis.yml

commit 3990acdfed2f5449d498863cc80233e4d1bfc7d3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:09:45 2016 -0800

    Cosmetic change

M	configure.ac

commit a384ff370acf4354c10c01676fb26e399a3b3b44
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 07:04:38 2016 -0800

    Add .travis.yml file for Travis CI

A	.travis.yml

commit d45903dd7bf025d4e5d349520cb83a1106d106bd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 05:15:32 2016 -0800

    Bump the version number.

M	configure.ac

commit 7a0787a83671d35ef8ef921f3f5feb44c0f84ecd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 13 05:07:18 2016 -0800

    Attempt to fix non-configure-based build with MSVC under Windows.

M	src/libjasper/include/jasper/Makefile.am
M	src/libjasper/include/jasper/jas_config.h.in
D	src/libjasper/include/jasper/jas_config2.h

commit 1b27876477dde912b97753d083986f15aeb0637a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 16:18:26 2016 -0800

    Bump the version number.

M	configure.ac

commit 48ba12fa3ca22927e2f7cc891b2f2c21a5c65a37
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 16:15:28 2016 -0800

    Added support for the max_samples option to the PGX and RAS decoders.

M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/ras/ras_dec.c

commit 6614a6c1194b3ff84ce20b9d1166ae22ec938f67
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 15:42:24 2016 -0800

    Modified configure.ac to fall back on C99 support if C11 support
    is not available.

M	configure.ac

commit 62ce8d322c20f24c21effc422a0786226ce51b8a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 15:19:55 2016 -0800

    Fixed some const problems in the interface to the encode and decode
    functions.
    (The option string should be a pointer to const char, but the
    const was
    missing.)

    Added support for the max_samples option in the PNM decoder.
    Also, in the PNM decoder, added a new option allow_trunc to allow
    truncation
    to be allowed/disallowed.

M	src/libjasper/base/jas_image.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit 247cbbad4fbfba5d9baf09db9c6a757f557775da
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 08:11:28 2016 -0800

    Added another regression test case.

A	data/test/bad/00020-jasper-signedintoverflow-jas_image_c.jpc

commit d82326571f4822427da13c70bd3005362be69dd5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 08:04:48 2016 -0800

    Bump the version number.

M	configure.ac

commit 44c95e1ab066eb737ed24cce5568da6d2a9e73c5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 08:00:51 2016 -0800

    Added new regression test case.

A	data/test/bad/00028-jasper-uaf-jas_realloc.jpg
M	test/bin/run_test_1

commit 861e16ff941adad07e1ed2579765d86e8ba00bed
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 07:48:02 2016 -0800

    Some minor fixes for the max_samples decoder feature.

M	src/appl/imginfo.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_dec.c

commit bcf11a1447896fdd1afae67df20513d416293859
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 07:40:40 2016 -0800

    Add new regression test case.

A	data/test/bad/00043-jasper-assert-jas_matrix_t.jpc

commit 5185cb13da413f826dcc5f1e0c1eb3e038dc0874
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 12 07:28:40 2016 -0800

    Added support for the max_samples option to the JPC/JP2 decoder.
    Cleaned up some of the code for max_samples support in other decoders
    (including fixing some potential bugs).
    All decoders supporting max_samples now default to the value given by
    JAS_DEC_DEFAULT_MAX_SAMPLES in the config file.

M	src/appl/imginfo.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpg/jpg_dec.c

commit 0b10896b9963f242bffbeba59d46b01e8095d078
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 11 16:47:53 2016 -0800

    Bump the version number.

M	configure.ac

commit d42b2388f7f8e0332c846675133acea151fc557a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 11 16:27:34 2016 -0800

    The generation of the configuration file jas_config.h has been
    completely
    reworked in order to avoid pollution of the global namespace.

    Some problematic types like uchar, ulong, and friends have been
    replaced
    with names with a jas_ prefix.

    An option max_samples has been added to the BMP and JPEG decoders to
    restrict the maximum size of image that they can decode.  This change
    was made as a (possibly temporary) fix to address security concerns.
    A max_samples command-line option has also been added to imginfo.

    Whether an image component (for jas_image_t) is stored in memory or on
    disk is now based on the component size (rather than the image size).

    Some debug log message were added.

    Some new integer overflow checks were added.

    Some new safe integer add/multiply functions were added.

    More pre-C99 cruft was removed.  JasPer has numerous "hacks" to
    handle pre-C99 compilers.  JasPer now assumes C99 support.	So, this
    pre-C99 cruft is unnecessary and can be removed.

    The regression jasper-doublefree-mem_close.jpg has been re-enabled.
    Theoretically, it should work more predictably now.

M	.gitignore
M	configure.ac
M	src/appl/imginfo.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_iccdata.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_tmr.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_cm.h
A	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_config2.h
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/include/jasper/jas_getopt.h
M	src/libjasper/include/jasper/jas_icc.h
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_init.h
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/include/jasper/jas_stream.h
M	src/libjasper/include/jasper/jas_string.h
M	src/libjasper/include/jasper/jas_tmr.h
M	src/libjasper/include/jasper/jas_tvp.h
M	src/libjasper/include/jasper/jas_types.h
M	src/libjasper/include/jasper/jas_version.h
M	src/libjasper/include/jasper/jasper.h
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_cs.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_dec.h
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_mqdec.h
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_val.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/ras/ras_dec.c
M	test/bin/run_test_1

commit 2b2efba4eda0a654ab02ca41545f50fe4f81845f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 9 15:38:03 2016 -0800

    Made some cosmetic changes to fix linewrap/indentation problems.

M	src/libjasper/base/jas_seq.c

commit 7a9817a42645fd2c70537ae947757c3d8f5a2c75
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 9 08:56:43 2016 -0800

    Bump the version number.

M	configure.ac

commit 05fea46e316d64ac8ef81d26875e0d46a4d0b071
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 9 08:48:33 2016 -0800

    Bump AC_JAS_LT_CURRENT

M	configure.ac

commit f4b1908a0738e8aa354a3595398ef64c68cdd62d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 07:49:33 2016 -0800

    Fixed a few incorrect printf format specifiers.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/jpg/jpg_dec.c

commit a84018b17f2ceceea9bc4ef3144c202f2ef33d6b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 07:35:39 2016 -0800

    Changed the manner in which PSNR is computed so that it uses INFINITY
    to generate the value of infinity instead of dividing by zero.

M	src/appl/imgcmp.c

commit bb93d3d4ae347708a343882dc137e7e55efbea92
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 06:01:06 2016 -0800

    Bump the version number.

M	configure.ac

commit deead461baa479436385a9b3e5eda30b90f87453
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 05:59:23 2016 -0800

    Disabled one regression test case.

M	test/bin/run_test_1

commit 3eddff136c21be7374acf1ca78a7e41bb7ac1852
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 05:37:13 2016 -0800

    Made a few global variables static to avoid global namespace
    pollution.

    Added an experimental JPEG decoder option to allow a maximum image
    size to be specified.

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpg/jpg_dec.c
M	src/libjasper/jpg/jpg_enc.c
M	src/libjasper/pnm/pnm_enc.c

commit 59ab2dd7cded652a87bddff6f700cafad3f23d41
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Nov 8 04:21:25 2016 -0800

    Fixed two potential overflow problems in jas_image_cmpt_create.
    It is not clear that these problems could actually result in the
    code malfunctioning, however.

    In the JPEG decoder, changed an "int" to a "JDIMENSION".

    Added more debugging log messages to both the JPEG decoder and the
    I/O stream code.

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/jpg/jpg_dec.c

commit 4786a1392bb13013ac1ca9020096f48abdac6107
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 6 10:31:04 2016 -0800

    Bump the version number.

M	configure.ac

commit 634ce8e8a5accc0fa05dd2c20d42b4749d4b2735
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Nov 6 10:26:16 2016 -0800

    Made some changes to the I/O stream library for memory streams.
    There were a number of potential problems due to the possibility
    of integer overflow.
    Changed some integral types to the larger types size_t or ssize_t.
    For example, the function mem_resize now takes the buffer size
    parameter
    as a size_t.
    Added a new function jas_stream_memopen2, which takes a
    buffer size specified as a size_t instead of an int.
    This can be used in jas_image_cmpt_create to avoid potential
    overflow problems.

    Added a new function jas_deprecated to warn about reliance on
    deprecated library behavior.

M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_stream.h

commit e8f491b655bc47bf0d11d6546fe1379d5bcb8678
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 22:13:26 2016 -0700

    Added another regression test case.

A	data/test/good/small_1x1.jpg

commit fa6834f4fba8452da6d4fe1c63a378de4d3bff16
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 22:01:42 2016 -0700

    Fixed a bug in the JPEG codec caused by an integral promotion problem.

M	src/libjasper/jpg/jpg_dec.c

commit 5fffc5002af3d1183c1e4e50e069b4a0180de9a8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 09:47:44 2016 -0700

    Bump the version number.

M	configure.ac

commit 511b84b5b3ca6dc59bfaae2127dc9e4a8b8eadcd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 09:45:38 2016 -0700

    More changes to the test scripts.

M	test/bin/codec_tests
M	test/bin/run_codec_test
M	test/bin/run_test_3
M	test/bin/utilities

commit 3d54de2ef69a4b0eefe046c6a5244a2226921046
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 07:58:04 2016 -0700

    Added some new test images.

A	data/images/signed_12.pgx
A	data/images/signed_16.pgx
A	data/images/signed_8.pgx

commit 913155ab9c87040ef7553de0da948745b5ecd3ef
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Nov 5 01:02:53 2016 -0700

    The MIF encoder did not set the color space of the temporary images
    that it employs before delegating to the PNM encoder, causing encoding
    to fail in some/all cases.	This has been fixed.

    Plugged some memory leaks.

    Fixed some misleading error messages.

    Added some debugging log messages.

    Made some cosmetic changes to the code.

    Fixed an UB problem in the RAS encoder.

    Fixed some integral type inconsistencies in the RAS codec.

    Made improvements to some of the test scripts.
    Enabled tests with the OpenJPEG decoder if available.

M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pgx/pgx_enc.c
M	src/libjasper/pnm/pnm_dec.c
M	src/libjasper/pnm/pnm_enc.c
M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c
M	test/bin/run_codec_test
M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/run_test_3

commit 04742f560d7b82bbf745fa93c0ebea3edfaadc02
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 11:53:31 2016 -0700

    Bump the version number.

M	configure.ac

commit adb1f224302823f91a9fefc0cd27930ba08b3121
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 11:48:51 2016 -0700

    Added another regression test case.

    Cleared some JPEG decoder data structures with memset to make the
    code more predictable in the event that the JPEG library fails to
    properly initialize them.

A	data/test/good/00021-jasper-uninitvalue-jpg_mkimage.jpg
M	src/libjasper/jpg/jpg_dec.c

commit 3afacc174867cc9d1f74ef2683bc780de4b0b2df
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 10:14:13 2016 -0700

    Made some changes in an attempt to fix a JPEG decoder problem
    that I cannot reproduce.
    The changes check for integer overflow/narrowing at various
    places in the code.

    The safe arithmetic functions in jas_math.h have been
    changed so that a null pointer can be given for the
    result parameter, in which case the result is discarded.

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/jpg/jpg_dec.c

commit 93a94803ee65469cc882f39d3916b190f8b5ed18
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 09:03:41 2016 -0700

    Added many additional debug log messages in the I/O stream code
    as well
    as the JPEG decoder.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/jpg/jpg_dec.c

commit 449fcf5d68c3239cf8790d736a520b0e46a65ae1
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 07:54:34 2016 -0700

    Added another regression test case.

A
data/test/bad/vertcraig-heap-buffer-overflow-in-jpc_pi_nextrpcl.jp2

commit 69b105154caa8cf4c67f5463076b59d57433c158
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 07:24:51 2016 -0700

    Added another regression test case.

A	data/test/bad/00029-jasper-uninitvalue-jpc_pi_nextcprl.jp2

commit 1f0dfe5a42911b6880a1445f13f6d615ddb55387
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Nov 4 07:20:23 2016 -0700

    Fixed an integer overflow problem in the JPC codec that later resulted
    in the use of uninitialized data.

M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2cod.h

commit 862ba25d9b17858a9855b5436446a615f2f012ee
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 2 22:23:16 2016 -0700

    Bump the version number.

M	configure.ac

commit 1d7a476b25a45e8682c2588ded7e69b26e606476
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 2 22:08:10 2016 -0700

    As best I can tell, Clang 3.8.1 and 3.7.1 (and probably some other
    versions around these ones) seem to generate incorrect code for the
    ternary operator in some cases.  One use the ternary operator in the
    JPEG2000 encoder was encountering this problem.  This was causing the
    JPEG2000 encoder to generate all (or mostly) empty layers.	This has
    been fixed by converting the problematic use of the ternary operator
    into an if statement when compiling with Clang.

    In the case of Clang, the configuration header file was incorrectly
    setting
    JAS_ATTRIBUTE_DISABLE_USAN, as Clang was falsely detected as GCC.
    Note that Clang defines __GNUC__.  This problem has been fixed (or at
    least made less broken, depending on your point of view).

    Some cosmetic changes were made in various parts of the code to fix
    indentation and line-wrapping problems and such.

    Some corrections to the choice of integral types were made at various
    places in the code.

    A few changes to the test scripts were made to give better error
    messages.  Some extra test cases were added as well.

M	configure.ac
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t2enc.c
M	test/bin/run_test_1
M	test/bin/run_test_2

commit dc129830baf8cfe104454d3a6e426f55af51b1d3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Nov 2 07:38:28 2016 -0700

    Sometimes the abs function was being used in places where a type other
    than int was involved (e.g., int_fast32_t).
    This could lead to problems, depending on the size of int relative to
    other integral types.
    (One non-so-important assertion in jiv.c was using abs with doubles.)
    These problems have been fixed by using JAS_ABS instead of abs.

    The parameter JAS_IMAGE_INMEMTHRESH has been increased to 256 MB.
    It was previously set to 16 MB, which is quite low for most systems
    today.

    Some additional assertions were added in the asl/asr code to make some
    attempt at ensuring that shifting of negative numbers (which is in the
    land of UB) works as expected.

    A few int types were changed to jpc_fix_t in the JPC codec.
    This change is needed to avoid potential problems on systems where int
    and jpc_fix_t are different.

M	src/appl/imgcmp.c
M	src/appl/jiv.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_t1enc.c

commit 31b9f5a1a43b7a6e1726b615dba865dae4c7473c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 30 21:35:22 2016 -0700

    Added an --enable-msan option to configure for enabling the
    memory sanitizer with Clang.

M	configure.ac

commit c2c6c410f2a423261c3e89b23dc0f6989691c559
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 18:49:53 2016 -0700

    Bump the version number.

M	configure.ac

commit b032fe7fedd0b856bbe5bd7186fc1d22c03ade9f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 18:46:36 2016 -0700

    The function attribute for ignoring UB in certain places in the code
    was GCC specific.  Now, the case of Clang should be covered as well
    (although I cannot test this with the ancient version of Clang on my
    machine).

M	configure.ac
M	src/libjasper/include/jasper/jas_math.h

commit 4f0e63ea0d5ab4b8b384625e4a978f09c7e94a4c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 17:38:52 2016 -0700

    Changed some of the C compiler flag processing in configure.ac.
    Added a file to .gitignore.

M	.gitignore
A	ac_m4/m4_ax_append_flag.m4
A	ac_m4/m4_ax_cflags_gcc_option.m4
A	ac_m4/m4_ax_cflags_strict_prototypes.m4
A	ac_m4/m4_ax_cflags_warn_all.m4
A	ac_m4/m4_ax_check_compile_flag.m4
A	ac_m4/m4_ax_compiler_flags_cflags.m4
M	configure.ac

commit 3575007d2d3a2bd0132f2c171c1371dc06a811c4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 16:29:02 2016 -0700

    Made a few cosmetic changes.

M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	test/bin/run_test_4

commit 28734463f0da2027af800a2ce57e8d8cc46d738b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 13:42:25 2016 -0700

    More test script/data changes.

M	test/bin/decoder_tests
M	test/bin/run_test_4

commit 0831142c4fadb8e01d1a7b549813fbada00442af
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 13:28:43 2016 -0700

    More test script changes.

M	test/bin/run_test_4

commit af4bd7a476befb52ff8f638b79d55285f6463335
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 29 13:23:11 2016 -0700

    Added more information to error messages printed in some parts of
    the code.
    Added a few new debugging log messages.

    The PGX format appears to allow the plus/minus character in the header
    to be omitted (which would then default to plus).  This was not
    properly
    handled before and has now been corrected.

    One of the PGX error messages incorrectly claimed to be for the
    BMP codec.
    This has been fixed.

    Started to add some infrastructure for performing decoder tests.
    This will remain disabled until completed.

M	src/appl/imgcmp.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/pgx/pgx_dec.c
M	src/libjasper/pgx/pgx_enc.c
M	test/bin/Makefile.am
R100	test/bin/tests	test/bin/codec_tests
A	test/bin/decoder_tests
M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc
R098	test/bin/run_test	test/bin/run_codec_test
M	test/bin/run_test_3
A	test/bin/run_test_4
M	test/bin/utilities

commit e613bbb1612d3a82abc9b8d170c4d9a5d2ec0135
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 22:06:54 2016 -0700

    Bump the version number.

M	configure.ac

commit ac64e9db13596c59753e6b03917f21d0618a838f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 22:03:03 2016 -0700

    Made more changes to the test scripts.
    Enabled the script run_test_3 during "make check".

M	test/bin/Makefile.am
M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc
M	test/bin/run_test
M	test/bin/run_test_3
M	test/bin/utilities

commit 058447d37f91c92828cc40ffaad6a385c363566a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 20:30:08 2016 -0700

    Added another regression test case.

A	data/test/bad/00012-jasper-assert-calcstepsizes.jp2

commit ae977eeb1e7ffb3433e7e1a00e754ade81aad5f4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 20:26:31 2016 -0700

    Added another regression test case.

A	data/test/bad/00013-jasper-assert-jpc_pi_nextrpcl.jpc

commit 2b189525b0333ec50f79cfed2fa35f28cde7ae71
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 20:16:11 2016 -0700

    Add another regression test case.

A	data/test/bad/00016-jasper-assert-jas_matrix_t.jp2

commit f7038068550fba0e41e1d0c355787f1dcd5bf330
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 20:11:57 2016 -0700

    Added some missing sanity checks on the data in a SIZ marker segment.

M	src/libjasper/jpc/jpc_cs.c

commit dee1b64c2fa85186ca9cb10228e61b58c8691ede
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 07:20:49 2016 -0700

    Bump the version number.

M	configure.ac

commit a04a69c92eb6d92087d24dc80798ccc93065e237
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 07:04:38 2016 -0700

    Added missing file to the distribution.

M	test/bin/Makefile.am

commit 8b32c8ffd246d51c9d27d214a13c2159fc48366e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 27 06:36:12 2016 -0700

    Applied some patches to configure.ac from
    Fridrich Strba <fridrich.strba@suse.com>
    with minor editorial changes.

M	configure.ac

commit 823c2c8f8638148472d69e57619fcbb75702f773
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 23:40:09 2016 -0700

    More changes to test scripts.

M	test/bin/Makefile.am
M	test/bin/run_test_3

commit 339db4483a85118373fce4f2a9a2d08aaa21b57c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 23:35:09 2016 -0700

    More test script changes.

M	test/bin/jpcod

commit 9de9a14c043f3825db3130f831bca0672aace8e3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 23:21:13 2016 -0700

    More changes to test scripts.

M	test/bin/Makefile.am
M	test/bin/jpcod
M	test/bin/jpdec
M	test/bin/jpenc
M	test/bin/run_test
A	test/bin/run_test_3

commit efdf15ff48fcd1ce2d270df3d3b0bd7b9b56e0a2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 16:00:47 2016 -0700

    More changes to test scripts.

M	test/bin/run_test_1
M	test/bin/run_test_2
M	test/bin/utilities

commit 366cb80305bb4dee7e41374209781a88b151cdda
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 15:39:13 2016 -0700

    Fix another problem with VPATH builds.

M	test/bin/run_test_2
M	test/bin/utilities

commit ca8df82609678cb19bd752a17b7679057d2b64b7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 14:56:34 2016 -0700

    Added another simple test script.

M	test/bin/Makefile.am
M	test/bin/run_test_1
M	test/bin/run_test_2
A	test/bin/utilities

commit 8f82aa99696e5a1b42eb0b94a6d1d0a48c66f148
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 08:23:42 2016 -0700

    Bump the version number.

M	configure.ac

commit 69394955cf6fee204ec6d49e168bd66cdea06981
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 08:22:24 2016 -0700

    More test script changes.

M	test/bin/run_test_1

commit faecf2272449b0e5ca815efdb65648140252108e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 08:06:42 2016 -0700

    Fixed "make check" so it would work with VPATH builds.

M	test/bin/Makefile.am
M	test/bin/run_test_1

commit 48c7bb164b84d0a29022b06abf395331b243af13
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 06:29:55 2016 -0700

    The --enable-memory-limit option forced the user to give an expression
    for the memory limit as an argument (i.e., "yes" and "no" were
    not allowed).
    This has been fixed.  The value "yes" sets the limit to SIZE_MAX.
    The value "no" does what a reasonable person would expect (i.e.,
    disables
    the feature).

M	configure.ac

commit 2eb6fa64a6438b89f59b5a53ac645946bd24cf9f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 01:06:32 2016 -0700

    More changes to the run_test_1 script.

M	test/bin/run_test_1

commit 5d11cda0a451c385db393dfc185feeb04a44459d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 00:47:42 2016 -0700

    Adding more testing infrastructure.

M	test/bin/Makefile.am
A	test/bin/jpcod
A	test/bin/jpdec
A	test/bin/jpenc
A	test/bin/run_test
M	test/bin/run_test_1
A	test/bin/run_test_2
A	test/bin/tests

commit 665cde0f97b52c582895ccf64d9119e78742bc82
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 26 00:01:56 2016 -0700

    Added two files that were somehow lost from an earlier commit.

A	test/Makefile.am
A	test/bin/Makefile.am

commit b4b7e39da437293051ebe1ca4e2cfc349c78fa01
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 23:55:29 2016 -0700

    Adding more testing infrastructure.

M	Makefile.am
M	configure.ac
M	src/appl/Makefile.am
R093	src/appl/run_test_1	test/bin/run_test_1

commit 393c8ea3226351a90f7235f751531b9987e2c9bd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 16:28:19 2016 -0700

    Bump the version number.

M	configure.ac

commit ced6c01921b104154ba31d2c664dbff2b7adb179
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 16:23:26 2016 -0700

    Add another data file for testing.

A	data/test/bad/00007-jasper-assert-jas_matrix_t.jpc

commit ba2b9d000660313af7b692542afbd374c5685865
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 16:18:51 2016 -0700

    Ensure that not all tiles lie outside the image area.

M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c

commit e5463624837d08d404dc64bba74eca8ce0ded9a3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 13:18:30 2016 -0700

    Added a note on sanitizer options.

M	src/appl/run_test_1

commit 94219bf33a210b77828713fd0608db150316f81a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 13:17:23 2016 -0700

    Added a simple test script.

M	.gitignore
M	src/appl/Makefile.am
A	src/appl/run_test_1

commit a54f5df3961e02988259dea4f185f902ede5051a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 12:40:31 2016 -0700

    Added an --enable-memory-limit configure option.

M	.gitignore
M	configure.ac
D	src/libjasper/include/jasper/jas_config.h.in

commit 3bf56b90e931c69e37fd0f2608ff89a9ac6d362d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 09:25:06 2016 -0700

    I have manually merged and edited a few changes from Bob Friesenhahn
    (GraphicsMagick Maintainer) for Windows.

M	src/appl/jasper.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/include/jasper/jas_config2.h
M	src/libjasper/jpc/jpc_enc.c

commit c5fbf19c37264ae2fb74a08139b20d7cedf6888e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 09:19:08 2016 -0700

    Added some new mostly small image files (many of which are
    corrupt/invalid)
    that are useful for testing purposes.

A	data/test/bad/00003-jasper-assert-jas_matrix_t.jp2
A	data/test/bad/00005-jasper-assert-ras_getcmap.ras
A	data/test/bad/00006-jasper-assert-jpc_irct.jpc
A	data/test/bad/00008-jasper-assert-jpc_iict.jp2
A	data/test/bad/00009-jasper-assert-jpc_iict.jp2
A	data/test/bad/00014-jasper-assert-jpc_bitstream_getbits.jpc
A	data/test/bad/10_crash.bmp
A	data/test/bad/11_crash.jpc
A	data/test/bad/12_crash.jpc
A	data/test/bad/132_crashes.jp2
A	data/test/bad/1_crash.jpg
A	data/test/bad/2_crashes.bmp
A	data/test/bad/5_crashes.bmp
A	data/test/bad/642_crashes.jpc
A	data/test/bad/681_crashes.jp2
A	data/test/bad/8_crashes.jp2
A	data/test/bad/9_crash.bmp
A	data/test/bad/README
A	data/test/bad/invalid_free.jp2
A	data/test/bad/invalid_munmap.jp2
A	data/test/bad/jasper-abort-new.mif
A	data/test/bad/jasper-abort.mif
A	data/test/bad/jasper-assert-jpc_dec_tiledecode.jp2
A	data/test/bad/jasper-doublefree-mem_close.jpg
A	data/test/bad/jasper-heapoverflow-jpc_dec_cp_setfromcox.jp2
A	data/test/bad/jasper-heapoverflow-jpc_getuint16.jp2
A	data/test/bad/nullptr.mif
A	data/test/bad/poc.jp2
A	data/test/bad/poc_2.jp2
A	data/test/bad/sigsegv.jp2
A	data/test/good/README
A	data/test/good/assert-pnm_getsint.mif
A	data/test/good/jasper-nullptr-jpc_pi_destroy.jp2
A	data/test/good/jasper-segfault-nullpointer.mif

commit 7786c376bcc15bc421969bf1ea2d0891a18390c6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 07:37:49 2016 -0700

    The debugging function jpc_dec_dump did not consider the case that
    a band can have a null data pointer (when a band contains no samples).
    This caused a null pointer to be dereferenced.  This is now fixed.

M	src/libjasper/jpc/jpc_dec.c

commit 1e84674d95353c64e5c4c0e7232ae86fd6ea813b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 25 07:01:50 2016 -0700

    Changed the JPC bitstream code to more gracefully handle a request
    for a larger sized integer than what can be handled (i.e., return
    with an error instead of failing an assert).

M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c

commit dee11ec440d7908d1daf69f40a3324b27cf213ba
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 24 07:26:40 2016 -0700

    The component domains must be the same for the ICT/RCT in the
    JPC codec.
    This was previously enforced with an assertion.
    Now, it is handled in a more graceful manner.

M	src/libjasper/base/jas_image.c
M	src/libjasper/include/jasper/jas_image.h
M	src/libjasper/jpc/jpc_dec.c

commit 411a4068f8c464e883358bf403a3e25158863823
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 24 06:56:08 2016 -0700

    Fixed a few bugs in the RAS encoder and decoder where errors were
    tested
    with assertions instead of being gracefully handled.

M	src/libjasper/ras/ras_dec.c
M	src/libjasper/ras/ras_enc.c

commit c62014d09d2fdaaad24f40142914c155c669bf7a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 23 03:54:27 2016 -0700

    Bump the version number.

M	configure.ac

commit bdfe95a6e81ffb4b2fad31a76b57943695beed20
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 23 03:52:29 2016 -0700

    Fixed another problem with incorrect cleanup of JP2 box data upon
    error.

M	src/libjasper/jp2/jp2_cod.c

commit d91198abd00fc435a397fe6bad906a4c1748e9cf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 23 03:34:35 2016 -0700

    Fixed another integer overflow problem.

M	src/libjasper/jpc/jpc_dec.c

commit b9be3d9f35fccb7811ff68bbd6a57156f0192427
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 23 03:22:08 2016 -0700

    Replaced the remaining left and right shifts in the QMFB/MCT code
    that can result in undefined behavior (due to shifting negative
    values)
    with call to inline functions.  These functions collect all of the
    undefined behavior in one place and also allow code sanitizers
    to ignore
    this ugliness (via function attributes).

M	src/libjasper/jpc/jpc_mct.c
M	src/libjasper/jpc/jpc_qmfb.c

commit 92bab75eabec8b601065494ff4540dc3c0be13ea
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 23 02:54:10 2016 -0700

    Fixed a bug in the row/column split operations for QMFBs.

M	src/libjasper/jpc/jpc_qmfb.c

commit 8fc44b7b9b68cd2e57c0f18a5445cbf70481d1ce
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 19:27:50 2016 -0700

    Bump the version number.

M	configure.ac

commit e5b827c9611e43c704a1c4e33de21dea89d2145a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 19:20:27 2016 -0700

    Made the PNM decoder more gracefully handle the not-fully-supported
    feature of signed sample data.

M	src/libjasper/pnm/pnm_dec.c

commit 5e3a597fb34cc8de8f67e02048bab492373bfe9e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 18:45:52 2016 -0700

    The PNM decoder did not gracefully handle an invalid magic number
    in the
    PNM header.  This has now been fixed.

M	src/libjasper/pnm/pnm_cod.c
M	src/libjasper/pnm/pnm_cod.h
M	src/libjasper/pnm/pnm_dec.c

commit c2707f249ef6870acb76d4bb967a727902d55b65
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 18:20:51 2016 -0700

    Fixed many compiler warnings (including two uninitialized variables).
    Many of these changes were manually merged from:
	https://github.com/mdadams/jasper/pull/40
    Also, disabled warnings for unused variables.

M	configure.ac
M	src/appl/jiv.c
M	src/libjasper/base/jas_debug.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/pgx/pgx_cod.c

commit 0b9d78d1e080b38bd686c803d7494afcbee75826
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 16:58:21 2016 -0700

    Changed .gitattributes

M	.gitattributes

commit 83ed032a5d65773966f501684acee2ba558da46e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 15:07:01 2016 -0700

    Fixed a MIF decoder bug.

M	src/libjasper/mif/mif_cod.c

commit 7b65f4b481b1c5775ffabb9958fa33fc897cb9f4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 14:55:11 2016 -0700

    The imginfo command did not correctly handle an image with zero
    components.
    This is now fixed.

M	src/appl/imginfo.c

commit 988f8365f7d8ad8073b6786e433d34c553ecf568
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 14:36:49 2016 -0700

    Fixed an integer overflow problem.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c

commit c5e348fe606635378bce71b658e3e899517208c2
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 13:54:27 2016 -0700

    Bump the version number.

M	configure.ac

commit 65536647d380571d1a9a6c91fa03775fb5bbd256
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 22 13:44:09 2016 -0700

    A new experimental memory allocator has been introduced.
    The allocator
    is experimental in the sense that its API is not considered stable and
    the allocator may change or disappear entirely in future versions of
    the code.  This new allocator tracks how much memory is being used by
    jas_malloc and friends.  A maximum upper bound on the memory usage
    can be
    set via the experimental API provided and a default value can be
    set at
    build time as well.  Such functionality may be useful in run-time
    environments where the user wants to be able to limit the amount of
    memory used by JasPer.  This allocator is not used by default.
    Note: This feature needs C11 functionality.
    Note: The memory allocator is not thread safe in its current form.

    A new --memory-limit CLI option has been added to the jasper, imginfo,
    imgcmp, and jiv programs.  The option is only available when the
    code is
    built with the new memory allocator.

    The support for my old debug memory allocator from the 1990s has been
    purged from the code.  The debug memory allocator is probably not
    a very useful thing with the advent of GCC/Clang code sanitizers.

    The safe size_t integer functions no longer set their result upon
    failure.
    A safe subtract operation was also added.

M	configure.ac
M	src/appl/imgcmp.c
M	src/appl/imginfo.c
M	src/appl/jasper.c
M	src/appl/jiv.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/include/jasper/jas_math.h

commit 105dfe9ef11a971c3ca1ba0af653528af631c46a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Oct 21 04:05:42 2016 -0700

    Bumped the version number

M	configure.ac

commit d743f7e0ad901dc3419fc1042939a5454de96c16
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Oct 21 03:14:31 2016 -0700

    Changed the configure setup so that if GCC is used warnings and
    pedantic
    errors are enabled.

    Fixed some inconsistent use of quotes and angle brackets in include
    directives.

    Added experimental support in the jas_image code for images with
    signed
    sample values.  This code has not been tested yet, except to ensure
    it does not crash.

    Fixed a bug in the stream code (jas_stream) that caused memory to leak
    when an attempt to open a file failed.

    Commented out an assertion that causes a C99 pedantic build to
    fail, due
    to string literal that is too long.

    In the JPC QMFB/TSFB code, there were several places in function
    declarations/definitions where incorrect parameter types were used
    (e.g., int* used instead of jpc_fix_t*).
    Also, some function prototypes were missing.
    This is now fixed.

    Some files were missing includes for jas_debug.h (resulting in missing
    function prototypes).  This is now fixed.

    Some bugs in the MIF decoder have been fixed.
    Also, some improved debugging support has been added for the MIF
    decoder.

    Numerous cosmetic changes were also made to the code.

M	configure.ac
M	src/appl/jasper.c
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_getopt.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/include/jasper/jas_debug.h
M	src/libjasper/include/jasper/jas_fix.h
M	src/libjasper/jpc/jpc_bs.c
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_qmfb.h
M	src/libjasper/jpc/jpc_t1dec.c
M	src/libjasper/jpc/jpc_tsfb.c
M	src/libjasper/jpc/jpc_tsfb.h
M	src/libjasper/jpg/jpg_dummy.c
M	src/libjasper/mif/mif_cod.c
M	src/libjasper/pnm/pnm_dec.c

commit e24bdc716c3327b067c551bc6cfb97fd2370358d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Oct 21 00:00:27 2016 -0700

    Fixed a bug that resulted in the destruction of JP2 box data that
    had never
    been constructed in the first place.

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_dec.c

commit dfc60c97090f7519bf06de2b01f59cd8874ed34c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 20 23:13:27 2016 -0700

    Made some cosmetic changes

M	src/libjasper/jp2/jp2_dec.c

commit 44a524e367597af58d6265ae2014468b334d0309
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Thu Oct 20 07:34:32 2016 -0700

    The memory stream interface allows for a buffer size of zero.
    The case of a zero-sized buffer was not handled correctly, as it could
    lead to a double free.
    This problem has now been fixed (hopefully).
    One might ask whether a zero-sized buffer should be allowed at all,
    but this is a question for another day.

M	src/libjasper/base/jas_stream.c

commit efb88eb83089dcbfe0ae9d0de504b6fa24c1bc27
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 20:50:50 2016 -0700

    Bumped the version number

M	configure.ac

commit 6007fb594b9e83ea0d44aee9ebab72d839e6c466
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 20:47:27 2016 -0700

    Fixed a small memory leak for CRG marker segments.

M	src/libjasper/jpc/jpc_cs.c

commit 5d66894d2313e3f3469f19066e149e08ff076698
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 20:13:06 2016 -0700

    Fixed a problem with a null pointer dereference in the BMP decoder.

M	src/libjasper/base/jas_seq.c
M	src/libjasper/bmp/bmp_dec.c

commit cfa945c7246407cb8ceeb7f6cb205c60295c906f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 19:07:35 2016 -0700

    Introduced jas_fast32_asl, jas_fast32_asr, and friends in order
    to pull
    all undefined behavior for left and right shift of (negative)
    integers into
    a small number of places and provide a means to have UBSAN ignore this
    ugliness.

M	src/libjasper/base/jas_seq.c
M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_fix.h
M	src/libjasper/jpc/jpc_mct.c

commit 2e82fa00466ae525339754bb3ab0a0474a31d4bd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 17:57:40 2016 -0700

    Fixed an integral type promotion problem by adding a JAS_CAST.
    Modified the jpc_tsfb_synthesize function so that it will be a
    noop for
    an empty sequence (in order to avoid dereferencing a null pointer).

M	src/libjasper/include/jasper/jas_math.h
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_tsfb.c

commit 95e510c4c05ad76fbe485ec242b3ddf6e1a3141e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 15:35:15 2016 -0700

    Bump the version number.

M	configure.ac

commit 0c59a93f1b6433f259321939ee5f49eb45aa1e22
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 15:29:20 2016 -0700

    Added some extra debugging log messages for memory
    allocation/deallocation.

M	src/libjasper/base/jas_malloc.c

commit 33cc2cfa51a8d0fc3116d16cc1d8fc581b3f9e8d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 15:02:20 2016 -0700

    The RCT and ICT require at least three components.
    Previously, this was enforced with an assertion.
    Now, the assertion has been replaced with a proper error check.

M	src/libjasper/jpc/jpc_dec.c

commit 69a1439a5381e42b06ec6a06ed2675eb793babee
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 14:40:12 2016 -0700

    The member (pi) in tiles was not properly initialized.
    This is now corrected.
    Also, each tile is now only cleaned up once.

M	src/libjasper/jpc/jpc_dec.c

commit d6b3687fa85973f9fd3b7932fabf4ba00c386093
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 14:36:13 2016 -0700

    Added a .gitattributes file to mark PNM files as binary.

A	.gitattributes

commit 67f309a5b527ef850f2b3ac3db73ca4cebf286bb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 13:42:52 2016 -0700

    Initialize uninitialized variable.

M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c

commit ec99998a4af64e13ba8a072b69005955a3f47d36
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 12:18:50 2016 -0700

    Added some options to configure for enabling various code sanitizers.

M	configure.ac

commit d791ac388c31b5861d9257998191012ca8c279a2
Merge: 11ef9d4 2d50fcd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 11:10:13 2016 -0700

    Merge branch 'dlemstra-Windows'

commit 2d50fcdd59f22fbd9980ccb23a6683420c16bd64
Merge: 11ef9d4 abc24af
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 11:08:21 2016 -0700

    Merge branch 'Windows' of https://github.com/dlemstra/jasper into
    dlemstra-Windows

commit 11ef9d44ac9795f446bf1ca8b76a4d8c72bdcadf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 11:05:38 2016 -0700

    Updated year in LICENSE

M	LICENSE

commit 74e5352ad1039b458ee050ce2670ba5bf812ffa8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 10:58:52 2016 -0700

    Added some range checks on parameters in some JPC marker segments.

M	src/libjasper/jpc/jpc_cs.c

commit 7df7cf2d4e82280b2239f309d88a3037349617d3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 09:22:14 2016 -0700

    Added some range checks on parameters in some JPC marker segments.

M	src/libjasper/jpc/jpc_cs.c

commit b35a05635e56f554870ce85f64293a3868793f69
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 08:42:25 2016 -0700

    Fixed potential integer overflow problem.

M	src/libjasper/base/jas_image.c

commit f596a0766825b48cdc07b28d2051977a382cfb95
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 08:23:00 2016 -0700

    Added some functions for safe integer arithmetic (for size_t)
    in jas_math.h.

M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_math.h

commit acb6d101a2ab605bff1c449fee18aace06ec0b64
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 01:13:22 2016 -0700

    Bump the version number

M	configure.ac

commit eca54d65b29d72f392e04d6a9b8e9e85714366fa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 01:11:59 2016 -0700

    Fixed some indentation issues.

M	src/libjasper/jpc/jpc_dec.c

commit 13cf3c8a8618efbd67f034d00bd72b0ab1245bad
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 19 00:15:00 2016 -0700

    Converted a few raw mallocs to use jas_alloc2.
    Added code in the jas_* memory allocation/deallocation
    functions to generate debugging log messages.
    Only disable JAS_DBGLOG message if NDEBUG is defined.

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/include/jasper/jas_debug.h

commit 74b812fb68b2e4b8d1c7feee64403dd145f18308
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 22:50:20 2016 -0700

    Added more error/log messages for debugging in the JPEG decoder.

M	src/libjasper/jpg/jpg_dec.c

commit 5bcda98058b448c4b687e6c2525b258e9c24735e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 22:28:51 2016 -0700

    Added some extra log messages for debugging.
    Added check of value returned by jas_matrix_create.

M	src/libjasper/jpg/jpg_dec.c

commit 7489ff8a6adfba8bc305f6e988c799d1da73d7fa
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 21:37:08 2016 -0700

    Applied fix for VPATH builds

M	src/appl/Makefile.am
M	src/libjasper/base/Makefile.am
M	src/libjasper/bmp/Makefile.am
M	src/libjasper/jp2/Makefile.am
M	src/libjasper/jpc/Makefile.am
M	src/libjasper/jpg/Makefile.am
M	src/libjasper/mif/Makefile.am
M	src/libjasper/pgx/Makefile.am
M	src/libjasper/pnm/Makefile.am
M	src/libjasper/ras/Makefile.am

commit ad63983f1291f159e4c21dcdb0b2b4a8e0f8d30f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 20:38:42 2016 -0700

    Did some configure.ac cleanup

A	ac_m4/m4_ax_c99_inline.m4
A	ac_m4/m4_ax_c_arithmetic_rshift.m4
M	configure.ac

commit abc24af2f9be72070a1a609139ab771fd3960486
Author: dirk <dirk@git.imagemagick.org>
Date:	Tue Oct 18 23:38:02 2016 +0200

    Fixed 'inline' for older version of Visual Studio.

M	src/libjasper/include/jasper/jas_config2.h

commit 668e68295306a78a5e428df2ed80027c4eece964
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 08:11:07 2016 -0700

    Fix a potential double fclose of a FILE* in the JPEG decoder.

M	src/libjasper/base/jas_stream.c
M	src/libjasper/jpg/jpg_dec.c

commit 316e76f881b7fcdca36566096a1d50bbaea7a50c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 18 07:54:51 2016 -0700

    Made some minor cosmetic changes.

M	src/libjasper/base/jas_image.c

commit 883f85876a463019a16b6d38dd9afc022d1f07cf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 17 23:48:58 2016 -0700

    More .gitignore file changes.

M	.gitignore
D	ac_m4/.gitignore
D	pkgconfig/.gitignore
D	src/appl/.gitignore
D	src/libjasper/include/jasper/.gitignore

commit de4e3953fd3ef9d539c5187b7988e8750b3d67c9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 17 23:03:17 2016 -0700

    Added/modified a few .gitignore files

M	.gitignore
A	ac_m4/.gitignore
A	pkgconfig/.gitignore
A	src/appl/.gitignore
A	src/libjasper/include/jasper/.gitignore

commit f9ccc661fd1094c8d1c3df38b51295677d268dbf
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 17 22:46:51 2016 -0700

    Added top-level .gitignore file

A	.gitignore

commit dc65b8f58f98609ea65f39f4f2621af2f15c2a9c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Oct 17 05:25:31 2016 -0700

    Bump the version number

M	configure.ac

commit 5971949c0c88281c7e5044c367a9d03597fca3fd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 16:53:25 2016 -0700

    Changed jas_types.h to assume that header files required by the
    C99 standard
    are present.

M	src/libjasper/include/jasper/jas_types.h

commit e85c498d29cde9d5062e7aaae5a6bf018e80552d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 11:56:53 2016 -0700

    Bumped the version number

M	configure.ac

commit 4031ca321d8cb5798c316ab39c7a5dc88a61fdd7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 11:32:01 2016 -0700

    Incorporated changes from patch
    jasper-1.900.3-libjasper-stepsizes-overflow.patch

M	src/libjasper/jpc/jpc_cs.c

commit 0d22460816ea58e74a124158fa6cc48efb709a47
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 11:13:32 2016 -0700

    Incorporated changes from patch
    jasper-1.900.3-CVE-2011-4516-CVE-2011-4517-CERT-VU-887409.patch

M	src/libjasper/jpc/jpc_cs.c

commit 9607df5d29f4b307445e9bc16fadd70ee7ef3db8
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 10:49:12 2016 -0700

    Incorporated changes from patch
    jasper-1.900.3-Coverity-RESOURCE_LEAK.patch

M	src/appl/imgcmp.c
M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/bmp/bmp_enc.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/mif/mif_cod.c

commit 944036a199adef07aa18670075bc3f08d45090dd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 10:19:32 2016 -0700

    Incorporated patch jasper-1.900.3-Coverity-NULL_RETURNS.patch

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/include/jasper/jas_seq.h
M	src/libjasper/jp2/jp2_cod.c

commit fa19cadf7e16233427bfc217d6f913892d5f1fed
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 09:42:06 2016 -0700

    Fixed memory leak in jiv.

M	src/appl/jiv.c
M	src/libjasper/base/jas_icc.c

commit 722e943426ce74a8d7fc5e85267cbf603546b502
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Oct 16 08:23:14 2016 -0700

    Fixed indentation.

M	src/libjasper/base/jas_stream.c

commit 8f62b4761711d036fd8964df256b938c809b7fca
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 20:32:23 2016 -0700

    Fixed a sanitizer failure in the BMP codec.
    Also, added a --debug-level command line option to the imginfo command
    for debugging purposes.

M	src/appl/imginfo.c
M	src/libjasper/bmp/bmp_dec.c

commit 4549e056f82d182a51e30ab93c30aa5f9ce72b2f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 14:03:36 2016 -0700

    Bumped the version number

M	configure.ac

commit 6109f6a4e731085f50aca1a483fa90668e3203d9
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 13:57:40 2016 -0700

    Added some missing type casts to ensure promotion to the correct
    unsigned type to avoid undefined behavior (and stop warnings from
    USAN).

M	src/libjasper/mif/mif_cod.c
M	src/libjasper/ras/ras_dec.c

commit 8b6e9a08373d3bed83a220e0b9382416994106b3
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 13:26:14 2016 -0700

    Use C99

M	configure.ac

commit 679d0843280a1eab95eb1dc14d50e280d6a7edad
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 13:03:55 2016 -0700

    Fixed a linking problem with newer versions of GCC.

M	src/libjasper/base/jas_malloc.c

commit 31321cdb8a356e661c1c933ea8fdfe2f164ca910
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 12:49:35 2016 -0700

    Changed --enable-debug configure option to enable some GCC sanitizers.

M	configure.ac

commit d8c2604cd438c41ec72aff52c16ebd8183068020
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 12:22:28 2016 -0700

    Added range check on XRsiz and YRsiz fields of SIZ marker segment.

M	src/libjasper/jpc/jpc_cs.c

commit 3c55b399c36ef46befcb21e4ebc4799367f89684
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sat Oct 15 10:42:19 2016 -0700

    At many places in the code, jas_malloc or jas_recalloc was being
    invoked with the size argument being computed in a manner that
    would not
    allow integer overflow to be detected.  Now, these places in the code
    have been modified to use special-purpose memory allocation functions
    (e.g., jas_alloc2, jas_alloc3, jas_realloc2) that check for overflow.
    This should fix many security problems.

M	src/libjasper/base/jas_cm.c
M	src/libjasper/base/jas_icc.c
M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_malloc.c
M	src/libjasper/base/jas_seq.c
M	src/libjasper/base/jas_stream.c
M	src/libjasper/base/jas_string.c
M	src/libjasper/bmp/bmp_dec.c
M	src/libjasper/include/jasper/jas_malloc.h
M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_dec.c
M	src/libjasper/jp2/jp2_enc.c
M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_enc.c
M	src/libjasper/jpc/jpc_mqdec.c
M	src/libjasper/jpc/jpc_mqenc.c
M	src/libjasper/jpc/jpc_qmfb.c
M	src/libjasper/jpc/jpc_t1enc.c
M	src/libjasper/jpc/jpc_t2cod.c
M	src/libjasper/jpc/jpc_t2dec.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/jpc/jpc_tagtree.c
M	src/libjasper/jpc/jpc_util.c
M	src/libjasper/mif/mif_cod.c

commit 779ddf80c2a9021d5ed134319c54bc38ca9ef9b6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 12:40:22 2016 -0700

    Bump the version number.

M	configure.ac

commit 4bb93a6c49da7c1b6ad2acb60b18954a6547c637
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 12:31:54 2016 -0700

    Add fixes for CVE-2014-8137.

M	src/libjasper/base/jas_icc.c
M	src/libjasper/jp2/jp2_dec.c

commit c87ad330a8b8d6e5eb0065675601fdfae08ebaab
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 11:37:33 2016 -0700

    Added fix for CVE-2016-2089.

M	src/libjasper/base/jas_image.c
M	src/libjasper/base/jas_seq.c

commit 1184d7e6e604d2340dac7b91077d0faee05579ec
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 07:59:22 2016 -0700

    Moved abort into default case of switch statement.

M	src/libjasper/jpc/jpc_t1cod.c

commit 7266072ad79a8555dfd619e7bbe8a3f1d0b58ee9
Merge: 3ffc4e0 fadd6c4
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 07:52:27 2016 -0700

    Merge branch 'hughsie-wip/hughsie/Coverity-UNREACHABLE'

commit fadd6c45c6941a222c692eff7df71a6dfaa08fec
Merge: 3ffc4e0 ac401b7
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 07:48:44 2016 -0700

    Merge branch 'wip/hughsie/Coverity-UNREACHABLE'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/Coverity-UNREACHABLE

commit 3ffc4e09007e1a830828eb994c11c3b8c8237249
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Oct 12 00:09:33 2016 -0700

    Remove auto-generated file aclocal.m4 from repository.

D	aclocal.m4

commit 063ab4e30d9dff0b1142ca659f4af14ee1ec4296
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 4 20:19:58 2016 -0700

    Bump the version number

M	configure.ac

commit 2f7f2d1adc1100b41d96d04cc548fc55832cb645
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 4 20:13:25 2016 -0700

    More changes for an automatically generated ChangeLog

M	NEWS

commit c0cdb38de26763acf5c6c11960458beced4215e5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Tue Oct 4 19:58:03 2016 -0700

    Added automatic ChangeLog generation from git commit history

M	Makefile.am
A	ac_m4/m4_ax_generate_changelog.m4
M	configure.ac

commit be0e91a38b701a0daa943daee99436b63cc7db33
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Sun Sep 25 14:44:28 2016 -0700

    Modified the installation instructions in the INSTALL file to explain
    how to install the JasPer software directly from the files in the
    git repository (for users who might be unfamiliar with Autotools).

M	INSTALL

commit 30a262b65b4f6fdb965caaa9d44ae8470cd6d577
Merge: 9d3a5fc 773e70c
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:30:22 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2016-1867'

commit 773e70cbab3ca723bd6431a33c9601417c8e39cd
Merge: 9d3a5fc 980da43
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:28:41 2016 -0700

    Merge branch 'wip/hughsie/CVE-2016-1867'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2016-1867

commit 9d3a5fc8aa37e09d83772f122d43cb2b2428d9d7
Merge: 8c0cb3e 7793a89
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:24:47 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2014-9029'

commit 7793a893c252929b4808624655dde8d04ebe4adc
Merge: 8c0cb3e 5dbe57e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:22:21 2016 -0700

    Merge branch 'wip/hughsie/CVE-2014-9029'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2014-9029

commit 8c0cb3e569094d064fc34891b8ec035b2944789a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:18:28 2016 -0700

    Use a gzipped tar file for distribution

M	Makefile.am

commit 9cc3435a48ceaf26ad6e35458e47bac9ab0ae1cb
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 23:00:32 2016 -0700

    Removed another derived file

D	src/libjasper/include/jasper/jas_config.h

commit 63dea34b7ea5fb93cb68d2a5268d9209e9c1231e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 22:53:09 2016 -0700

    Removed some derived files

D	Makefile.in
D	acaux/config.guess
D	acaux/config.sub
D	acaux/depcomp
D	acaux/install-sh
D	acaux/ltmain.sh
D	acaux/missing
D	acaux/mkinstalldirs
D	configure
D	jasper.spec
D	src/Makefile.in
D	src/appl/Makefile.in
D	src/libjasper/Makefile.in
D	src/libjasper/base/Makefile.in
D	src/libjasper/bmp/Makefile.in
D	src/libjasper/include/Makefile.in
D	src/libjasper/include/jasper/Makefile.in
D	src/libjasper/jp2/Makefile.in
D	src/libjasper/jpc/Makefile.in
D	src/libjasper/jpg/Makefile.in
D	src/libjasper/mif/Makefile.in
D	src/libjasper/pgx/Makefile.in
D	src/libjasper/pnm/Makefile.in
D	src/libjasper/ras/Makefile.in
D	src/msvc/Makefile.in

commit 2177d4859fc131dda4006109159fe8c293ae42e0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 22:16:46 2016 -0700

    Removed HAVE_VLA stuff from various configuration and build files.
    Also, changed a few INCLUDES to AM_CPPFLAGS in automake files
    (since INCLUDES
    is deprecated).

M	Makefile.in
M	acaux/ltmain.sh
M	aclocal.m4
M	configure
M	configure.ac
M	src/Makefile.in
M	src/appl/Makefile.am
M	src/appl/Makefile.in
M	src/libjasper/Makefile.in
M	src/libjasper/base/Makefile.am
M	src/libjasper/base/Makefile.in
M	src/libjasper/bmp/Makefile.am
M	src/libjasper/bmp/Makefile.in
M	src/libjasper/include/Makefile.in
M	src/libjasper/include/jasper/Makefile.in
M	src/libjasper/include/jasper/jas_config.h
M	src/libjasper/include/jasper/jas_config.h.in
M	src/libjasper/jp2/Makefile.am
M	src/libjasper/jp2/Makefile.in
M	src/libjasper/jpc/Makefile.am
M	src/libjasper/jpc/Makefile.in
M	src/libjasper/jpg/Makefile.am
M	src/libjasper/jpg/Makefile.in
M	src/libjasper/mif/Makefile.am
M	src/libjasper/mif/Makefile.in
M	src/libjasper/pgx/Makefile.am
M	src/libjasper/pgx/Makefile.in
M	src/libjasper/pnm/Makefile.am
M	src/libjasper/pnm/Makefile.in
M	src/libjasper/ras/Makefile.am
M	src/libjasper/ras/Makefile.in
M	src/msvc/Makefile.in

commit e31a992d3869037680bd1e18305146f79a1569ee
Merge: 268ab23 137628a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 21:41:58 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2014-8158'
    I am merging some changes to eliminate the use of VLAs in the
    filter bank
    code (for security reasons).

commit 137628a9ebc798b8681f900adf83a8a9953d156e
Merge: 268ab23 0d64bde
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 21:36:39 2016 -0700

    Merge branch 'wip/hughsie/CVE-2014-8158'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2014-8158

commit 268ab239b23542552742ae4ab29052dd1e88072c
Merge: 95c5a55 2144881
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 21:23:50 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2014-8157'

commit 214488123f5746bc4a56967d1632b068ef4ef497
Merge: 95c5a55 3fd4067
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Wed Sep 21 21:22:30 2016 -0700

    Merge branch 'wip/hughsie/CVE-2014-8157'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2014-8157

commit 95c5a55f1a166b1553c6e8259ee851d3764e3455
Merge: c966a36 3933ab6
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:59:01 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2014-8138'

commit 3933ab687ca9a0abcaa8bc769088d41d72c6013a
Merge: c966a36 c54113d
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:57:23 2016 -0700

    Merge branch 'wip/hughsie/CVE-2014-8138'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2014-8138

commit c966a3642f3eb7aac1376505c1d1087a7e15ff59
Merge: fc6d908 d23c795
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:52:16 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2015-5221'

commit d23c7955bc8ddb12e88036ada09443ce54cd6495
Merge: fc6d908 df5d286
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:50:16 2016 -0700

    Merge branch 'wip/hughsie/CVE-2015-5221'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2015-5221

commit fc6d908725af4fb674fcaf897c809dc12b522585
Merge: e9e328d ad3a21e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:48:25 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2016-2116'

commit ad3a21efb4750872ef86308c2cae3a6be1334348
Merge: e9e328d 142245b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:47:24 2016 -0700

    Merge branch 'wip/hughsie/CVE-2016-2116'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2016-2116

commit e9e328de659958ad8b15af736eb907772d73ad24
Merge: fe94610 876698f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:45:09 2016 -0700

    Merge branch 'hughsie-wip/hughsie/Coverity-FORWARD_NULL'

commit 876698f9f80a4cc540470f3ec51f70c800eec504
Merge: fe94610 3e304e5
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:40:36 2016 -0700

    Merge branch 'wip/hughsie/Coverity-FORWARD_NULL'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/Coverity-FORWARD_NULL

commit fe94610fed75619b537c5c4b820e8e6cbcc02d6c
Merge: b8b9fbd b87cb52
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:34:28 2016 -0700

    Merge branch 'hughsie-wip/hughsie/jpc_dec.c'

commit b87cb5259c088c7c383cb084d215e71c0ac6c5a7
Merge: b8b9fbd d5314a0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:34:03 2016 -0700

    Merge branch 'wip/hughsie/jpc_dec.c' of
    https://github.com/hughsie/jasper into hughsie-wip/hughsie/jpc_dec.c

commit b8b9fbd98eab117108f4da1760644ae871c56e8b
Merge: e72cddd 2a66a50
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:28:51 2016 -0700

    Merge branch 'hughsie-wip/hughsie/Coverity-CHECKED_RETURN'

commit 2a66a504dae1cb485c95505c222d3db9282fef22
Merge: e72cddd f1b6eba
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 15:28:16 2016 -0700

    Merge branch 'wip/hughsie/Coverity-CHECKED_RETURN'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/Coverity-CHECKED_RETURN

commit e72cddde1ab3156fa5d199728eafab4633659e47
Merge: 462c382 5d4290e
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 08:06:38 2016 -0700

    Merge branch 'hughsie-wip/hughsie/pkgconfig'

commit 5d4290eeb81ecd79d45fc1969a7e0dfdba4a1092
Merge: 462c382 3cb180b
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 08:06:25 2016 -0700

    Merge branch 'wip/hughsie/pkgconfig' of
    https://github.com/hughsie/jasper into hughsie-wip/hughsie/pkgconfig

commit 462c38279036a5c480db9fac73ddb31d936d0bcb
Merge: 00b33e9 e8f510f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:55:19 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2016-1577'

commit e8f510fc36bd22af6bd84113669406b218ab4d2d
Merge: 00b33e9 74ea22a
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:54:54 2016 -0700

    Merge branch 'wip/hughsie/CVE-2016-1577'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2016-1577

commit 00b33e9e2ba02c32f76d8a231bce5f33b4809350
Merge: f40b31c 57c9355
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:48:46 2016 -0700

    Merge branch 'hughsie-wip/hughsie/Coverity-UNUSED_VALUE'

commit 57c9355612d917214dc223e3383c4bee89383fa3
Merge: f40b31c 0a5a633
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:48:17 2016 -0700

    Merge branch 'wip/hughsie/Coverity-UNUSED_VALUE'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/Coverity-UNUSED_VALUE

commit f40b31c7a54f10eb232516ef8774dfc55be1987f
Merge: 530805c b1c9b99
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:43:00 2016 -0700

    Merge branch 'hughsie-wip/hughsie/Coverity-BAD_SIZEOF'

commit b1c9b99c246e8341169c3a1308204d725f412f7d
Merge: 530805c 28b05c0
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:42:25 2016 -0700

    Merge branch 'wip/hughsie/Coverity-BAD_SIZEOF'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/Coverity-BAD_SIZEOF

commit 530805cec4e099e8a0816a6ff481ea67a2832328
Merge: b702259 413a496
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:36:46 2016 -0700

    Merge branch 'hughsie-wip/hughsie/CVE-2008-3522'

commit 413a496481e53ba75d9808085a6e988a86e684dd
Merge: b702259 d678ccd
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:35:39 2016 -0700

    Merge branch 'wip/hughsie/CVE-2008-3522'
    of https://github.com/hughsie/jasper into
    hughsie-wip/hughsie/CVE-2008-3522

commit b70225947cd1eb9c1dee5e0844389eeb9f72dd64
Merge: b13b8c8 58c3a5f
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Mon Sep 19 07:27:27 2016 -0700

    Merge branch 'hughsie-wip/hughsie/1.701.0-GL'

commit 58c3a5fe07701726c941551b3d1547f4ad449d10
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    1.701.0-GL

M	configure
M	configure.ac

commit 3cb180b862d36b73f56e111ec2e99333b05ac6ae
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    pkgconfig

M	Makefile.am
M	configure.ac
A	pkgconfig/Makefile.am
A	pkgconfig/jasper.pc.in

commit ac401b7bae573b66aa9d366c9a0b46750a2534a7
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    Coverity-UNREACHABLE

M	src/libjasper/jp2/jp2_cod.c
M	src/libjasper/jp2/jp2_enc.c

commit 980da43d8d388a67cac505e734423b2a5aa4cede
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2016-1867

M	src/libjasper/jpc/jpc_t2cod.c

commit 5dbe57e4808bea4b83a97e2f4aaf8c91ab6fdecb
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2014-9029

M	src/libjasper/jpc/jpc_dec.c

commit 0d64bde2b3ba7e1450710d540136a8ce4199ef30
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2014-8158

M	src/libjasper/jpc/jpc_qmfb.c

commit 3fd4067496d8ef70f11841d7492ddeb1f1d56915
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2014-8157

M	src/libjasper/jpc/jpc_dec.c

commit c54113d6fa49f8f26d1572e972b806276c5b05d5
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2014-8138

M	src/libjasper/jp2/jp2_dec.c

commit df5d2867e8004e51e18b89865bc4aa69229227b3
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2015-5221

M	src/libjasper/mif/mif_cod.c

commit 142245b9bbb33274a7c620aa7a8f85bc00b2d68e
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2016-2116

M	src/libjasper/base/jas_icc.c

commit 3e304e5fbd4cfae7d9b8335a3e86c3be8b04f976
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    Coverity-FORWARD_NULL

M	src/libjasper/jpc/jpc_dec.c
M	src/libjasper/jpc/jpc_t1enc.c

commit d5314a0d25669a01f38051d456779d6075642dfc
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    jpc_dec.c

M	src/libjasper/jpc/jpc_dec.c

commit f1b6ebaa4ee049d966a9094428096b8f72cd492a
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    Coverity-CHECKED_RETURN

M	src/libjasper/jpc/jpc_cs.c
M	src/libjasper/jpc/jpc_t2enc.c
M	src/libjasper/ras/ras_enc.c

commit 74ea22a7a4fe186e0a0124df25e19739b77c4a29
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2016-1577

M	src/libjasper/base/jas_icc.c

commit 0a5a633bdda91d765f95324cd11fff2582a604ae
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    Coverity-UNUSED_VALUE

M	src/libjasper/base/jas_icc.c
M	src/libjasper/jpc/jpc_enc.c

commit 28b05c0ba53c2dc1dccae13007281470b0e59f61
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    Coverity-BAD_SIZEOF

M	src/libjasper/jpc/jpc_enc.c

commit d678ccd27b8a062e3bfd4c80d8ce2676a8166a27
Author: Richard Hughes <richard@hughsie.com>
Date:	Mon Sep 19 10:03:36 2016 +0100

    CVE-2008-3522

M	src/libjasper/base/jas_stream.c

commit b13b8c86be870107f83b0a9a4b77557cb2b65d69
Author: Michael Adams <mdadams@ece.uvic.ca>
Date:	Fri Sep 16 12:37:51 2016 -0700

    Initial commit

A	COPYRIGHT
A	ChangeLog
A	INSTALL
A	LICENSE
A	Makefile.am
A	Makefile.in
A	NEWS
A	README
A	acaux/config.guess
A	acaux/config.sub
A	acaux/depcomp
A	acaux/install-sh
A	acaux/ltmain.sh
A	acaux/missing
A	acaux/mkinstalldirs
A	aclocal.m4
A	configure
A	configure.ac
A	data/colorprofiles/README
A	data/colorprofiles/erimm.icm
A	data/colorprofiles/esrgb.icm
A	data/colorprofiles/esrgbgrey.icm
A	data/colorprofiles/grey.icm
A	data/colorprofiles/greyromm.icm
A	data/colorprofiles/romm.icm
A	data/colorprofiles/sgray.icm
A	data/colorprofiles/srgb.icm
A	data/colorprofiles/sycc.icm
A	data/images/README
A	data/images/example.mif
A	data/images/example.mif0
A	data/images/feep.pnm
A	data/images/feep2.pnm
A	data/images/goldenears.bmp
A	data/images/goldenears.jpg
A	data/images/goldenears.pnm
A	data/images/goldenears.ras
A	data/images/goldenears_gray.jpg
A	data/images/goldenears_gray.pnm
A	data/images/goldenears_gray.ras
A	data/images/small_16x1.pnm
A	data/images/small_1x1.pnm
A	data/images/stawamuschief.pnm
A	data/images/stawamuschief_gray.pnm
A	data/images/test.pnm
A	doc/README
A	doc/jasper.pdf
A	doc/jpeg2000.pdf
A	jasper.spec
A	jasper.spec.in
A	src/Makefile.am
A	src/Makefile.in
A	src/README
A	src/appl/Makefile.am
A	src/appl/Makefile.in
A	src/appl/dummy.c
A	src/appl/dummy2.c
A	src/appl/imgcmp.1
A	src/appl/imgcmp.c
A	src/appl/imginfo.1
A	src/appl/imginfo.c
A	src/appl/jasper.1
A	src/appl/jasper.c
A	src/appl/jiv.1
A	src/appl/jiv.c
A	src/appl/tmrdemo.c
A	src/libjasper/Makefile.am
A	src/libjasper/Makefile.in
A	src/libjasper/README
A	src/libjasper/base/Makefile.am
A	src/libjasper/base/Makefile.in
A	src/libjasper/base/jas_cm.c
A	src/libjasper/base/jas_debug.c
A	src/libjasper/base/jas_getopt.c
A	src/libjasper/base/jas_icc.c
A	src/libjasper/base/jas_iccdata.c
A	src/libjasper/base/jas_image.c
A	src/libjasper/base/jas_init.c
A	src/libjasper/base/jas_malloc.c
A	src/libjasper/base/jas_seq.c
A	src/libjasper/base/jas_stream.c
A	src/libjasper/base/jas_string.c
A	src/libjasper/base/jas_tmr.c
A	src/libjasper/base/jas_tvp.c
A	src/libjasper/base/jas_version.c
A	src/libjasper/bmp/Makefile.am
A	src/libjasper/bmp/Makefile.in
A	src/libjasper/bmp/bmp_cod.c
A	src/libjasper/bmp/bmp_cod.h
A	src/libjasper/bmp/bmp_dec.c
A	src/libjasper/bmp/bmp_enc.c
A	src/libjasper/bmp/bmp_enc.h
A	src/libjasper/dummy.c
A	src/libjasper/include/Makefile.am
A	src/libjasper/include/Makefile.in
A	src/libjasper/include/jasper/Makefile.am
A	src/libjasper/include/jasper/Makefile.in
A	src/libjasper/include/jasper/jas_cm.h
A	src/libjasper/include/jasper/jas_config.h
A	src/libjasper/include/jasper/jas_config.h.in
A	src/libjasper/include/jasper/jas_config2.h
A	src/libjasper/include/jasper/jas_debug.h
A	src/libjasper/include/jasper/jas_fix.h
A	src/libjasper/include/jasper/jas_getopt.h
A	src/libjasper/include/jasper/jas_icc.h
A	src/libjasper/include/jasper/jas_image.h
A	src/libjasper/include/jasper/jas_init.h
A	src/libjasper/include/jasper/jas_malloc.h
A	src/libjasper/include/jasper/jas_math.h
A	src/libjasper/include/jasper/jas_seq.h
A	src/libjasper/include/jasper/jas_stream.h
A	src/libjasper/include/jasper/jas_string.h
A	src/libjasper/include/jasper/jas_tmr.h
A	src/libjasper/include/jasper/jas_tvp.h
A	src/libjasper/include/jasper/jas_types.h
A	src/libjasper/include/jasper/jas_version.h
A	src/libjasper/include/jasper/jasper.h
A	src/libjasper/jp2/Makefile.am
A	src/libjasper/jp2/Makefile.in
A	src/libjasper/jp2/jp2_cod.c
A	src/libjasper/jp2/jp2_cod.h
A	src/libjasper/jp2/jp2_dec.c
A	src/libjasper/jp2/jp2_dec.h
A	src/libjasper/jp2/jp2_enc.c
A	src/libjasper/jpc/Makefile.am
A	src/libjasper/jpc/Makefile.in
A	src/libjasper/jpc/jpc_bs.c
A	src/libjasper/jpc/jpc_bs.h
A	src/libjasper/jpc/jpc_cod.h
A	src/libjasper/jpc/jpc_cs.c
A	src/libjasper/jpc/jpc_cs.h
A	src/libjasper/jpc/jpc_dec.c
A	src/libjasper/jpc/jpc_dec.h
A	src/libjasper/jpc/jpc_enc.c
A	src/libjasper/jpc/jpc_enc.h
A	src/libjasper/jpc/jpc_fix.h
A	src/libjasper/jpc/jpc_flt.h
A	src/libjasper/jpc/jpc_math.c
A	src/libjasper/jpc/jpc_math.h
A	src/libjasper/jpc/jpc_mct.c
A	src/libjasper/jpc/jpc_mct.h
A	src/libjasper/jpc/jpc_mqcod.c
A	src/libjasper/jpc/jpc_mqcod.h
A	src/libjasper/jpc/jpc_mqdec.c
A	src/libjasper/jpc/jpc_mqdec.h
A	src/libjasper/jpc/jpc_mqenc.c
A	src/libjasper/jpc/jpc_mqenc.h
A	src/libjasper/jpc/jpc_qmfb.c
A	src/libjasper/jpc/jpc_qmfb.h
A	src/libjasper/jpc/jpc_t1cod.c
A	src/libjasper/jpc/jpc_t1cod.h
A	src/libjasper/jpc/jpc_t1dec.c
A	src/libjasper/jpc/jpc_t1dec.h
A	src/libjasper/jpc/jpc_t1enc.c
A	src/libjasper/jpc/jpc_t1enc.h
A	src/libjasper/jpc/jpc_t2cod.c
A	src/libjasper/jpc/jpc_t2cod.h
A	src/libjasper/jpc/jpc_t2dec.c
A	src/libjasper/jpc/jpc_t2dec.h
A	src/libjasper/jpc/jpc_t2enc.c
A	src/libjasper/jpc/jpc_t2enc.h
A	src/libjasper/jpc/jpc_tagtree.c
A	src/libjasper/jpc/jpc_tagtree.h
A	src/libjasper/jpc/jpc_tsfb.c
A	src/libjasper/jpc/jpc_tsfb.h
A	src/libjasper/jpc/jpc_util.c
A	src/libjasper/jpc/jpc_util.h
A	src/libjasper/jpg/Makefile.am
A	src/libjasper/jpg/Makefile.in
A	src/libjasper/jpg/README
A	src/libjasper/jpg/jpg_cod.h
A	src/libjasper/jpg/jpg_dec.c
A	src/libjasper/jpg/jpg_dummy.c
A	src/libjasper/jpg/jpg_enc.c
A	src/libjasper/jpg/jpg_enc.h
A	src/libjasper/jpg/jpg_jpeglib.h
A	src/libjasper/jpg/jpg_val.c
A	src/libjasper/mif/Makefile.am
A	src/libjasper/mif/Makefile.in
A	src/libjasper/mif/README
A	src/libjasper/mif/mif_cod.c
A	src/libjasper/mif/mif_cod.h
A	src/libjasper/pgx/Makefile.am
A	src/libjasper/pgx/Makefile.in
A	src/libjasper/pgx/pgx_cod.c
A	src/libjasper/pgx/pgx_cod.h
A	src/libjasper/pgx/pgx_dec.c
A	src/libjasper/pgx/pgx_enc.c
A	src/libjasper/pgx/pgx_enc.h
A	src/libjasper/pnm/Makefile.am
A	src/libjasper/pnm/Makefile.in
A	src/libjasper/pnm/pnm_cod.c
A	src/libjasper/pnm/pnm_cod.h
A	src/libjasper/pnm/pnm_dec.c
A	src/libjasper/pnm/pnm_enc.c
A	src/libjasper/pnm/pnm_enc.h
A	src/libjasper/ras/Makefile.am
A	src/libjasper/ras/Makefile.in
A	src/libjasper/ras/ras_cod.c
A	src/libjasper/ras/ras_cod.h
A	src/libjasper/ras/ras_dec.c
A	src/libjasper/ras/ras_enc.c
A	src/libjasper/ras/ras_enc.h
A	src/msvc/Makefile.am
A	src/msvc/Makefile.in
A	src/msvc/README
A	src/msvc/imgcmp.dsp
A	src/msvc/imginfo.dsp
A	src/msvc/jasper.dsp
A	src/msvc/jasper.dsw
A	src/msvc/jiv.dsp
A	src/msvc/libjasper.dsp
