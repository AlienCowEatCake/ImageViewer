From 57cebf461516dc2843c05981d71f4585092a18b9 Mon Sep 17 00:00:00 2001
From: Peter Zhigalov <peter.zhigalov@gmail.com>
Date: Mon, 22 Jul 2019 04:32:20 +0700
Subject: [PATCH 1/9] Disable dumpLibraryInfo

---
 include/exiv2/version.hpp | 2 ++
 src/version.cpp           | 4 ++++
 2 files changed, 6 insertions(+)

diff --git a/include/exiv2/version.hpp b/include/exiv2/version.hpp
index d83e2596..9ca63e91 100644
--- a/include/exiv2/version.hpp
+++ b/include/exiv2/version.hpp
@@ -145,11 +145,13 @@ namespace Exiv2 {
       The fourth version number is designated a "tweak" an used by Release Candidates
     */
     EXIV2API bool testVersion(int major, int minor, int patch);
+#if 0
     /*!
       @brief dumpLibraryInfo implements the exiv2 option --version --verbose
              used by exiv2 test suite to inspect libraries loaded at run-time
      */
     EXIV2API void dumpLibraryInfo(std::ostream& os,const exv_grep_keys_t& keys);
+#endif
 }                                       // namespace Exiv2
 
 
diff --git a/src/version.cpp b/src/version.cpp
index faa80840..1fd0d574 100644
--- a/src/version.cpp
+++ b/src/version.cpp
@@ -56,6 +56,7 @@
 #define _MAX_PATH 512
 #endif
 
+#if 0
 // platform specific support for getLoadedLibraries
 #if defined(__CYGWIN__) || defined(__MINGW__) || defined(WIN32)
 # include <windows.h>
@@ -79,6 +80,7 @@
 # include <dlfcn.h>
 # include <link.h>
 #endif
+#endif
 
 namespace Exiv2 {
     int versionNumber()
@@ -111,6 +113,7 @@ namespace Exiv2 {
     }
 }   // namespace Exiv2
 
+#if 0
 static bool shouldOutput(const exv_grep_keys_t& greps,const char* key,const std::string& value)
 {
     bool bPrint = greps.empty();
@@ -575,3 +578,4 @@ void Exiv2::dumpLibraryInfo(std::ostream& os,const exv_grep_keys_t& keys)
     }
 #endif
 }
+#endif
-- 
2.39.2

